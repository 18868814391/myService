{"version":3,"sources":["webpack:///./src/view/Interaction/footprint.vue?94b1","webpack:///./src/view/Interaction/footprint.vue?93be","webpack:///src/view/Interaction/footprint.vue","webpack:///./src/view/Interaction/footprint.vue?8393","webpack:///./src/view/Interaction/footprint.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footprint_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_footprint_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","finished","immediate-check","finished-text","on","load","onLoad","model","value","callback","$$v","loading","expression","_l","item","index","key","click","$event","seleOne","staticStyle","color","_v","_s","Thename","updataTime","content","itm","ind","child","seleOne2","talkTo","replace","_e","directives","name","rawName","domProps","input","target","composing","confirm","staticRenderFns","footprintvue_type_script_lang_js_","components","_components","Object","defineProperty","es","data","footList","admin","start_page","pages","talkName","belong","created","self","$store","state","user","console","log","api","then","d","concat","length","total_page","catch","methods","indexOf","stArr","split","id","i","ddd","moment_default","format","time","window","location","reload","Interaction_footprintvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-484263bf.3a665be1.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"foot-page\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"immediate-check\":false,\"finished-text\":\"不要划拉划拉啦，已经没有了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.footList),function(item,index){return _c('div',{key:index,staticClass:\"foot-page-list\"},[_c('div',{staticClass:\"foot-page-list-head\"},[_c('span',{staticClass:\"foot-page-list-head-t1\",on:{\"click\":function($event){return _vm.seleOne(item)}}},[_c('span',{staticStyle:{\"color\":\"blue\"}},[_vm._v(_vm._s(item.Thename))]),_vm._v(\"说：\\n      \")]),_c('span',{staticClass:\"foot-page-list-head-t2\"},[_vm._v(_vm._s(item.updataTime))])]),_c('div',{staticClass:\"foot-page-list-con\"},[_c('div',[_vm._v(_vm._s(item.content))]),_vm._l((item.child),function(itm,ind){return (item.child[0])?_c('div',{key:ind,staticClass:\"foot-page-list-con-box\"},[_c('div',[_c('span',{staticStyle:{\"color\":\"blue\"},on:{\"click\":function($event){return _vm.seleOne2(itm,item)}}},[_vm._v(_vm._s(itm.Thename))]),_vm._v(\"\\n          对\\n          \"),_c('span',{staticStyle:{\"color\":\"blue\"},on:{\"click\":function($event){return _vm.seleOne2(itm,item)}}},[_vm._v(_vm._s(itm.talkTo))]),_vm._v(\"\\n          说：\\n        \")]),_c('div',[_vm._v(_vm._s(itm.content.replace(/(^\\s*)|(\\s*$)/g, \"\")))])]):_vm._e()})],2)])}),0),_c('div',{staticClass:\"inp-box\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"inp-box-txt\",domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}}),_c('div',{staticClass:\"inp-box-buttons\"},[_c('button',{on:{\"click\":_vm.confirm}},[_vm._v(\"提交\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"foot-page\">\r\n\r\n  <van-list\r\n    v-model=\"loading\"\r\n    :finished=\"finished\"\r\n    :immediate-check=\"false\"\r\n    finished-text=\"不要划拉划拉啦，已经没有了\"\r\n    @load=\"onLoad\"\r\n  > \r\n    <div class=\"foot-page-list\" v-for=\"(item,index) in footList\" :key=\"index\">\r\n      <div class=\"foot-page-list-head\">\r\n        <span class=\"foot-page-list-head-t1\" @click=\"seleOne(item)\">\r\n          <span style=\"color:blue\">{{item.Thename}}</span>说：\r\n        </span>\r\n        <span class=\"foot-page-list-head-t2\">{{item.updataTime}}</span>\r\n      </div>\r\n      <div class=\"foot-page-list-con\">\r\n        <div>{{item.content}}</div>\r\n        <div class=\"foot-page-list-con-box\" v-for=\"(itm,ind) in item.child\" :key=\"ind\" v-if=\"item.child[0]\">\r\n          <div>\r\n            <span style=\"color:blue\" @click=\"seleOne2(itm,item)\">{{itm.Thename}}</span>\r\n            对\r\n            <span style=\"color:blue\" @click=\"seleOne2(itm,item)\">{{itm.talkTo}}</span>\r\n            说：\r\n          </div>\r\n          <div>{{itm.content.replace(/(^\\s*)|(\\s*$)/g, \"\")}}</div>\r\n        </div>\r\n      </div>\r\n      <!-- <button class=\"for-del\">删除</button> -->\r\n    </div>\r\n  </van-list>  \r\n\r\n\r\n    <div class=\"inp-box\">\r\n      <textarea v-model=\"content\" class=\"inp-box-txt\"></textarea>\r\n      <div class=\"inp-box-buttons\">\r\n        <button @click=\"confirm\">提交</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Toast,List } from 'vant';\r\nimport {sendFoot,getFoot} from '@/api';\r\nimport moment from 'moment'\r\nexport default {\r\n  components: {\r\n    [Toast.name]: Toast,\r\n    [List.name]: List,   \r\n  },  \r\n  data(){\r\n    return{\r\n      loading:false,\r\n      finished:false, \r\n      footList:[],\r\n      content:'',\r\n      admin:'',\r\n      Thename:'',\r\n      start_page:0,\r\n      pages:7,\r\n      talkName:'',\r\n      talkTo:'',\r\n      belong:'',\r\n    }\r\n  },\r\n  created(){\r\n    const self=this;\r\n    this.admin=this.$store.state.user.admin;\r\n    this.Thename=this.$store.state.user.Thename;\r\n    console.log(this.admin,this.Thename);\r\n    getFoot({\r\n      start_page:self.start_page,\r\n      pages:self.pages,\r\n    }).then((d)=>{\r\n      self.start_page++;\r\n      console.log(d.data)\r\n      self.footList=self.footList.concat(d.data.data);\r\n        if(self.footList.length*1>=d.data.total_page*1){\r\n          self.finished=true;\r\n        }      \r\n    }).catch((d)=>{\r\n\r\n    })\r\n  },\r\n  methods:{\r\n    seleOne(d){\r\n      if(this.content.indexOf('说：')!=-1){\r\n        let stArr=this.content.split('说：');\r\n        this.content=stArr[1];        \r\n      }\r\n      this.talkName=d.Thename;\r\n      this.talkTo=d.Thename;\r\n      this.belong=d.id;\r\n      this.content='你对'+this.talkName+'说：'+'  '+this.content\r\n    },\r\n    seleOne2(d,i){\r\n      if(this.content.indexOf('说：')!=-1){\r\n        let stArr=this.content.split('说：');\r\n        this.content=stArr[1];        \r\n      }      \r\n      this.talkName=d.Thename;\r\n      this.talkTo=d.Thename;\r\n      this.belong=i.id;\r\n      this.content='你对'+this.talkName+'说：'+'  '+this.content\r\n    },\r\n    onLoad() {\r\n      const self=this;\r\n      getFoot({\r\n        start_page:self.start_page,\r\n        pages:self.pages,\r\n      }).then((d)=>{\r\n        self.start_page++;\r\n        self.loading=false;\r\n        self.footList=self.footList.concat(d.data.data);\r\n          if(self.footList.length*1>=d.data.total_page*1){\r\n            self.finished=true;\r\n          }      \r\n      }).catch((d)=>{\r\n\r\n      })\r\n    },   \r\n    confirm(){\r\n      if(!this.admin){\r\n        Toast('老铁，看到首页顶上那个蓝蓝的登陆注册按钮了吗？先去整一下吧。')\r\n        return false;\r\n      }\r\n      if(!this.content){\r\n        Toast('老铁，随便说点啥呗');\r\n        return false;\r\n      }\r\n      const self=this;\r\n      let ddd=moment().format('MMMM Do YYYY, h:mm:ss a');\r\n      if(this.talkTo){\r\n        let stArr=self.content.split('说：');\r\n        self.content=stArr[1];\r\n      }\r\n      sendFoot({\r\n        admin:self.admin,\r\n        Thename:self.Thename,\r\n        content:self.content,\r\n        time:ddd,\r\n        talkTo:self.talkTo,\r\n        belong:self.belong,\r\n      }).then((d)=>{\r\n        window.location.reload();\r\n      }).catch((d)=>{\r\n\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.foot-page{\r\n  padding-bottom:150px;\r\n  .foot-page-list{\r\n    width: 90%;\r\n    min-height: 50px;\r\n    box-sizing: border-box;\r\n    margin-bottom:15px; \r\n    border-radius:4px; \r\n    overflow: hidden;\r\n    box-shadow: 0 2px 2px 2px rgba(49, 49, 49, 0.2);\r\n    position: relative;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    margin-top:5px;\r\n    .foot-page-list-head{\r\n      width: 100%;\r\n      height: 20px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      background: lemonchiffon;\r\n      padding: 0 5px;\r\n      box-sizing: border-box;\r\n      .foot-page-list-head-t1{\r\n        font-size: 14px;\r\n      }\r\n      .foot-page-list-head-t2{\r\n        font-size: 10px;\r\n        color: #666;\r\n      }\r\n    }\r\n    .foot-page-list-con{\r\n      width: 100%;\r\n      min-height: 40px;\r\n      background: rgb(180, 219, 233);\r\n      padding: 0 10px;\r\n      box-sizing: border-box;\r\n      font-size: 14px;\r\n      .foot-page-list-con-box{\r\n        width: 80%;\r\n        min-height:20px;\r\n        background: rgb(193, 223, 233);\r\n        margin-left:20px; \r\n        font-size: 13px;\r\n      }\r\n    }\r\n  }\r\n  .inp-box{\r\n    width: 100%;\r\n    height: 100px;\r\n    padding: 15px;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    align-items: center;\r\n    background: lavender;\r\n    position: fixed;\r\n    bottom:0;\r\n    .inp-box-txt{\r\n      width: 80%;\r\n      height: 70px;\r\n      background: white;\r\n    }\r\n  }\r\n  .inp-box-buttons{\r\n    flex: 1;\r\n    height: 70px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n  }\r\n  .for-del{\r\n    font-size: 10px;\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./footprint.vue?vue&type=template&id=f2f17c22&\"\nimport script from \"./footprint.vue?vue&type=script&lang=js&\"\nexport * from \"./footprint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./footprint.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}