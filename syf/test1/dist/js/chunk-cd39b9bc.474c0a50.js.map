{"version":3,"sources":["webpack:///./src/pages/TeamSetting.vue?1864","webpack:///./src/pages/TeamSetting.vue?7e72","webpack:///src/pages/TeamSetting.vue","webpack:///./src/pages/TeamSetting.vue?89d8","webpack:///./src/pages/TeamSetting.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TeamSetting_vue_vue_type_style_index_0_id_1662288c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TeamSetting_vue_vue_type_style_index_0_id_1662288c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","left-options","backText","_v","_s","config","title","slot","inputType","enable","on","click","update","_e","ref","placeholder","placeHolder","disabled","max","model","value","callback","$$v","inputModel","expression","readonly","_l","item","index","key","value-align","nativeOn","$event","width","height","staticRenderFns","TeamSettingvue_type_script_lang_js_","data","computed","$store","state","teamSettingConfig","teamId","defaultValue","history","go","selects","map","utils","teamConfigMap","updateKey","list","hasOwnProperty","push","mounted","_this","setTimeout","$refs","input","focus","methods","_options","_this2","undefined","length","$toast","confirmCallback","dispatch","action","updateInfoInTeam","functionName","options","Object","defineProperty","error","team","pages_TeamSettingvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-cd39b9bc.474c0a50.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeamSetting.vue?vue&type=style&index=0&id=1662288c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeamSetting.vue?vue&type=style&index=0&id=1662288c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-inherit m-article p-setting\"},[_c('x-header',{staticClass:\"m-tab\",attrs:{\"left-options\":{backText: ' '}}},[_c('h1',{staticClass:\"m-tab-top\"},[_vm._v(_vm._s(_vm.config.title))]),_c('a',{attrs:{\"slot\":\"left\"},slot:\"left\"}),(_vm.config.inputType!==\"select\" && _vm.config.enable)?_c('a',{attrs:{\"slot\":\"right\"},on:{\"click\":function () { return _vm.update(); }},slot:\"right\"},[_vm._v(\"确定\")]):_vm._e()]),_c('group',[(_vm.config.inputType===\"text\")?_c('x-input',{ref:\"input\",attrs:{\"placeholder\":_vm.placeHolder,\"disabled\":!_vm.config.enable,\"max\":10},model:{value:(_vm.inputModel),callback:function ($$v) {_vm.inputModel=$$v},expression:\"inputModel\"}}):(_vm.config.inputType===\"textarea\")?_c('x-textarea',{ref:\"input\",attrs:{\"placeholder\":_vm.placeHolder,\"readonly\":!_vm.config.enable,\"max\":30},model:{value:(_vm.inputModel),callback:function ($$v) {_vm.inputModel=$$v},expression:\"inputModel\"}}):(_vm.config.inputType===\"select\")?_vm._l((_vm.selects),function(item,index){return _c('cell',{key:index,attrs:{\"value-align\":\"left\"},nativeOn:{\"click\":function($event){return (function () { return _vm.update(item.key); })($event)}}},[_vm._v(\"\\n      \"+_vm._s(item.value)+\"\\n      \"),(_vm.inputModel === item.key)?_c('span',{staticClass:\"icon-selected\",attrs:{\"slot\":\"child\",\"width\":\"25\",\"height\":\"25\"},slot:\"child\"}):_vm._e()])}):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class='g-inherit m-article p-setting'>\r\n    <x-header class=\"m-tab\" :left-options=\"{backText: ' '}\">\r\n      <h1 class=\"m-tab-top\">{{config.title}}</h1>\r\n      <a slot=\"left\"></a>\r\n      <a v-if='config.inputType!==\"select\" && config.enable' slot=\"right\" @click='() => update()'>确定</a>\r\n    </x-header>\r\n    <group>\r\n      <x-input  v-if='config.inputType===\"text\"' :placeholder=\"placeHolder\" v-model='inputModel' ref='input' :disabled='!config.enable' :max='10'></x-input>\r\n      <x-textarea v-else-if='config.inputType===\"textarea\"' :placeholder=\"placeHolder\" v-model=\"inputModel\" ref='input' :readonly='!config.enable' :max='30'></x-textarea>\r\n      <cell v-else-if='config.inputType===\"select\"' v-for=\"(item, index) in selects\" :key='index' value-align=\"left\" @click.native='() => update(item.key)'>\r\n        {{item.value}}\r\n        <span v-if='inputModel === item.key' slot='child' width=\"25\" height=\"25\" class='icon-selected'></span>\r\n      </cell>\r\n    </group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Utils from '../utils'\r\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      inputModel:'',\r\n      placeHolder: ''\r\n    }\r\n  },\r\n  computed: {\r\n    config(){\r\n      var config = this.$store.state.teamSettingConfig\r\n      if (!config.teamId) { // 在此页面刷新直接回到上一页\r\n        history.go(-1)\r\n        return\r\n      }\r\n      this.inputModel = config.defaultValue ? config.defaultValue : ''\r\n      this.placeHolder = config.placeHolder ? config.placeHolder : config.enable? '请输入':'无'\r\n      return config\r\n    },\r\n    selects(){\r\n      var map = Utils.teamConfigMap[this.config.updateKey]\r\n      var list = []\r\n      for (const key in map) {\r\n        if (map.hasOwnProperty(key)) {\r\n          list.push({'key':key, 'value': map[key]})\r\n        }\r\n      }\r\n      return list\r\n    }\r\n  },\r\n  mounted() {\r\n    // 立即focus会引起切页时白屏，故增加timeout\r\n    setTimeout(() => {\r\n      this.$refs.input && this.$refs.input.focus()\r\n    }, 500);\r\n  },\r\n  methods:{\r\n    update(value){\r\n      if (value===undefined && this.inputModel.length < 1) {\r\n        this.$toast('请输入内容后提交')\r\n        return\r\n      }\r\n      var callback = this.config.confirmCallback\r\n      if(callback && typeof callback === 'function') {\r\n        callback(this.config.teamId, this.config.updateKey, value? value: this.inputModel)\r\n        return\r\n      }\r\n      this.$store.dispatch('showLoading')\r\n      var action = this.config.updateInfoInTeam? 'updateInfoInTeam' : 'updateTeam'\r\n      this.$store.dispatch('delegateTeamFunction',{\r\n        functionName: action,\r\n        options: {\r\n          teamId: this.config.teamId,\r\n          [this.config.updateKey]: value ? value: this.inputModel,\r\n          done: (error, team)=>{\r\n            this.$store.dispatch('hideLoading')\r\n            if(error) {\r\n              this.$toast(error)\r\n            }else{\r\n              this.$toast('更改成功')\r\n              setTimeout(() => {\r\n                history.go(-1)\r\n              }, 200);\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .p-setting{\r\n    background-color: #e6ebf0;\r\n    padding-top: 4.6rem;\r\n  }\r\n  .weui-cell{\r\n    background-color: white;\r\n  }\r\n  .select {\r\n    img{\r\n      position: absolute;\r\n      right: 0;\r\n    }\r\n  }\r\n  .icon-selected{\r\n    display: inline-block;\r\n    width: 1.4rem;\r\n    height: 1.4rem;\r\n    background-size: 20rem;\r\n    background-image: url(http://yx-web.nos.netease.com/webdoc/h5/im/icons.png);\r\n    background-position: -3.7rem -2.95rem;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeamSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeamSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TeamSetting.vue?vue&type=template&id=1662288c&scoped=true&\"\nimport script from \"./TeamSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./TeamSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TeamSetting.vue?vue&type=style&index=0&id=1662288c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1662288c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}