(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-666ff67d"],{"1ea9":function(t,s,e){},"6ab3":function(t,s,e){"use strict";e.r(s);var a,c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"g-inherit m-article p-search-user"},[e("div",{staticClass:"Chat-nav"},[e("div",{on:{click:t.onClickBack}},[t._v("返回")]),e("div",{staticClass:"SearchUserButtons"},[e("div",{staticClass:"SearchUserBi",class:0==t.searchType?"seleB":"",on:{click:function(s){return t.seleButton(0)}}},[t._v("搜索用户")]),e("div",{staticClass:"SearchUserBi",class:1==t.searchType?"seleB":"",on:{click:function(s){return t.seleButton(1)}}},[t._v("搜索群")])]),e("div")]),e("van-cell-group",{staticClass:"u-search"},[e("van-search",{ref:"searchInput",staticClass:"u-ipt-default",attrs:{type:"text",placeholder:0===t.searchType?"请输入搜索内容":"请输入群号","show-action":""},model:{value:t.searchText,callback:function(s){t.searchText=s},expression:"searchText"}})],1),e("div",[e("van-button",{attrs:{size:"large",type:"primary"},nativeOn:{click:function(s){return t.searchUser(s)}}},[t._v("搜索")])],1),e("van-cell-group",{staticClass:"u-card u-list"},t._l(t.searchList,function(s,a){return 0===t.searchType?e("van-cell",{key:s.account,staticClass:"u-list-item",attrs:{title:s.nick,"inline-desc":s.account,userId:a,"is-link":"",to:s.link}},[e("img",{staticClass:"icon",attrs:{slot:"icon",width:"20",src:s.avatar},slot:"icon"})]):t._l(t.searchList,function(t){return e("van-cell",{key:t.teamId,staticClass:"u-list-item",attrs:{title:t.name,"is-link":"",to:t.link}},[e("img",{staticClass:"icon",attrs:{slot:"icon",width:"20",src:t.avatar},slot:"icon"})])})}),1),e("div",{staticClass:"u-card"},[e("h3",[t._v(t._s(t.errMsg))])])],1)},r=[],i=e("e814"),n=e.n(i),h=e("bd86"),o=(e("7f7f"),e("f61f")),u=e("b970"),l={components:(a={},Object(h["a"])(a,u["b"].name,u["b"]),Object(h["a"])(a,u["c"].name,u["c"]),Object(h["a"])(a,u["a"].name,u["a"]),Object(h["a"])(a,u["k"].name,u["k"]),a),mounted:function(){var t=this;this.$nextTick(function(){t.searchType=n()(t.$route.params.searchType),t.$store.dispatch("resetSearchResult")}),setTimeout(function(){t.$refs.searchInput.$refs.input.focus()},500)},data:function(){return{searchType:0,searchText:"",searchList:[],errMsg:"",firstEntry:!0}},watch:{searchResult:function(t,s){0!==t.length||this.firstEntry?this.errMsg="":this.errMsg="无记录",this.searchList=t},searchType:function(){this.$refs.searchInput.$refs.input.focus()}},computed:{searchResult:function(){var t=[];return 1===this.searchType?t=this.$store.state.searchedTeams.map(function(t){return t.avatar=t.avatar||o["a"].defaultUserIcon,t.link="/teamcard/".concat(t.teamId),t}):0===this.searchType&&(t=this.$store.state.searchedUsers.map(function(t){return t.nick=t.nick||t.account,t.link="/namecard/".concat(t.account),t.avatar=t.avatar||o["a"].defaultUserIcon,t})),t}},methods:{onClickBack:function(){window.history.go(-1)},seleButton:function(t){this.searchType=t},searchUser:function(){if(this.searchText)if(this.firstEntry=!1,1===this.searchType){if(!/^(\d){4,9}$/.test(this.searchText))return void this.$toast("输入的群号非法");this.$store.dispatch("searchTeam",{teamId:this.searchText})}else 0===this.searchType&&(this.searchText===this.$store.state.userUID?(this.searchList=[],this.errMsg="别看了，就是你自己！"):this.$store.dispatch("searchUsers",{accounts:[this.searchText]}));else this.$toast("未输入内容")}}},f=l,d=(e("f3f5"),e("2877")),p=Object(d["a"])(f,c,r,!1,null,null,null);s["default"]=p.exports},f3f5:function(t,s,e){"use strict";var a=e("1ea9"),c=e.n(a);c.a}}]);
//# sourceMappingURL=chunk-666ff67d.20e83c06.js.map