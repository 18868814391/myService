(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64769e7a"],{"1b11":function(t,o,a){},3107:function(t,o,a){"use strict";var r=a("7386"),s=a.n(r);s.a},"70f2":function(t,o,a){},7386:function(t,o,a){},a080:function(t,o,a){"use strict";var r=a("e4b6"),s=a.n(r);s.a},bd3f:function(t,o,a){"use strict";a.r(o);var r=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"g-inherit m-room p-room-chat"},[a("div",{staticClass:"m-room-album"},[a("div",{staticClass:"img-wraper"},[a("img",{staticClass:"room-img",attrs:{src:t.chatroomInfo.album}})]),a("span",{staticClass:"left-arrow",on:{click:t.enterHall}})]),a("div",{staticClass:"m-room-tabs"},[a("span",{staticClass:"u-tab",class:{active:1===t.roomType},on:{click:function(o){return t.changeRoomType(1)}}},[t._v("\n      直播互动\n    ")]),a("span",{staticClass:"u-tab",class:{active:2===t.roomType},on:{click:function(o){return t.changeRoomType(2)}}},[t._v("\n      主播\n    ")]),a("span",{staticClass:"u-tab",class:{active:3===t.roomType},on:{click:function(o){return t.changeRoomType(3)}}},[t._v("\n      在线成员\n    ")])]),a("div",{staticClass:"m-room-container"},[a("div",{staticClass:"room-cnt"},[1===t.roomType?a("room-chat-list"):t._e(),2===t.roomType?a("room-chat-actor"):t._e(),3===t.roomType?a("room-chat-member"):t._e()],1)])])},s=[],e=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"m-chat-main p-room-chat-list"},[a("chat-list",{attrs:{type:"chatroom",chatroomId:t.chatroomId,msglist:t.msglist},on:{"msgs-loaded":t.msgsLoaded}}),a("chat-editor",{attrs:{type:"chatroom",chatroomId:t.chatroomId}})],1)},c=[],n=a("6e4e"),i=a("ef1a"),m=a("ed08"),u=a("5def"),h={components:{ChatEditor:n["a"],ChatList:i["a"]},mounted:function(){u["a"].scrollChatListDown()},updated:function(){u["a"].scrollChatListDown()},data:function(){return{}},computed:{chatroomId:function(){var t=this.$route.params.chatroomId;return t},msglist:function(){var t=this.$store.state.currChatroomMsgs;return t}},methods:{msgsLoaded:function(){u["a"].scrollChatListDown()}}},l=h,f=(a("3107"),a("2877")),d=Object(f["a"])(l,e,c,!1,null,"ab299dea",null),p=d.exports,v=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"p-room-chat-actor"},[a("div",{staticClass:"actor-info"},[a("span",{staticClass:"actor-avatar"},[a("img",{attrs:{src:t.chatroomActor.avatar}})]),a("span",{staticClass:"actor-status"},[a("h3",[t._v("主播： "+t._s(t.chatroomActor.nick||t.chatroomActor.account)+" ")]),a("p",[a("span",[t._v("\n          在线："+t._s(t.chatroomInfo.onlineMemberNum)+"\n        ")])])])]),a("div",{staticClass:"actor-notice"},[a("h3",[t._v("公告：")]),a("p",[t._v("\n      "+t._s(t.chatroomNotice)+"\n    ")])])])},C=[],b=a("f61f"),y={mounted:function(){this.$store.dispatch("getChatroomInfo")},computed:{chatroomInfo:function(){var t=this.$store.state.currChatroomInfo;return t.showTime=m["a"].formatDate(t.createTime),t},chatroomNotice:function(){return this.chatroomInfo.announcement||"暂无公告"},chatroomActor:function(){if(this.chatroomInfo){var t=this.chatroomInfo.actor||{};return t.avatar=t.avatar||b["a"].defaultUserIcon,t}return{}}}},g=y,I=(a("c674"),Object(f["a"])(g,v,C,!1,null,null,null)),w=I.exports,_=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"p-room-chat-online"},[a("group",{staticClass:"u-list"},t._l(t.chatroomMembers,function(t,o){return a("cell",{key:t.account,staticClass:"u-list-item",attrs:{title:t.nick||t.account,"inline-desc":t.showType}},[a("img",{staticClass:"icon",attrs:{slot:"icon",width:"24",src:t.avatar},slot:"icon"})])}),1)],1)},T=[],$={mounted:function(){this.$store.dispatch("getChatroomMembers")},destroyed:function(){this.$store.dispatch("clearChatroomMembers")},computed:{chatroomMembers:function(){return this.$store.state.currChatroomMembers.map(function(t){switch(t.avatar?/\?imageView/.test(t.avatar)||(t.avatar+="?imageView&thumbnail=40x40&quality=85"):t.avatar=b["a"].defaultUserIcon,t.type){case"owner":t.showType="群主";break;case"manager":t.showType="管理员";break;case"common":case"normal":t.showType="普通成员";break;case"restricted":t.showType="受限制";break;case"guest":t.showType="游客";break}return t})}}},k=$,M=(a("cde3"),Object(f["a"])(k,_,T,!1,null,null,null)),R=M.exports,L={beforeMount:function(){this.$store.state.isRefresh?location.href="#/room":this.$store.dispatch("connect",{type:"chatroom",chatroomId:this.chatroomId})},destroyed:function(){this.$store.dispatch("resetChatroomSDK",this.chatroomId)},components:{RoomChatList:p,RoomChatMember:R,RoomChatActor:w},data:function(){return{roomType:1}},computed:{chatroomId:function(){var t=this.$route.params.chatroomId;return t},chatroomInfo:function(){return this.$store.state.chatroomInfos[this.chatroomId]||{}}},methods:{changeRoomType:function(t){this.roomType=t},enterHall:function(){location.href="#/room"}}},x=L,A=(a("a080"),Object(f["a"])(x,r,s,!1,null,null,null));o["default"]=A.exports},c674:function(t,o,a){"use strict";var r=a("70f2"),s=a.n(r);s.a},cde3:function(t,o,a){"use strict";var r=a("1b11"),s=a.n(r);s.a},e4b6:function(t,o,a){}}]);
//# sourceMappingURL=chunk-64769e7a.e2bcd37f.js.map