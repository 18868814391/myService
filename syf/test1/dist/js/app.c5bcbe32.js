!function(r){function e(e){for(var t,n,a=e[0],o=e[1],s=e[2],c=0,i=[];c<a.length;c++)n=a[c],f[n]&&i.push(f[n][0]),f[n]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t]);for(l&&l(e);i.length;)i.shift()();return m.push.apply(m,s||[]),u()}function u(){for(var e,t=0;t<m.length;t++){for(var n=m[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==f[s]&&(a=!1)}a&&(m.splice(t--,1),e=h(h.s=n[0]))}return e}var n={},d={app:0},f={app:0},m=[];function h(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,h),t.l=!0,t.exports}h.e=function(m){var e=[];d[m]?e.push(d[m]):0!==d[m]&&{"chunk-16f932ec":1,"chunk-263f7506":1,"chunk-2dfd7466":1,"chunk-321576c8":1,"chunk-40bcb8c8":1,"chunk-426f1d88":1,"chunk-44155956":1,"chunk-666ff67d":1,"chunk-6a82f1ca":1,"chunk-716a2376":1,"chunk-771dc3a6":1,"chunk-79aa06b7":1,"chunk-7d403269":1,"chunk-8163e59a":1,"chunk-a73e19ea":1,"chunk-ac6f9626":1,"chunk-b2cf3d7a":1,"chunk-cd39b9bc":1,"chunk-e4dbe8ea":1,"chunk-3395744e":1,"chunk-c12077d2":1,"chunk-64769e7a":1,"chunk-6d357cfc":1,"chunk-1a4912b7":1,"chunk-1ec9674a":1,"chunk-28ac5158":1,"chunk-2a52e2fc":1,"chunk-4e8bbd50":1,"chunk-52b6f99a":1,"chunk-42c67d5c":1,"chunk-4947c5c2":1,"chunk-50d2da58":1,"chunk-530ce530":1,"chunk-5be6bfbf":1,"chunk-5ecef65f":1,"chunk-7044a42a":1,"chunk-763815dd":1,"chunk-9128c356":1}[m]&&e.push(d[m]=new Promise(function(e,a){for(var t="css/"+({}[m]||m)+"."+{"chunk-16f932ec":"73e4a8cb","chunk-263f7506":"6f8fbd9b","chunk-2d0d6f9e":"31d6cfe0","chunk-2d0e921d":"31d6cfe0","chunk-2d2223f4":"31d6cfe0","chunk-2dfd7466":"04d6e3e0","chunk-321576c8":"36e8a270","chunk-40bcb8c8":"fe1b20d9","chunk-426f1d88":"d6c9f7bf","chunk-44155956":"5a90f779","chunk-666ff67d":"d269c772","chunk-6a82f1ca":"7a2fb18c","chunk-716a2376":"d2dd0ec0","chunk-771dc3a6":"01c46b91","chunk-79aa06b7":"0f5f0a65","chunk-7d403269":"3920e7af","chunk-8163e59a":"16d2c701","chunk-a73e19ea":"38e784dd","chunk-ac6f9626":"61370aab","chunk-b2cf3d7a":"f22da3ed","chunk-cd39b9bc":"443e9c26","chunk-e4dbe8ea":"4aab4bcd","chunk-3395744e":"5f1d44be","chunk-c12077d2":"c1778aac","chunk-64769e7a":"e88b03ac","chunk-6d357cfc":"745ecaf1","chunk-e8f5e4a6":"31d6cfe0","chunk-03d20be1":"31d6cfe0","chunk-1a4912b7":"2ffd4725","chunk-1ec9674a":"e11c9ab2","chunk-28ac5158":"0bd371ef","chunk-2a52e2fc":"ed9f66c5","chunk-2abbcf86":"31d6cfe0","chunk-4e8bbd50":"42acb075","chunk-52b6f99a":"42acb075","chunk-42c67d5c":"f151dccd","chunk-4947c5c2":"d8fde6f8","chunk-50d2da58":"2eaf3e2e","chunk-530ce530":"52e5a53a","chunk-5be6bfbf":"c2865bd4","chunk-5ecef65f":"ce63121b","chunk-7044a42a":"f549b19e","chunk-763815dd":"9d1d8fc8","chunk-9128c356":"364035e7"}[m]+".css",o=h.p+t,n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var c=n[s],i=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(i===t||i===o))return e()}var r=document.getElementsByTagName("style");for(s=0;s<r.length;s++)if((i=(c=r[s]).getAttribute("data-href"))===t||i===o)return e();var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=e,u.onerror=function(e){var t=e&&e.target&&e.target.src||o,n=new Error("Loading CSS chunk "+m+" failed.\n("+t+")");n.request=t,delete d[m],u.parentNode.removeChild(u),a(n)},u.href=o,document.getElementsByTagName("head")[0].appendChild(u)}).then(function(){d[m]=0}));var t,n=f[m];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise(function(e,t){n=f[m]=[e,t]});e.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,h.nc&&s.setAttribute("nonce",h.nc),s.src=h.p+"js/"+({}[t=m]||t)+"."+{"chunk-16f932ec":"df9fa20f","chunk-263f7506":"cb24d8e1","chunk-2d0d6f9e":"5d688a0a","chunk-2d0e921d":"d9ac4d87","chunk-2d2223f4":"5f976b10","chunk-2dfd7466":"8b712e34","chunk-321576c8":"70116887","chunk-40bcb8c8":"cbdae38a","chunk-426f1d88":"ae4d1473","chunk-44155956":"319baaed","chunk-666ff67d":"4391ddb4","chunk-6a82f1ca":"2c6dd1e9","chunk-716a2376":"0648a020","chunk-771dc3a6":"0fb0e354","chunk-79aa06b7":"58d87e7d","chunk-7d403269":"34d651b8","chunk-8163e59a":"5e29c878","chunk-a73e19ea":"4197af18","chunk-ac6f9626":"572b10c8","chunk-b2cf3d7a":"2791eb4a","chunk-cd39b9bc":"ab0a86db","chunk-e4dbe8ea":"839c8f76","chunk-3395744e":"379e5f74","chunk-c12077d2":"327d21a4","chunk-64769e7a":"a56f5de9","chunk-6d357cfc":"bf8f286b","chunk-e8f5e4a6":"34cb30bf","chunk-03d20be1":"873ced52","chunk-1a4912b7":"0fb7f465","chunk-1ec9674a":"45723ecb","chunk-28ac5158":"ed285418","chunk-2a52e2fc":"424ea0e0","chunk-2abbcf86":"3b7a7139","chunk-4e8bbd50":"a86c2059","chunk-52b6f99a":"328b245d","chunk-42c67d5c":"1b0574d9","chunk-4947c5c2":"6e7a538c","chunk-50d2da58":"084f5cdd","chunk-530ce530":"52bf88b1","chunk-5be6bfbf":"7bd3fbf9","chunk-5ecef65f":"1ace250d","chunk-7044a42a":"686652c8","chunk-763815dd":"ca29f1f3","chunk-9128c356":"a598a1a5"}[t]+".js",o=function(e){s.onerror=s.onload=null,clearTimeout(c);var t=f[m];if(0!==t){if(t){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,o=new Error("Loading chunk "+m+" failed.\n("+n+": "+a+")");o.type=n,o.request=a,t[1](o)}f[m]=void 0}};var c=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(e)},h.m=r,h.c=n,h.d=function(e,t,n){h.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},h.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},h.t=function(t,e){if(1&e&&(t=h(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(h.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)h.d(n,a,function(e){return t[e]}.bind(null,a));return n},h.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(t,"a",t),t},h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},h.p="",h.oe=function(e){throw e};var t=window.webpackJsonp=window.webpackJsonp||[],a=t.push.bind(t);t.push=e,t=t.slice();for(var o=0;o<t.length;o++)e(t[o]);var l=a;m.push([0,"chunk-vendors"]),u()}({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},1739:function(e,t,n){"use strict";var a=n("af98");n.n(a).a},"1ce2":function(e,t,n){"use strict";var a=n("4263");n.n(a).a},4263:function(e,t,n){},4360:function(e,t,n){"use strict";var a=n("2b0e"),o=n("2f62"),s={state:{},mutations:{},actions:{}},c=n("5f87"),i={state:{Thename:Object(c.a)(),admin:Object(c.b)(),showTabNav:!0},mutations:{SET_NAME:function(e,t){e.Thename=t},SET_ADMIN:function(e,t){e.admin=t},SET_showTabNav:function(e,t){e.showTabNav=t}},actions:{SetThename:function(e,t){(0,e.commit)("SET_NAME",t.Thename)},Setadmin:function(e,t){(0,e.commit)("SET_ADMIN",t.admin)},SetTabNav:function(e,t){(0,e.commit)("SET_showTabNav",t.shownav)}}},r={Thename:function(e){return e.user.Thename},admin:function(e){return e.user.admin},showTabNav:function(e){return e.users.showTabNav}},u=n("75fc"),m=(n("20d6"),n("5176")),d=n.n(m),f=(n("7514"),n("a745")),h=n.n(f),l=(n("55dd"),n("4aa6")),p=n.n(l),g=(n("ac6a"),n("f3e4")),b=n("ed08"),v=n("f61f"),k={updateRefreshState:function(e){e.isRefresh=!1},updateLoading:function(e,t){clearTimeout(e.loadingTimer),e.loadingTimer=setTimeout(function(){e.isLoading=t},20)},updateFullscreenImage:function(e,t){(t=t||{}).src&&"show"===t.type?(e.fullscreenImgSrc=t.src,e.isFullscreenImgShow=!0):"hide"===t.type&&(e.fullscreenImgSrc=" ",e.isFullscreenImgShow=!1)},updateUserUID:function(e,t){e.userUID=t.uid,e.sdktoken=t.sdktoken,g.a.setCookie("uid",t.uid),g.a.setCookie("sdktoken",t.sdktoken)},updateMyInfo:function(e,t){e.myInfo=b.a.mergeObject(e.myInfo,t)},updateUserInfo:function(e,t){var n=e.userInfos;t.forEach(function(e){var t=e.account;t&&(n[t]=b.a.mergeObject(n[t],e))}),e.userInfos=b.a.mergeObject(e.userInfos,n)},updateFriends:function(e,t){2<arguments.length&&void 0!==arguments[2]&&arguments[2];var n=e.nim;e.friendslist=n.mergeFriends(e.friendslist,t),e.friendslist=n.cutFriends(e.friendslist,t.invalid)},updateRobots:function(t,e){var n=t.nim;e=e.map(function(e){return e.avatar?(e.originAvatar=e.avatar,e.avatar=n.viewImageSync({url:e.avatar,thumbnail:{width:40,height:40,mode:"cover"}})):e.avatar=v.a.defaultUserIcon,e}),t.robotslist=e,t.robotInfos=p()(null),e.forEach(function(e){t.robotInfos[e.account]=e,t.robotInfosByNick[e.nick]=e})},updateBlacklist:function(e,t){var n=e.nim;e.blacklist=n.cutFriends(e.blacklist,t.invalid);var a=t.filter(function(e){return!0===e.isBlack}),o=t.filter(function(e){return!1===e.isBlack});e.blacklist=n.mergeFriends(e.blacklist,a),e.blacklist=n.cutFriends(e.blacklist,o)},updateSearchlist:function(e,t){switch(t.type){case"user":0!==t.list.length||0!==e.searchedUsers.length?e.searchedUsers=t.list:e.searchedUsers=[];break;case"team":0!==t.list.length||0!==e.searchedTeams.length?e.searchedTeams=t.list:e.searchedTeams=[]}},updateSessions:function(t,e){var n=t.nim;t.sessionlist=n.mergeSessions(t.sessionlist,e),t.sessionlist.sort(function(e,t){return t.updateTime-e.updateTime}),t.sessionlist.forEach(function(e){t.sessionMap[e.id]=e})},deleteSessions:function(e,t){var n=e.nim;e.sessionlist=n.cutSessionsByIds(e.sessionlist,t)},updateMsgs:function(n,e){var a=n.nim,o={};for(var t in e.forEach(function(e){var t=e.sessionId;o[t]=!0,n.msgs[t]||(n.msgs[t]=[]),n.msgs[t]=a.mergeMsgs(n.msgs[t],[e])}),ue.commit("updateMsgByIdClient",e),o)n.msgs[t].sort(function(e,t){if(e.time===t.time&&"robot"===e.type&&"robot"===t.type){if(e.content&&e.content.msgOut)return 1;if(t.content&&t.content.msgOut)return-1}return e.time-t.time}),t===n.currSessionId&&ue.commit("updateCurrSessionMsgs",{type:"init"})},putMsg:function(e,t){var n=t.sessionId;e.msgs[n]||(e.msgs[n]=[]),ue.commit("updateMsgByIdClient",t);var a=e.msgs[n],o=a.length-1;if(0===a.length||t.time>=a[o].time)a.push(t);else for(var s=o;0<=s;s--){var c=a[s];if(t.time>=c.time){e.msgs[n].splice(s,0,t);break}}},deleteMsg:function(e,t){var n=t.sessionId,a=e.msgs[n];if(a&&0!==a.length)for(var o=a.length-1;0<=o;o--){var s=a[o];if(t.idClient===s.idClient){e.msgs[n].splice(o,1);break}}},replaceMsg:function(e,t){var n=t.sessionId,a=t.idClient,o=t.msg,s=e.msgs[n];if(s&&0!==s.length)for(var c=s.length-1;0<=c;c--){var i=s[c];if(a===i.idClient){e.msgs[n].splice(c,1,o);break}}},updateMsgByIdClient:function(t,e){h()(e)||(e=[e]);var n=(new Date).getTime();e.forEach(function(e){e.idClient&&n-e.time<3e5&&(t.msgsMap[e.idClient]=e)})},updateCurrSessionId:function(e,t){var n=t.type||"";"destroy"===n?e.currSessionId=null:"init"===n&&t.sessionId&&t.sessionId!==e.currSessionId&&(e.currSessionId=t.sessionId)},updateCurrSessionMsgs:function(t,e){var n=e.type||"";if("destroy"===n)t.currSessionMsgs=[],t.currSessionLastMsg=null,ue.commit("updateCurrSessionId",{type:"destroy"});else if("init"===n){if(t.currSessionId){var a=t.currSessionId,o=[].concat(t.msgs[a]||[]),s=v.a.localMsglimit,c=o.length;0<c-s?(t.currSessionLastMsg=o[c-s],o=o.slice(c-s,c)):t.currSessionLastMsg=0<c?o[0]:null,t.currSessionMsgs=[];var i=0;o.forEach(function(e){3e5<e.time-i&&(i=e.time,t.currSessionMsgs.push({type:"timeTag",text:b.a.formatDate(e.time,!1)})),t.currSessionMsgs.push(e)}),ue.dispatch("checkTeamMsgReceipt",t.currSessionMsgs)}}else if("put"===n){var r=e.msg,u=0,m=t.currSessionMsgs.length;0<m&&(u=t.currSessionMsgs[m-1].time),r&&(3e5<r.time-u&&t.currSessionMsgs.push({type:"timeTag",text:b.a.formatDate(r.time,!1)}),t.currSessionMsgs.push(r),ue.dispatch("checkTeamMsgReceipt",[r]))}else if("concat"===n){var d=[],f=0;e.msgs.forEach(function(e){3e5<e.time-f&&(f=e.time,d.push({type:"timeTag",text:b.a.formatDate(e.time,!1)})),d.push(e)}),d.reverse(),d.forEach(function(e){t.currSessionMsgs.unshift(e)}),e.msgs[0]&&(t.currSessionLastMsg=e.msgs[0]),ue.dispatch("checkTeamMsgReceipt",d)}else if("replace"===n){var h=t.currSessionMsgs.length;if(0<h)for(var l=h-1;0<=l;l--)if(t.currSessionMsgs[l].idClient===e.idClient){t.currSessionMsgs.splice(l,1,e.msg);break}}},updateSysMsgs:function(e,t){var n=e.nim;h()(t)||(t=[t]),t=t.map(function(e){return e.showTime=b.a.formatDate(e.time,!1),e}),e.sysMsgs=[].concat(n.mergeSysMsgs(e.sysMsgs,t)),Vue.set(e,t,e.sysMsgs)},updateSysMsgState:function(e,t){var n=e.sysMsgs.find(function(e){return e.idServer===t.idServer});n&&(n.state=t.state)},updateSysMsgUnread:function(e,t){e.sysMsgUnread=d()({},t)},updateCustomSysMsgs:function(e,t){e.nim,h()(t)||(t=[t]),t=t.map(function(e){return e.showTime=b.a.formatDate(e.time,!1),e}),e.customSysMsgs=e.customSysMsgs.concat(t),Vue.set(e,t,e.customSysMsgs),ue.commit("updateCustomSysMsgUnread",{type:"add",unread:t.length})},updateCustomSysMsgUnread:function(e,t){var n=t.type,a=t.unread;switch(n){case"reset":e.customSysMsgUnread=a||0;break;case"add":e.customSysMsgUnread+=a}},resetSysMsgs:function(e,t){switch(t.type){case 0:e.sysMsgs=[];break;case 1:e.customSysMsgs=[],ue.commit("updateCustomSysMsgUnread",{type:"reset"})}},deleteSysMsgs:function(e,t){var n=t.type,a=t.idServer,o=0===n?e.sysMsgs:e.customSysMsgs;o=o.filter(function(e){return e.idServer!==a}),Vue.set(e,"sysMsgs",o)},setNoMoreHistoryMsgs:function(e){e.noMoreHistoryMsgs=!0},resetNoMoreHistoryMsgs:function(e){e.noMoreHistoryMsgs=!1},continueRobotMsg:function(e,t){e.continueRobotAccid=t},initChatroomInfos:function(e,t){e.chatroomInfos=t},setCurrChatroom:function(e,t){e.currChatroomId=t,e.currChatroom=e.chatroomInsts[t],e.currChatroomMsgs=[],e.currChatroomInfo={},e.currChatroomMembers=[]},resetCurrChatroom:function(e){e.currChatroomId=null,e.currChatroom=null,e.currChatroomMsgs=[],e.currChatroomInfo={},e.currChatroomMembers=[]},updateChatroomInfo:function(e,t){e.currChatroomInfo=d()(e.currChatroomInfo,t)},updateCurrChatroomMsgs:function(t,e){var n=d()({},e),a=n.type,o=n.msgs;if("put"===a)o.forEach(function(e){e.chatroomId===t.currChatroomId&&o.forEach(function(e){t.currChatroomMsgs.push(e)})});else if("concat"===a){var s=e.msgs;s.reverse(),s.forEach(function(e){t.currSessionMsgs.unshift(e)}),e.msgs[0]&&(t.currSessionLastMsg=e.msgs[0])}},getChatroomInfo:function(e,t){e.currChatroomInfo=t},updateChatroomMembers:function(t,e){var n=e.type,a=e.members;"destroy"===n?t.currChatroomMembers=[]:"put"===n&&a.forEach(function(e){e.online&&t.currChatroomMembers.push(e)})},updateTeamList:function(e,t){var n=e.nim;ue.state.teamlist=n.mergeTeams(ue.state.teamlist,t),ue.state.teamlist=n.cutTeams(ue.state.teamlist,t.invalid)},updateTeamMembers:function(e,t){var n=e.nim,a=t.teamId,o=t.members;e.teamMembers=e.teamMembers||{},e.teamMembers[a]=n.mergeTeamMembers(e.teamMembers[a],o),e.teamMembers[a]=n.cutTeamMembers(e.teamMembers[a],o.invalid),e.teamMembers[a].sort(function(e,t){return"owner"===e.type||"owner"===t.type?"owner"===e.type?-1:1:"manager"===e.type||"manager"===t.type?"manager"===e.type?-1:"manager"===t.type?1:0:-1}),e.teamMembers=d()({},e.teamMembers)},removeTeamMembersByAccounts:function(e,t){var n=t.teamId,a=t.accounts;void 0!==e.teamMembers[n]&&(e.teamMembers[n]=e.teamMembers[n].filter(function(e,t){return-1===a.indexOf(e.account)}),e.teamMembers=d()({},e.teamMembers))},updateTeamInfo:function(e,t){var n=e.teamlist.findIndex(function(e){return e.teamId===t.teamId});if(-1!==n)for(var a in t)"teamId"!==a&&t.hasOwnProperty(a)&&t[a]&&(e.teamlist[n][a]=t[a])},updateTeamSettingConfig:function(e,t){e.teamSettingConfig=t},updateSentReceipedMap:function(e,t){var n;if(t&&!(t.length<1)){var a=t[0].teamId;e.sentReceipedMap[a]||(e.sentReceipedMap[a]=[]),(n=e.sentReceipedMap[a]).push.apply(n,Object(u.a)(t.map(function(e){return e.idServer})))}},updateReceiptQueryList:function(e,t){e.currReceiptQueryTeamId!==t.teamId&&(e.receiptQueryList=[],e.teamMsgReads=[],e.currReceiptQueryTeamId=t.teamId);var n,a=t.msgs.filter(function(t){return t.needMsgReceipt&&t.from===e.myInfo.account&&!e.receiptQueryList.find(function(e){return e.idServer===t.idServer})}).map(function(e){return{teamId:t.teamId,idServer:e.idServer}});0<a.length&&(n=e.receiptQueryList).push.apply(n,Object(u.a)(a)),0<a.length&&ue.dispatch("getTeamMsgReads",a)},updateTeamMsgReads:function(e,t){var n;(n=e.teamMsgReads).push.apply(n,Object(u.a)(t.teamMsgReceipts))},updateSingleTeamMsgReads:function(e,t){e.teamMsgReads.forEach(function(e){e.idServer===t.idServer&&(e.unread=t.unread,e.read=t.read)});var n=e.teamMsgReadsDetail.unreadAccounts,a=n.findIndex(function(e){return e===t.account});0<=a&&(n.splice(a,1),e.teamMsgReadsDetail.readAccounts.push(t.account))},initMsgReceiptDetail:function(e,t){e.teamMsgReadsDetail.readAccounts=t.readAccounts,e.teamMsgReadsDetail.unreadAccounts=t.unreadAccounts}},y=n("5def");function M(e){var t=ue.state.nim,n="";switch(e.gender){case"male":n="男";break;case"female":n="女";break;case"unknown":n=""}var a=e.custom||"";try{a=JSON.parse(a)}catch(e){a={data:a}}return e.avatar?e.avatar=t.viewImageSync({url:e.avatar,thumbnail:{width:40,height:40,mode:"cover"}}):e.avatar=v.a.defaultUserIcon,d()(e,{account:e.account,nick:e.nick||"",avatar:e.avatar||v.a.defaultUserIcon,birth:e.birth||"",email:e.email||"",tel:e.tel||"",gender:n,sign:e.sign||"",custom:a,createTime:e.createTime||(new Date).getTime(),updateTime:e.updateTime||(new Date).getTime()})}function I(e){var t=M(e=b.a.mergeObject(ue.state.myInfo,e));ue.commit("updateMyInfo",t)}function w(e){h()(e)||(e=[e]),e=e.map(M),ue.commit("updateUserInfo",e)}function S(e){e=e.map(function(e){return"boolean"!=typeof e.isFriend&&(e.isFriend=!0),e}),ue.commit("updateFriends",e),ue.commit("updateUserInfo",e)}function T(e,n){e?alert(e):(h()(n)||(n=[n]),n=n.map(function(e){return"boolean"!=typeof e.isFriend&&(e.isFriend=!0),e}),ue.dispatch("searchUsers",{accounts:n.map(function(e){return e.account}),done:function(e){var t=ue.state.nim;n=t.mergeFriends(n,e).map(M),ue.commit("updateFriends",n),ue.commit("updateUserInfo",n)}}))}function C(e,t){e?alert(e):(h()(t)||(t=[t]),t=t.map(function(e){return e.isFriend=!1,e}),ue.commit("updateFriends",[],t),ue.commit("updateUserInfo",t))}function R(e){switch(e.type){case"addFriend":T(null,e.friend);break;case"applyFriend":break;case"passFriendApply":alert("你在其它端通过了一个好友申请"+e.account+", 附言"+e.ps),T(null,e.friend);break;case"rejectFriendApply":break;case"deleteFriend":C(null,{account:e.account});break;case"updateFriend":T(null,e.friend)}}function x(e){ue.commit("updateRobots",e)}function L(e){e=e.map(function(e){return"boolean"!=typeof e.isBlack&&(e.isBlack=!0),e}),ue.commit("updateBlacklist",e),ue.commit("updateFriends",e),ue.commit("updateUserInfo",e)}function N(e){var t=(e=e||obj2).account;t===ue.state.userUID||"boolean"==typeof e.isAdd&&L([{account:t,isBlack:e.isAdd}])}function P(e){var t=[];e.forEach(function(e){"p2p"===e.scene&&(ue.state.userInfos[e.to]||t.push(e.to))}),0<t.length&&ue.dispatch("searchUsers",{accounts:t})}function D(e){P(e),ue.commit("updateSessions",e)}function A(e){var t=[e];P(t),ue.commit("updateSessions",t)}n("a481");var U=n("f499"),E=n.n(U);function F(e){var t=ue.state.nim;return"robot"===e.type&&e.content&&"bot"===e.content.flag&&e.content.message&&(e.content.message=e.content.message.map(function(e){switch(e.type){case"template":e.content=t.parseRobotTemplate(e.content)}return e})),e}function j(e){var t=e.msgs.map(function(e){return F(e)});ue.commit("updateMsgs",t)}function O(e){var t=e.msgs.map(function(e){return F(e)});ue.commit("updateMsgs",t)}function _(e){e=F(e),ue.commit("putMsg",e),e.sessionId===ue.state.currSessionId&&(ue.commit("updateCurrSessionMsgs",{type:"put",msg:e}),ue.dispatch("sendMsgReceipt")),"team"===e.scene&&"notification"===e.type&&ue.dispatch("onTeamNotificationMsg",e)}function B(e,t){ue.dispatch("hideLoading"),e&&(7101===e.code&&(t.status="success"),alert(e.message)),_(t)}function $(e,a){var t=ue.state.nim;if(e)508===e.code?alert("发送时间超过2分钟的消息，不能被撤回"):alert(e);else{var n="";if(a.from===ue.state.userUID)n="你撤回了一条消息";else{var o=ue.state.userInfos[a.from];n=o?"".concat(b.a.getFriendAlias(o),"撤回了一条消息"):"对方撤回了一条消息"}t.sendTipMsg({isLocal:!0,scene:a.scene,to:a.to,tip:n,time:a.time,done:function(e,t){var n=a.deletedIdClient||a.idClient;ue.commit("replaceMsg",{sessionId:a.sessionId,idClient:n,msg:t}),a.sessionId===ue.state.currSessionId&&ue.commit("updateCurrSessionMsgs",{type:"replace",idClient:n,msg:t})}})}}function H(e){ue.commit("updateSysMsgs",e)}function V(e){switch(e.type){case"addFriend":T(null,{account:e.from}),ue.commit("updateSysMsgs",[e]);break;case"deleteFriend":C(null,{account:e.from});break;case"deleteMsg":"p2p"===e.scene?e.sessionId="p2p-".concat(e.from):e.sessionId="team-".concat(e.to),$(null,e);break;case"teamInvite":case"applyTeam":case"rejectTeamApply":case"rejectTeamInvite":ue.commit("updateSysMsgs",[e])}ue.commit("updateSysMsgState",e)}function K(e){ue.commit("updateSysMsgUnread",e)}function Q(e){h()(e)||(e=[e]),0<(e=e.filter(function(e){if("custom"===e.type&&e.content)try{if(JSON.parse(e.content).id+""=="1")return!1}catch(e){}return!0})).length&&ue.commit("updateCustomSysMsgs",e)}function Y(e){h()(e)||(e=[e]),(e=e.filter(function(e){return!!e})).forEach(function(e){void 0===e.validToCurrentUser&&(e.validToCurrentUser=!0),e.avatar&&0<e.avatar.indexOf("nim.nosdn.127")&&-1===e.avatar.indexOf("?imageView")&&(e.avatar=e.avatar+"?imageView&thumbnail=300y300")}),ue.commit("updateTeamList",e)}function q(e){ue.commit("updateTeamMembers",e)}function G(e){Y(e),q({teamId:e.teamId,members:[]})}function W(e){Y(e)}function J(e){ue.commit("updateTeamList",{invalid:{teamId:e.teamId}})}function X(e){Y(e)}function z(t){t.accounts.forEach(function(e){e===ue.state.userUID&&Y([t.team])}),q({teamId:t.team.teamId,members:t.members})}function Z(t){t.accounts.forEach(function(e){e===ue.state.userUID&&(t.team.validToCurrentUser=!1,Y([t.team]))}),ue.commit("removeTeamMembersByAccounts",{teamId:t.team.teamId,accounts:t.accounts})}function ee(e){q({teamId:e.teamId,members:e})}function te(e){q({teamId:e.team.teamId,members:e.members})}function ne(e){q({teamId:e.team.teamId,members:e.members})}function ae(e){e.teamMsgReceipts.forEach(function(e){e.teamId===ue.state.currReceiptQueryTeamId&&ue.commit("updateSingleTeamMsgReads",e)})}function oe(e){h()(e)||(e=[e]),e=e.map(function(e){return F(e)}),ue.state.currChatroomId&&ue.commit("updateCurrChatroomMsgs",{type:"put",msgs:e})}function se(e,t){ue.dispatch("hideLoading"),e?alert(e.message):oe([t])}function ce(e,n){var t=ue.state.currChatroom;t&&t.getChatroomMembers({guest:e,limit:100,done:function(e,t){e?alert(e.message):n(t)}})}var ie={updateRefreshState:function(e){(0,e.commit)("updateRefreshState")},showLoading:function(e){e.state,(0,e.commit)("updateLoading",!0)},hideLoading:function(e){e.state,(0,e.commit)("updateLoading",!1)},showFullscreenImg:function(e,t){e.state;var n=e.commit;t&&(t.type="show",n("updateFullscreenImage",t))},hideFullscreenImg:function(e){e.state,(0,e.commit)("updateFullscreenImage",{type:"hide"})},continueRobotMsg:function(e,t){(0,e.commit)("continueRobotMsg",t)},connect:function(e,t){var n,a,o,s,c,i,r=d()({},t).type;switch(r=r||"nim"){case"nim":!function(e,t){var n=e.state,a=(e.commit,e.dispatch),o=d()({},t).force;if(!n.nim||o){var s={uid:g.a.readCookie("uid"),sdktoken:g.a.readCookie("sdktoken")};s.uid?a("initNimSDK",s):y.a.turnPage("无历史登录记录，请重新登录","login")}}(e,t);break;case"chatroom":a=t,o=(n=e).state,n.commit,s=n.dispatch,c=d()({},a).chatroomId,(i=o.nim)&&(s("showLoading"),i.getChatroomAddress({chatroomId:c,done:function(e,t){if(e)return alert(e.message),void(location.href="#/room");s("initChatroomSDK",t)}}))}},logout:function(e){var t=e.state;e.commit,g.a.delCookie("uid"),g.a.delCookie("sdktoken"),t.nim&&t.nim.disconnect(),y.a.turnPage("","login")},initNimSDK:function(e,t){var n=e.state,a=e.commit,o=e.dispatch;n.nim&&n.nim.disconnect(),o("showLoading"),window.nim=n.nim=SDK.NIM.getInstance({debug:!0,appKey:v.a.appkey,account:t.uid,token:t.sdktoken,transports:["websocket"],db:v.a.useDb,syncSessionUnread:!0,syncRobots:!0,autoMarkRead:!0,onconnect:function(e){t&&a("updateUserUID",t)},onerror:function(e){alert("网络连接状态异常"),location.href=v.a.loginUrl},onwillreconnect:function(){},ondisconnect:function(e){switch(e.code){case 302:y.a.turnPage("帐号或密码错误","login");break;case"kicked":var t=e.from,n="你的帐号于".concat(b.a.formatDate(new Date),"被").concat({PC:"电脑版",Web:"网页版",Android:"手机版",iOS:"手机版",WindowsPhone:"手机版"}[t]||"其他端","踢出下线，请确定帐号信息安全!");y.a.turnPage(n,"login")}},onblacklist:L,onsyncmarkinblacklist:N,onfriends:S,onsyncfriendaction:R,onrobots:x,onmyinfo:I,onupdatemyinfo:I,onusers:w,onupdateuser:w,onteams:Y,onsynccreateteam:W,syncTeams:!0,onteammembers:q,onCreateTeam:G,onDismissTeam:J,onUpdateTeam:X,onAddTeamMembers:z,onRemoveTeamMembers:Z,onUpdateTeamManagers:ne,onupdateteammember:ee,onUpdateTeamMembersMute:te,onTeamMsgReceipt:ae,onsessions:D,onupdatesession:A,onroamingmsgs:j,onofflinemsgs:O,onmsg:_,onsysmsg:V,onofflinesysmsgs:H,onupdatesysmsg:V,onsysmsgunread:K,onupdatesysmsgunread:K,onofflinecustomsysmsgs:Q,oncustomsysmsg:Q,onsyncdone:function(){o("hideLoading"),ue.state.currSessionId&&o("setCurrSession",ue.state.currSessionId)}}),window.nim.useDb=v.a.useDb},resetSearchResult:function(e){e.state;var t=e.commit;t("updateSearchlist",{type:"user",list:[]}),t("updateSearchlist",{type:"team",list:[]})},searchUsers:function(e,t){var a=e.state,o=e.commit,n=t.accounts,s=t.done,c=a.nim;h()(n)||(n=[n]),c.getUsers({accounts:n,done:function(e,t){if(e)alert(e);else{o("updateSearchlist",{type:"user",list:t});var n=t.filter(function(e){var t=e.account;return e.account!==a.userUID&&!(a.userInfos[t]||{}).isFriend});n=n.map(function(e){return M(e)}),o("updateUserInfo",n),s instanceof Function&&s(t)}}})},updateBlack:function(e,t){var n=e.state,a=t.account,o=t.isBlack,s=n.nim;a&&"boolean"==typeof o&&s.markInBlacklist({account:a,isAdd:o,done:function(e,t){e?alert(e):N(t)}})},addFriend:function(e,t){var n=e.state;(e.commit,n.nim).addFriend({account:t,ps:"",done:T})},deleteFriend:function(e,t){var n=e.state;(e.commit,n.nim).deleteFriend({account:t,done:C})},updateFriend:function(e,t){var n=e.state;(e.commit,n.nim).updateFriend({account:t.account,alias:t.alias,done:T})},deleteSession:function(e,n){var t=e.state,a=e.commit,o=t.nim,s=null,c=null;/^p2p-/.test(n=n||"")?(s="p2p",c=n.replace(/^p2p-/,"")):/^team-/.test(n)&&(s="team",c=n.replace(/^team-/,"")),c&&s&&o.deleteSession({scene:s,to:c,done:function(e,t){e?alert(e):o.deleteLocalSession({id:n,done:function(e,t){e?alert(e):a("deleteSessions",[n])}})}})},setCurrSession:function(e,t){var n=e.state,a=e.commit,o=e.dispatch,s=n.nim;t&&(a("updateCurrSessionId",{type:"init",sessionId:t}),s&&(s.setCurrSession(t),a("updateCurrSessionMsgs",{type:"init",sessionId:t}),o("sendMsgReceipt")))},resetCurrSession:function(e){var t=e.state,n=e.commit;t.nim.resetCurrSession(),n("updateCurrSessionMsgs",{type:"destroy"})},sendMsg:function(e,t){var n=e.state,a=(e.commit,n.nim),o=(t=t||{}).type||"";switch(ue.dispatch("showLoading"),o){case"text":a.sendText({scene:t.scene,to:t.to,text:t.text,done:B,needMsgReceipt:t.needMsgReceipt||!1});break;case"custom":a.sendCustomMsg({scene:t.scene,to:t.to,pushContent:t.pushContent,content:E()(t.content),done:B})}},sendFileMsg:function(e,t){var n=e.state,a=(e.commit,n.nim),o=t.type,s=t.fileInput;!o&&s&&(o="file",/\.(png|jpg|bmp|jpeg|gif)$/i.test(s.value)?o="image":/\.(mov|mp4|ogg|webm)$/i.test(s.value)&&(o="video")),ue.dispatch("showLoading");var c=d()({type:o,uploadprogress:function(e){},uploaderror:function(){s.value="",console},uploaddone:function(e,t){s.value=""},beforesend:function(e){},done:function(e,t){B(e,t)}},t);a.sendFile(c)},sendRobotMsg:function(e,t){var n=e.state,a=(e.commit,n.nim),o=t.type,s=t.scene,c=t.to,i=t.robotAccid,r=t.content,u=t.params,m=t.target,d=t.body;s=s||"p2p","text"===o?a.sendRobotMsg({scene:s,to:c,robotAccid:i||c,content:{type:"text",content:r},body:d,done:B}):"welcome"===o?a.sendRobotMsg({scene:s,to:c,robotAccid:i||c,content:{type:"welcome"},body:d,done:B}):"link"===o&&a.sendRobotMsg({scene:s,to:c,robotAccid:i||c,content:{type:"link",params:u,target:m},body:d,done:B})},sendMsgReceipt:function(e){var t=e.state,n=(e.commit,ue.state.currSessionId);if(n&&"p2p"===b.a.parseSession(n).scene){ue.state.currSessionMsgs;var a=t.nim;t.sessionMap[n]&&a.sendMsgReceipt({msg:t.sessionMap[n].lastMsg,done:function(e,t){}})}},revocateMsg:function(e,t){var n=e.state,a=(e.commit,n.nim),o=t.idClient;t=d()(t,n.msgsMap[o]),a.deleteMsg({msg:t,done:function(e){$(e,t)}})},updateLocalMsg:function(e,t){var n=e.state;e.commit,ue.commit("updateCurrSessionMsgs",{type:"replace",idClient:t.idClient,msg:t}),n.nim.updateLocalMsg({idClient:t.idClient,localCustom:t.localCustom}),ue.commit("replaceMsg",{sessionId:t.sessionId,idClient:t.idClient,msg:t})},getHistoryMsgs:function(e,t){var n=e.state,a=e.commit,o=n.nim;if(o){var s={scene:t.scene,to:t.to,reverse:!1,asc:!0,limit:v.a.localMsglimit||20,done:function(e,t){if(t.msgs)if(0===t.msgs.length)a("setNoMoreHistoryMsgs");else{var n=t.msgs.map(function(e){return F(e)});a("updateCurrSessionMsgs",{type:"concat",msgs:n})}ue.dispatch("hideLoading")}};n.currSessionLastMsg&&(s=d()(s,{lastMsgId:n.currSessionLastMsg.idServer,endTime:n.currSessionLastMsg.time})),ue.dispatch("showLoading"),o.getHistoryMsgs(s)}},resetNoMoreHistoryMsgs:function(e){(0,e.commit)("resetNoMoreHistoryMsgs")},markSysMsgRead:function(e,t){var n,a=e.state,o=(e.commit,a.nim);n=t&&t.sysMsgs?t.sysMsgs:a.sysMsgs,h()(n)&&0<n.length&&o.markSysMsgRead({sysMsgs:n,done:function(e,t){}})},markCustomSysMsgRead:function(e){e.state,(0,e.commit)("updateCustomSysMsgUnread",{type:"reset"})},resetSysMsgs:function(e,t){e.state,(0,e.commit)("resetSysMsgs",t)},deleteSysMsgs:function(e,t){(0,e.commit)("deleteSysMsgs",t)},initChatroomSDK:function(e,t){var n=e.state,a=e.commit,o=e.dispatch,s=t.chatroomId,c=t.address;s&&c?n.chatroomInsts[s]?n.chatroomInsts[s].connect():n.chatroomInsts[s]=SDK.Chatroom.getInstance({appKey:v.a.appkey,account:n.userUID,token:n.sdktoken,transports:["websocket"],chatroomId:s,chatroomAddresses:c,onconnect:function(e){o("hideLoading"),a("setCurrChatroom",s)},onerror:function(e,t){o("hideLoading"),e&&(alert("网络连接状态异常"),location.href="#/room")},onwillreconnect:function(e){},ondisconnect:function(e){if(o("hideLoading"),e)switch(e.code){case 302:break;case 13003:alert("抱歉，你已被主播拉入了黑名单"),location.href="#/room";break;case"kicked":"managerKick"===e.reason?(alert("你已被管理员移出聊天室"),location.href="#/room"):"blacked"===e.reason&&(alert("你已被管理员拉入黑名单，不能再进入"),location.href="#/room")}},onmsgs:oe}):alert("没有聊天室地址")},initChatroomInfos:function(e,t){e.state,(0,e.commit)("initChatroomInfos",t)},resetChatroomSDK:function(e,t){var n=e.state,a=e.commit;if(e.dispatch,t)n.chatroomInsts[t].disconnect();else for(var o in n.chatroomInsts)n.chatroomInsts[o].disconnect();a("resetCurrChatroom")},sendChatroomMsg:function(e,t){var n=e.state,a=(e.commit,n.currChatroom),o=(t=t||{}).type||"";switch(ue.dispatch("showLoading"),o){case"text":a.sendText({text:t.text,done:se});break;case"custom":a.sendCustomMsg({content:E()(t.content),pushContent:t.pushContent,done:se})}},sendChatroomRobotMsg:function(e,t){var n=e.state,a=(e.commit,n.currChatroom),o=t.type,s=t.robotAccid,c=t.content,i=t.params,r=t.target,u=t.body;"text"===o?a.sendRobotMsg({robotAccid:s,content:{type:"text",content:c},body:u,done:se}):"welcome"===o?a.sendRobotMsg({robotAccid:s,content:{type:"welcome"},body:u,done:se}):"link"===o&&a.sendRobotMsg({robotAccid:s,content:{type:"link",params:i,target:r},body:u,done:se})},sendChatroomFileMsg:function(e,t){var n=e.state,a=(e.commit,n.currChatroom),o=d()({},t).fileInput,s="file";/\.(png|jpg|bmp|jpeg|gif)$/i.test(o.value)?s="image":/\.(mov|mp4|ogg|webm)$/i.test(o.value)&&(s="video"),ue.dispatch("showLoading"),a.sendFile({type:s,fileInput:o,uploadprogress:function(e){},uploaderror:function(){o.value="",console},uploaddone:function(e,t){o.value=""},beforesend:function(e){},done:function(e,t){se(e,t)}})},getChatroomHistoryMsgs:function(e,t){var n=e.state,a=e.commit;if(n.currChatroom){var o={timetag:d()({},t).timetag,limit:v.a.localMsglimit||20,done:function(e,t){if(t.msgs)if(0===t.msgs.length)a("setNoMoreHistoryMsgs");else{var n=t.msgs.map(function(e){return F(e)});a("updateCurrChatroomMsgs",{type:"concat",msgs:n})}ue.dispatch("hideLoading")}};ue.dispatch("showLoading"),nim.getHistoryMsgs(o)}},getChatroomInfo:function(e){var t=e.state,a=e.commit,o=(e.dispatch,t.currChatroom);o&&o.getChatroom({done:function(e,n){if(e)alert(e.message);else{var t=(n=n.chatroom||{creator:""}).creator;o.getChatroomMembersInfo({accounts:[t],done:function(e,t){e?alert(e.message):a("getChatroomInfo",d()(n,{actor:t.members[0]}))}})}}})},getChatroomMembers:function(e){e.state;var t=e.commit;e.dispatch,ce(!1,function(e){t("updateChatroomMembers",d()(e,{type:"put"})),ce(!0,function(e){t("updateChatroomMembers",d()(e,{type:"put"}))})})},clearChatroomMembers:function(e){e.state,(0,e.commit)("updateChatroomMembers",{type:"destroy"})},searchTeam:function(e,t){var n=e.state,a=e.commit,o=t.teamId,s=t.done;n.nim.getTeam({teamId:o,done:function(e,t){if(e){if(803!==e.code)return void alert(e);t=[]}h()(t)||(t=[t]),t.forEach(function(e){e.avatar&&0<e.avatar.indexOf("nim.nosdn.127")&&-1===e.avatar.indexOf("?imageView")&&(e.avatar=e.avatar+"?imageView&thumbnail=300y300")}),a("updateSearchlist",{type:"team",list:t}),s instanceof Function&&s(t)}})},delegateTeamFunction:function(e,t){var n=e.state,a=t.functionName,o=t.options,s=n.nim;if(!a||!s[a]||"function"!=typeof s[a])throw"There is not property of '".concat(a,"' in nim or '").concat(a,"' is not a function");s[a](o)},onTeamNotificationMsg:function(e,t){e.state,e.commit,"updateTeam"===t.attach.type&&t.attach.team&&ue.commit("updateTeamInfo",t.attach.team),"transferTeam"===t.attach.type&&q({teamId:t.attach.team.teamId,members:t.attach.members})},enterSettingPage:function(e,t){(0,e.commit)("updateTeamSettingConfig",t),setTimeout(function(){location.href="#/teamsetting"},20)},getTeamMembers:function n(e,a){var t=e.state.nim;t?t.getTeamMembers({teamId:a,done:function(e,t){t.members?q({teamId:t.teamId,members:t.members}):setTimeout(function(){n(ue,a)},200)}}):setTimeout(function(){n(ue,a)},200)},checkTeamMsgReceipt:function(e,t){var n=e.state,a=/team-(\d+)/.exec(n.currSessionId);if(!a)return null;var o,s,c,i,r=a[1],u=(s=r,c=t,i=(o=n).sentReceipedMap[s]||[],c.filter(function(t){return t.needMsgReceipt&&t.from!==o.myInfo.account&&!i.find(function(e){return e===t.idServer})}).map(function(e){return{teamId:s,idServer:e.idServer}}));u&&0<u.length&&nim.sendTeamMsgReceipt({teamMsgReceipts:u,done:function(e,t,n){e||ue.commit("updateSentReceipedMap",u)}}),ue.commit("updateReceiptQueryList",{teamId:r,msgs:t})},getTeamMsgReads:function(e,t){e.state,nim.getTeamMsgReads({teamMsgReceipts:t,done:function(e,t,n){e||ue.commit("updateTeamMsgReads",n)}})}};a.default.use(o.a);var re=new o.a.Store({modules:{app:s,user:i},getters:r,state:{isLoading:!0,isRefresh:!0,isFullscreenImgShow:!1,fullscreenImgSrc:"",transitionName:"forward",nim:null,userUID:null,myInfo:{},userInfos:{},userSubscribes:{},friendslist:[],robotslist:[],robotInfos:{},robotInfosByNick:{},blacklist:[],teamlist:[],teamMembers:{},muteTeamIds:[],teamSettingConfig:{},sentReceipedMap:{},currReceiptQueryTeamId:null,receiptQueryList:[],teamMsgReads:[],teamMsgReadsDetail:{readAccounts:[],unreadAccounts:[]},msgs:{},msgsMap:{},sessionlist:[],sessionMap:{},currSessionId:null,currSessionMsgs:[],noMoreHistoryMsgs:!1,continueRobotAccid:"",sysMsgs:[],customSysMsgs:[],sysMsgUnread:{total:0},customSysMsgUnread:0,searchedUsers:[],searchedTeams:[],chatroomInsts:{},chatroomInfos:{},chatroomMsgs:{},currChatroom:null,currChatroomId:null,currChatroomMsgs:[],currChatroomInfo:{},currChatroomMembers:[]},mutations:k,actions:ie,plugins:[]}),ue=t.a=re},"56d7":function(e,t,n){"use strict";n.r(t),n("cadf"),n("551c"),n("f751"),n("097d");var a,o=n("2b0e"),s=n("bfb3"),i=n.n(s),c=n("e814"),r=n.n(c),u=n("5f87"),m={computed:{isLoading:function(){return this.$store.state.isLoading}}},d=n("2877"),f=(Object(d.a)(m,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.isLoading,expression:"isLoading"}]},[t("div",{staticClass:"weui-mask_transparent"}),this._m(0)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-toast",staticStyle:{position:"absolute"}},[t("i",{staticClass:"weui-loading weui-icon_toast"}),t("p",{staticClass:"weui-toast__content"},[this._v("加载中")])])}],!1,null,null,null).exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-fullscreen",class:{active:t.showImg},on:{click:function(e){return e.stopPropagation(),t.hideFullscreenImg(e)}}},[n("div",{staticClass:"chat-mask"}),n("div",{ref:"chatImg",staticClass:"chat-image"})])}),h={watch:{isFullscreenImgShow:function(e,t){var n=this,a=this.$refs.chatImg;if(!0===e){a.innerHTML="";var o=new Image;o.src=this.$store.state.fullscreenImgSrc,o.alt="图片尺寸较大，正在加载中...",o.onload=function(){a.appendChild(o),n.showImg=e}}else n.showImg=!1,a.innerHTML=""}},data:function(){return{showImg:!1}},computed:{isFullscreenImgShow:function(){return this.$store.state.isFullscreenImgShow}},methods:{hideFullscreenImg:function(){this.$store.dispatch("hideFullscreenImg")}}},l=((n("1739"),Object(d.a)(h,f,[],!1,null,null,null)).exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"session-nav g-header"},[n("div",[n("router-link",{attrs:{to:{name:"session"}}},[e._v("最近会话")])],1),n("div",[n("router-link",{attrs:{to:{name:"contacts"}}},[e._v("通讯录")])],1),n("div",[n("router-link",{attrs:{to:{name:"room"}}},[e._v("直播间")])],1),n("div",[n("router-link",{attrs:{to:{name:"general"}}},[e._v("设置")])],1)])}),p=n("bd86"),g=(n("7f7f"),n("b970")),b={components:(a={},Object(p.a)(a,g.l.name,g.l),Object(p.a)(a,g.m.name,g.m),a),data:function(){return{}},computed:{route:function(){return this.$store.getters.route}},methods:{changePage:function(e){}}},v=(n("1ce2"),Object(d.a)(b,l,[],!1,null,null,null)).exports,k=(n("f3e4"),n("5def")),y=window.sessionStorage,M={name:"app",data:function(){return{admin:Object(u.b)(),Thename:Object(u.a)(),transitionName:"forward",position:{x:0,y:0},nx:"",ny:"",dx:"",dy:"",xPum:"",yPum:"",x:"",y:""}},watch:{$route:function(e,t){if(e&&t){var n=e.path,a=t.path,o=r()(y.getItem("count"));if(i()(o))o=1,this.transitionName="forward";else{o+=1;var s=r()(y.getItem(a)),c=r()(y.getItem(n));c<s&&s<o&&!k.a.showNav(a)?(this.transitionName="backward",o=c):this.transitionName="forward",k.a.showNav(n)&&(o=1)}y.setItem(n,o),y.setItem("count",o)}}},updated:function(){},components:{NavBar:v},computed:{showNav:function(){return k.a.showNav(this.$route.path)}},created:function(){this.admin=this.$store.state.user.admin,this.Thename=this.$store.state.user.Thename},mounted:function(){var e=document.querySelector("#pic");this.w=document.documentElement.clientWidth||document.body.clientWidth,this.h=document.documentElement.clientHeight||document.body.clientHeight,this.x=e.offsetWidth,this.y=e.offsetHeight,e.addEventListener("touchstart",this.down,{passive:!1}),e.addEventListener("touchmove",this.move,{passive:!1})},methods:{goLogin:function(){this.$router.push({path:"/login"})},goRegister:function(){this.$router.push({path:"/register"})},golevel:function(){this.$router.push({path:"/level"})},down:function(){var e,t=document.querySelector("#pic");e=event.touches?event.touches[0]:event,this.position.x=e.clientX,this.position.y=e.clientY,this.dx=t.offsetLeft,this.dy=t.offsetTop},move:function(){var e,t=document.querySelector("#pic");e=event.touches?event.touches[0]:event,event.preventDefault(),this.nx=e.clientX-this.position.x,this.ny=e.clientY-this.position.y,this.xPum=this.dx+this.nx,this.yPum=this.dy+this.ny,this.xPum=0<this.xPum?this.xPum:0,this.yPum=0<this.yPum?this.yPum:0,this.xPum=this.xPum>this.w-this.x?this.w-this.x:this.xPum,this.yPum=this.yPum>this.h-this.y?this.h-this.y:this.yPum,t.style.left=this.xPum+"px",t.style.top=this.yPum+"px"}}},I=(n("5c0b"),Object(d.a)(M,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-page",attrs:{id:"app"}},[!t.admin&&this.$store.state.user.showTabNav?n("div",{staticClass:"app-head"},[n("div",{on:{click:t.goLogin}},[t._v("login")]),n("div",{on:{click:t.goRegister}},[t._v("register")])]):t._e(),t.admin&&this.$store.state.user.showTabNav?n("div",{staticClass:"app-head"},[t._v("\n       欢迎你啊！"+t._s(t.Thename)),n("span",{on:{click:t.golevel}},[t._v("更多权限")])]):t._e(),n("transition",{attrs:{name:"fade"}},[t.$route.meta.noAnima?n("router-view"):t._e()],1),n("nav-bar",{directives:[{name:"show",rawName:"v-show",value:t.showNav,expression:"showNav"}]}),n("transition",{attrs:{name:t.transitionName}},[t.$route.meta.noAnima?t._e():n("router-view")],1),n("div",{staticClass:"app-home",attrs:{id:"pic"},on:{click:function(e){return t.$router.push("/index")}}},[n("div",[t._v("首页")])])],1)},[],!1,null,null,null)).exports,w=n("8c4f");o.default.use(w.a);var S=[{path:"*",redirect:"/index",meta:{title:"商品结算",noAnima:!0}},{path:"/login",name:"login",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-7044a42a")]).then(n.bind(null,"0ba6"))},meta:{title:"登录",noAnima:!0}},{path:"/register",name:"register",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-42c67d5c")]).then(n.bind(null,"3d01"))},meta:{title:"注册",noAnima:!0}},{path:"/level",name:"level",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-50d2da58")]).then(n.bind(null,"88d7"))},meta:{title:"权限",noAnima:!0}},{path:"/index",name:"index",component:function(){return n.e("chunk-a73e19ea").then(n.bind(null,"b533"))},meta:{title:"syf",noAnima:!0}},{path:"/upLoad",name:"upLoad",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-2abbcf86"),n.e("chunk-4e8bbd50")]).then(n.bind(null,"e6a9"))},meta:{title:"上传",noAnima:!0}},{path:"/blogUpload",name:"blogUpload",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-2abbcf86"),n.e("chunk-52b6f99a")]).then(n.bind(null,"275d"))},meta:{title:"BLOG上传",noAnima:!0}},{path:"/blog",name:"blog",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-1ec9674a")]).then(n.bind(null,"7064"))},meta:{title:"BLOG",noAnima:!0}},{path:"/readBlog",name:"readBlog",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-763815dd")]).then(n.bind(null,"c3ca"))},meta:{title:"MyBLOG",noAnima:!0}},{path:"/myfile",name:"myfile",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-530ce530")]).then(n.bind(null,"131e"))},meta:{title:"文件夹",noAnima:!0}},{path:"/read",name:"read",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-5ecef65f")]).then(n.bind(null,"5dd0"))},meta:{title:"浏览",noAnima:!0}},{path:"/readPage",name:"readPage",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-1a4912b7")]).then(n.bind(null,"3340"))},meta:{title:"浏览",noAnima:!0}},{path:"/readPage2",name:"readPage2",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-5be6bfbf")]).then(n.bind(null,"f371"))},meta:{title:"浏览",noAnima:!0}},{path:"/readPage3",name:"readPage3",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-28ac5158")]).then(n.bind(null,"8294"))},meta:{title:"浏览",noAnima:!0}},{path:"/im",name:"im",component:function(){return n.e("chunk-2dfd7466").then(n.bind(null,"4502"))},meta:{title:"im"}},{path:"/map",name:"map",component:function(){return n.e("chunk-426f1d88").then(n.bind(null,"1692"))},meta:{title:"map"}},{path:"/music",name:"music",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-9128c356")]).then(n.bind(null,"228f"))},meta:{title:"music"}},{path:"/anime",name:"anime",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-2a52e2fc")]).then(n.bind(null,"ed90"))},meta:{title:"anime"}},{path:"/animeDetail",name:"animeDetail",component:function(){return Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-4947c5c2")]).then(n.bind(null,"4359"))},meta:{title:"animeDetail"}},{path:"/login2",name:"login2",component:function(t){n.e("chunk-b2cf3d7a").then(function(){var e=[n("4e7a")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/register2",name:"register2",component:function(t){n.e("chunk-2d2223f4").then(function(){var e=[n("ce95")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/session",name:"session",component:function(t){n.e("chunk-ac6f9626").then(function(){var e=[n("ad09")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/sysmsgs",name:"sysmsgs",component:function(t){n.e("chunk-44155956").then(function(){var e=[n("a78b")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/chat/:sessionId",name:"chat",component:function(t){Promise.all([n.e("chunk-e4dbe8ea"),n.e("chunk-c12077d2"),n.e("chunk-6d357cfc")]).then(function(){var e=[n("ab55")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/chathistory/:sessionId",name:"chathistory",component:function(t){Promise.all([n.e("chunk-e4dbe8ea"),n.e("chunk-3395744e")]).then(function(){var e=[n("e7ee")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/room",name:"room",component:function(t){Promise.all([n.e("chunk-e8f5e4a6"),n.e("chunk-03d20be1")]).then(function(){var e=[n("9a03")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/roomChat/:chatroomId",name:"roomChat",component:function(t){Promise.all([n.e("chunk-e4dbe8ea"),n.e("chunk-c12077d2"),n.e("chunk-64769e7a")]).then(function(){var e=[n("bd3f")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/contacts",name:"contacts",component:function(t){n.e("chunk-263f7506").then(function(){var e=[n("9bdf")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/namecard/:userId",name:"namecard",component:function(t){n.e("chunk-321576c8").then(function(){var e=[n("ba44")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/namecardremark/:userId",name:"namecardremark",component:function(t){n.e("chunk-2d0d6f9e").then(function(){var e=[n("759c")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/searchuser/:searchType",name:"searchuser",component:function(t){n.e("chunk-666ff67d").then(function(){var e=[n("6ab3")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/teaminvite/:teamId",name:"teaminvite",component:function(t){n.e("chunk-6a82f1ca").then(function(){var e=[n("de22")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/general",name:"general",component:function(t){n.e("chunk-2d0e921d").then(function(){var e=[n("8bda")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/teamlist/:teamType",name:"teamlist",component:function(t){n.e("chunk-79aa06b7").then(function(){var e=[n("f99e")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/teamcard/:teamId",name:"teamcard",component:function(t){n.e("chunk-8163e59a").then(function(){var e=[n("f1ce")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/teammanage/:teamId",name:"teammanage",component:function(t){n.e("chunk-16f932ec").then(function(){var e=[n("d338")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/teamsetting",name:"teamsetting",component:function(t){n.e("chunk-cd39b9bc").then(function(){var e=[n("f461")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/teammembers/:teamId",name:"teammembers",component:function(t){n.e("chunk-771dc3a6").then(function(){var e=[n("23f9")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/teammembercard/:member",name:"teammembercard",component:function(t){n.e("chunk-7d403269").then(function(){var e=[n("1dce")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/teamSendMsgReceipt/:teamId",name:"TeamSeamMsgReceipt",component:function(t){n.e("chunk-716a2376").then(function(){var e=[n("b94e")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/msgReceiptDetail/:msgInfo",name:"msgReceiptDetail",component:function(t){n.e("chunk-40bcb8c8").then(function(){var e=[n("3bf8")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],T=new w.a({routes:S}),C=n("5c96"),R=n.n(C);n("c69f"),o.default.use(R.a),n("157a");var x=n("28dd"),L=n("953d"),N=n.n(L),P=(n("a753"),n("8096"),n("14e1"),n("4360")),D=["/index","/login","/register","/blog","/readBlog","/blogUpload","/upLoad","/myfile","/read","/readPage","/readPage2","/readPage3"];T.beforeEach(function(e,t,n){-1!==D.indexOf(e.path)?P.a.commit("SET_showTabNav",!0):P.a.commit("SET_showTabNav",!1),n()});var A=n("4aa6"),U=n.n(A)()(null);U.install=function(e){e.directive("touch",{bind:function(e,a,o){o=o||{};var s=a.arg.toLowerCase(),c=0,i=null,r=null;function u(e,t,n,a){var o=t-a,s=n-e,c=0;if(Math.abs(s)<2&&Math.abs(o)<2)return c;var i,r,u=(i=s,r=o,180*Math.atan2(r,i)/Math.PI);return-45<=u&&u<45?c="swiperight":45<=u&&u<135?c="swipeup":-135<=u&&u<-45?c="swipedown":(135<=u&&u<=180||-180<=u&&u<-135)&&(c="swipeleft"),c}e.addEventListener("touchstart",function(e){i=e.touches[0].pageX,r=e.touches[0].pageY,c=setTimeout(function(){c=0,"hold"===s&&a.value(o)},800)},!1),e.addEventListener("touchmove",function(e){c&&(clearTimeout(c),c=0)}),e.addEventListener("touchend",function(e){c&&(clearTimeout(c),c=0);var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;switch(u(i,r,t,n)){case 0:"tap"===s&&a.value(o);break;case"swipeup":"swipeup"===s&&a.value(o);break;case"swipedown":"swipedown"===s&&a.value(o);break;case"swipeleft":"swipeleft"===s&&a.value(o);break;case"swiperight":"swiperight"===s&&a.value(o)}},!1)}})};var E=U;o.default.use(E),n("b841"),o.default.use(N.a),o.default.use(x.a),o.default.use(g.o),o.default.config.productionTip=!1,new o.default({router:T,store:P.a,components:{App:I},render:function(e){return e(I)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("5e27");n.n(a).a},"5def":function(e,t,n){"use strict";var a=n("f61f"),o={login:a.a.loginUrl,regist:a.a.registUrl},s=null,c={turnPage:function(e,t){e&&alert(e),t&&(o[t]&&(t=o[t]),window.location.href=t)},showNav:function(e){switch(e){case"/":case"/session":case"/contacts":case"/room":case"/general":return!0;default:return!1}},scrollChatListDown:function(e,t){var n=document.getElementById("chat-list");if(n){t=t||1,"number"!=typeof e&&(e=Math.max(n.scrollHeight-n.clientHeight,888888)),n.scrollTop=e,n.scrollTop<e&&t<5&&(clearTimeout(s),s=setTimeout(function(){t++,c.scrollChatListDown(e,t)},200))}},getChatListHeight:function(){return document.getElementById("chat-list").scrollHeight},getChatListScroll:function(){return document.getElementById("chat-list").scrollTop}};t.a=c},"5e27":function(e,t,n){},"5f87":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var a=n("a78e"),o=n.n(a);function s(){return o.a.get("Thename")}function c(){return o.a.get("admin")}},af98:function(e,t,n){},b841:function(e,t,n){"use strict";n.r(t),n("20d6"),n("7514"),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],o=0;o<n;){var s=t[o];if(e.call(a,s,o,t))return s;o++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],o=0;o<n;){var s=t[o];if(e.call(a,s,o,t))return o;o++}return-1}})},c69f:function(e,t,n){},ed08:function(e,t,n){"use strict";n("7f7f");var a=n("5176"),o=n.n(a),s=n("4aa6"),c=n.n(s),i=(n("b6d0"),n("774e"),n("ac6a"),n("a745"),n("28a5"),n("a4bb")),r=n.n(i),u=(n("0a0d"),n("a481"),n("e814"),n("7618")),m=n("2b0e"),d=n("4360");Function.prototype.bind||(Function.prototype.bind=function(){var e=this,t=Array.prototype.slice.call(arguments),n=t.shift();return function(){return e.apply(n,t.concat(Array.prototype.slice.call(arguments)))}});var f,h,l=c()(null);l.encode=function(n,e){return e=""+e,n&&e?e.replace(n.r,function(e){var t=n[n.i?e:e.toLowerCase()];return null!=t?t:e}):e||""},l.escape=(f=/<br\/?>$/,h={r:/\<|\>|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":""},function(e){return(e=l.encode(h,e)).replace(f,"<br/>")}),l.object2query=function(t){return r()(t).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))}).join("&")},l.mergeObject=function(e,t){return"object"===Object(u.a)(e)&&null!==e||(e=c()(null)),e=o()(c()(null),e,t)},l.mergeVueObject=function(t,n){return r()(n).forEach(function(e){void 0!==n[e]&&m.default.set(t,e,n[e])}),t},l.mapMsgType=function(e){return{text:"文本消息",image:"图片消息",file:"文件消息",audio:"语音消息",video:"视频消息",geo:"地理位置消息",tip:"提醒消息",custom:"自定义消息",notification:"系统通知",robot:"机器人消息"}[e.type]||"未知消息类型"},l.stringifyDate=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(e=new Date(e)).getFullYear(),a=e.getYear()-100,o=e.getMonth()+1;o=9<o?o:"0"+o;var s=e.getDate();s=9<s?s:"0"+s;var c=e.getHours();c=9<c?c:"0"+c;var i=e.getMinutes();i=9<i?i:"0"+i;var r=e.getDay();r=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][r];var u=new Date(n,o-1,s,0,0,0).getTime();return t?{withYear:"".concat(s,"/").concat(o,"/").concat(a),withMonth:"".concat(o,"-").concat(s),withDay:"".concat(r),withLastDay:"昨天",withHour:"".concat(c,":").concat(i),thatDay:u}:{withYear:"".concat(n,"-").concat(o,"-").concat(s," ").concat(c,":").concat(i),withMonth:"".concat(o,"-").concat(s," ").concat(c,":").concat(i),withDay:"".concat(r," ").concat(c,":").concat(i),withLastDay:"昨天 ".concat(c,":").concat(i),withHour:"".concat(c,":").concat(i),thatDay:u}},l.formatDate=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(new Date).getTime(),a=this.stringifyDate(e,t),o=(n-a.thatDay)/1e3;return o<86400?a.withHour:o<172800?a.withLastDay:o<604800?a.withDay:o<2592e3?a.withMonth:a.withYear},l.parseSession=function(e){return/^p2p-/.test(e)?{scene:"p2p",to:e.replace(/^p2p-/,"")}:/^team-/.test(e)?{scene:"team",to:e.replace(/^team-/,"")}:void 0},l.parseCustomMsg=function(e){if("custom"!==e.type)return"";try{switch(JSON.parse(e.content).type){case 1:return"[猜拳消息]";case 2:return"[阅后即焚]";case 3:return"[贴图表情]";case 4:return"[白板消息]"}}catch(e){}return"[自定义消息]"},l.getFriendAlias=function(e){return e.alias=e.alias?e.alias.trim():"",e.alias||e.nick||e.account},l.generateChatroomSysMsg=function(e){var t;switch(e.attach.type){case"memberEnter":t="欢迎".concat(e.attach.fromNick,"进入直播间");break;case"memberExit":t="".concat(e.attach.fromNick,"离开了直播间");break;case"blackMember":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员拉入黑名单");break;case"unblackMember":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员解除拉黑");break;case"gagMember":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员禁言");break;case"ungagMember":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员解除禁言");break;case"addManager":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被任命管理员身份");break;case"removeManager":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被解除管理员身份");break;case"addTempMute":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员临时禁言");break;case"removeTempMute":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员解除临时禁言");break;case"addCommon":t="管理员添加普通成员";break;case"removeCommon":t="管理员删除普通成员";break;case"kickMember":t="".concat(e.attach.toNick[0],"被管理员踢出房间");break;default:t="通知消息"}return t},l.generateTeamSysmMsg=function(e){var t,n=this.getNickNames(e.attach.users);switch(e.attach.type){case"updateTeam":t=this.getTeamUpdateInfo(e);break;case"addTeamMembers":var a=n.pop();t="".concat(a,"邀请").concat(n.join(),"加入群");break;case"removeTeamMembers":var o=n.pop();t="".concat(n.join(),"被").concat(o,"移出群");break;case"acceptTeamInvite":var s=n.pop();t="".concat(n.join(),"接受了").concat(s,"入群邀请");break;case"passTeamApply":var c=n.shift();t=1===n.length&&c===n[0]?"".concat(c,"加入群"):"".concat(c,"通过了").concat(n,"入群邀请");break;case"addTeamManagers":var i=n.pop();t="".concat(i,"新增了").concat(n,"为管理员");break;case"removeTeamManagers":var r=n.pop();t="".concat(r,"移除了").concat(n,"的管理员权限");break;case"leaveTeam":t="".concat(n.join(),"退出了群");break;case"dismissTeam":t="".concat(n.join(),"解散了群");break;case"transferTeam":var u=this.getNickNames(e.attach.users),m=u.shift();t="".concat(m,"转让群主给").concat(u);break;case"updateTeamMute":var d=this.getNickNames(e.attach.users);d.shift(),t="".concat(d,"被管理员").concat(e.attach.mute?"禁言":"解除禁言")}return t},l.getNickNames=function(e){return e.map(function(e){return e.account===d.a.state.userUID?"你":e.nick})},l.getTeamUpdateInfo=function(e){var t=e.attach.team,n=this.getNickNames(e.attach.users).pop();return t.name?"".concat(n,"修改群名为").concat(t.name):t.intro?"".concat(n,"修改群介绍为").concat(t.intro):t.joinMode?"群身份验证模式更新为".concat("noVerify"===t.joinMode?"不需要验证":"needVerify"===t.joinMode?"需要验证":"禁止任何人加入"):t.inviteMode?"邀请他人权限为".concat("all"===t.inviteMode?"所有人":"管理员"):t.updateTeamMode?"群资料修改权限为".concat("all"===t.updateTeamMode?"所有人":"管理员"):t.beInviteMode?"被邀请人身份".concat("noVerify"===t.beInviteMode?"不需要验证":"需要验证"):"更新群信息"},l.teamConfigMap={joinMode:{noVerify:"不需要验证",needVerify:"需要验证",rejectAll:"禁止任何人加入"},beInviteMode:{needVerify:"需要验证",noVerify:"不需要验证"},inviteMode:{manager:"管理员邀请",all:"所有人邀请"},updateTeamMode:{manager:"管理员修改",all:"所有人修改"},memberType:{manager:"管理员",normal:"普通成员"}},t.a=l},f3e4:function(e,t,n){"use strict";n("4917"),n("3b2b");var a={setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+864e5),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()},readCookie:function(e){var t=null,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return document.cookie&&(t=document.cookie.match(n))?unescape(t[2]):null},delCookie:function(e){var t=this.readCookie(e);null!=t&&(document.cookie=e+"="+t+";expires="+new Date(0).toGMTString())}};t.a=a},f61f:function(e,t,n){"use strict";var a=n("5176"),o={sdk:"NIM_Web_SDK_v6.1.0.js",loginUrl:"/#/login2",registUrl:"/#/regist2",homeUrl:"/#/session",resourceUrl:"http://yx-web.nos.netease.com/webdoc/h5",logo:"http://yx-web.nos.netease.com/webdoc/h5/im/logo.png",defaultUserIcon:"http://yx-web.nos.netease.com/webdoc/h5/im/default-icon.png",defaultGroupIcon:"http://yx-web.nos.netease.com/webdoc/h5/im/default-group.png",defaultAdvancedIcon:"http://yx-web.nos.netease.com/webdoc/h5/im/default-advanced.png",noticeIcon:"http://yx-web.nos.netease.com/webdoc/h5/im/notice-icon.png",myPhoneIcon:"http://yx-web.nos.netease.com/webdoc/h5/im/my-phone.png",localMsglimit:36,useDb:!1};o=n.n(a)()(o,{appkey:"45c6af3c98409b18a84451215d0bdd6e",postUrl:"https://app.netease.im"}),t.a=o}});