{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/pages/components/FullscreenImg.vue?1161","webpack:///./src/pages/components/NavBar.vue?a246","webpack:///./src/store/modules/app.js","webpack:///./src/store/modules/user.js","webpack:///./src/store/getters.js","webpack:///./src/store/mutations/index.js","webpack:///./src/store/actions/widgetUi.js","webpack:///./src/store/actions/userInfo.js","webpack:///./src/store/actions/friends.js","webpack:///./src/store/actions/robots.js","webpack:///./src/store/actions/blacks.js","webpack:///./src/store/actions/session.js","webpack:///./src/store/actions/msgs.js","webpack:///./src/store/actions/sysMsgs.js","webpack:///./src/store/actions/team.js","webpack:///./src/store/actions/initNimSDK.js","webpack:///./src/store/actions/chatroomMsgs.js","webpack:///./src/store/actions/initChatroomSDK.js","webpack:///./src/store/actions/search.js","webpack:///./src/store/actions/chatroomInfos.js","webpack:///./src/store/actions/index.js","webpack:///./src/store/state.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?3db9","webpack:///./src/pages/components/Loading.vue?4a0f","webpack:///src/pages/components/Loading.vue","webpack:///./src/pages/components/Loading.vue?2eb3","webpack:///./src/pages/components/Loading.vue","webpack:///./src/pages/components/FullscreenImg.vue?1133","webpack:///src/pages/components/FullscreenImg.vue","webpack:///./src/pages/components/FullscreenImg.vue?ad70","webpack:///./src/pages/components/FullscreenImg.vue","webpack:///./src/pages/components/NavBar.vue?4c89","webpack:///src/pages/components/NavBar.vue","webpack:///./src/pages/components/NavBar.vue?45ee","webpack:///./src/pages/components/NavBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/router/router.js","webpack:///./src/plugins/element.js","webpack:///./src/permission.js","webpack:///./src/plugins/touchEvent.js","webpack:///./src/main.js","webpack:///./src/App.vue?bcb1","webpack:///./src/utils/page.js","webpack:///./src/utils/auth.js","webpack:///./src/utils/polyfill.js","webpack:///./src/utils/index.js","webpack:///./src/utils/cookie.js","webpack:///./src/configs/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","app","jsonpScriptSrc","p","chunk-16f932ec","chunk-263f7506","chunk-2d0d6f9e","chunk-2d0e921d","chunk-2d21645e","chunk-2d2223f4","chunk-2dfd7466","chunk-321576c8","chunk-40bcb8c8","chunk-426f1d88","chunk-44155956","chunk-475ea7a5","chunk-4adae60d","chunk-666ff67d","chunk-6a82f1ca","chunk-716a2376","chunk-771dc3a6","chunk-79aa06b7","chunk-7b77d1ba","chunk-7d403269","chunk-8163e59a","chunk-ac6f9626","chunk-b2cf3d7a","chunk-cd39b9bc","chunk-e4dbe8ea","chunk-3395744e","chunk-c12077d2","chunk-64769e7a","chunk-6d357cfc","chunk-e8f5e4a6","chunk-03d20be1","chunk-1a4912b7","chunk-1ec9674a","chunk-28ac5158","chunk-2a52e2fc","chunk-2abbcf86","chunk-484263bf","chunk-4e8bbd50","chunk-52b6f99a","chunk-42c67d5c","chunk-4947c5c2","chunk-50d2da58","chunk-530ce530","chunk-5be6bfbf","chunk-5ecef65f","chunk-7044a42a","chunk-763815dd","chunk-9128c356","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FullscreenImg_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FullscreenImg_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NavBar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NavBar_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","state","mutations","actions","user","Thename","getThename","admin","getadmin","showTabNav","SET_NAME","SET_ADMIN","SET_showTabNav","SetThename","_ref","_ref2","commit","Setadmin","_ref3","_ref4","SetTabNav","_ref5","_ref6","shownav","getters","users","updateRefreshState","isRefresh","updateLoading","status","loadingTimer","isLoading","updateFullscreenImage","obj","fullscreenImgSrc","isFullscreenImgShow","updateUserUID","loginInfo","userUID","uid","sdktoken","cookie","setCookie","updateMyInfo","myInfo","util","mergeObject","updateUserInfo","userInfos","forEach","account","updateFriends","friends","arguments","nim","friendslist","mergeFriends","cutFriends","invalid","updateRobots","robots","map","item","avatar","originAvatar","viewImageSync","url","thumbnail","width","height","config","defaultUserIcon","robotslist","robotInfos","create_default","robot","robotInfosByNick","nick","updateBlacklist","blacks","blacklist","addBlacks","filter","isBlack","remBlacks","updateSearchlist","list","searchedUsers","searchedTeams","updateSessions","sessions","sessionlist","mergeSessions","sort","a","b","updateTime","sessionMap","id","deleteSessions","sessionIds","cutSessionsByIds","updateMsgs","msgs","tempSessionMap","sessionId","msg","mergeMsgs","store","time","content","msgOut","currSessionId","putMsg","tempMsgs","lastMsgIndex","currMsg","deleteMsg","idClient","replaceMsg","log","text","updateMsgByIdClient","is_array_default","tempTime","Date","getTime","msgsMap","updateCurrSessionId","updateCurrSessionMsgs","currSessionMsgs","currSessionLastMsg","concat","limit","localMsglimit","msgLen","lastMsgTime","formatDate","dispatch","newMsg","lenCurrMsgs","reverse","unshift","updateSysMsgs","sysMsgs","showTime","mergeSysMsgs","Vue","set","updateSysMsgState","sysMsg","exitMsg","find","idServer","updateSysMsgUnread","sysMsgUnread","assign_default","updateCustomSysMsgs","customSysMsgs","unread","updateCustomSysMsgUnread","customSysMsgUnread","resetSysMsgs","deleteSysMsgs","arr","setNoMoreHistoryMsgs","noMoreHistoryMsgs","resetNoMoreHistoryMsgs","continueRobotMsg","robotAccid","continueRobotAccid","initChatroomInfos","chatroomInfos","setCurrChatroom","chatroomId","currChatroomId","currChatroom","chatroomInsts","currChatroomMsgs","currChatroomInfo","currChatroomMembers","resetCurrChatroom","updateChatroomInfo","updateCurrChatroomMsgs","_Object$assign2","getChatroomInfo","updateChatroomMembers","members","member","online","updateTeamList","teams","teamlist","mergeTeams","cutTeams","updateTeamMembers","teamId","teamMembers","mergeTeamMembers","cutTeamMembers","removeTeamMembersByAccounts","invalidAccounts","accounts","index","indexOf","updateTeamInfo","team","findIndex","updateTeamSettingConfig","teamSettingConfig","updateSentReceipedMap","_state$sentReceipedMa","sentReceipedMap","toConsumableArray","updateReceiptQueryList","currReceiptQueryTeamId","receiptQueryList","teamMsgReads","_state$receiptQueryLi","needQuery","needMsgReceipt","from","updateTeamMsgReads","_state$teamMsgReads","teamMsgReceipts","updateSingleTeamMsgReads","read","unreadAccounts","teamMsgReadsDetail","readAccounts","initMsgReceiptDetail","showLoading","hideLoading","showFullscreenImg","hideFullscreenImg","formatUserInfo","gender","custom","JSON","parse","birth","email","tel","sign","createTime","onMyInfo","onUserInfo","onFriends","isFriend","onUpdateFriend","alert","done","onDeleteFriend","onSyncFriendAction","friend","ps","updateFriend","alias","addFriend","deleteFriend","onRobots","onBlacklist","onMarkInBlacklist","obj2","isAdd","updateBlack","markInBlacklist","updateSessionAccount","accountsNeedSearch","scene","to","onSessions","onUpdateSession","session","deleteSession","test","replace","deleteLocalSession","setCurrSession","resetCurrSession","formatMsg","flag","message","parseRobotTemplate","onRoamingMsgs","onOfflineMsgs","onMsg","onSendMsgDone","code","onRevocateMsg","tip","userInfo","getFriendAlias","sendTipMsg","isLocal","tipMsg","deletedIdClient","revocateMsg","_msg","updateLocalMsg","localCustom","sendMsg","sendText","sendCustomMsg","pushContent","stringify_default","sendFileMsg","fileInput","uploadprogress","uploaderror","uploaddone","file","beforesend","sendFile","sendRobotMsg","params","body","sendMsgReceipt","parseSession","lastMsg","getHistoryMsgs","_ref7","options","asc","lastMsgId","endTime","_ref8","_ref9","onSysMsgs","onSysMsg","onSysMsgUnread","onCustomSysMsgs","markSysMsgRead","markCustomSysMsgRead","onTeams","validToCurrentUser","onTeamMembers","onCreateTeam","onSynCreateTeam","onDismissTeam","onUpdateTeam","onTeamNotificationMsg","attach","onAddTeamMembers","onRemoveTeamMembers","onUpdateTeamMember","teamMember","onUpdateTeamMembersMute","onUpdateTeamManagers","onTeamMsgReceipt","enterSettingPage","location","delegateTeamFunction","functionName","getTeamMembers","checkTeamMsgReceipt","exec","needToPeceiptList","getMsgNeedToReceipt","sendTeamMsgReceipt","sentReceipedList","needToReceipt","getTeamMsgReads","initNimSDK","disconnect","SDK","NIM","getInstance","debug","appKey","appkey","token","transports","db","useDb","syncSessionUnread","syncRobots","autoMarkRead","onconnect","loginUrl","onwillreconnect","ondisconnect","pageUtil","turnPage","PC","Web","Android","iOS","WindowsPhone","str","errorMsg","onblacklist","onsyncmarkinblacklist","onfriends","onsyncfriendaction","onrobots","onmyinfo","onupdatemyinfo","onusers","onupdateuser","onteams","onsynccreateteam","syncTeams","onteammembers","onupdateteammember","onsessions","onupdatesession","onroamingmsgs","onofflinemsgs","onmsg","onsysmsg","onofflinesysmsgs","onupdatesysmsg","onsysmsgunread","onupdatesysmsgunread","onofflinecustomsysmsgs","oncustomsysmsg","onsyncdone","onChatroomMsgs","sendChatroomMsg","chatroom","sendChatroomRobotMsg","sendChatroomFileMsg","_Object$assign","getChatroomHistoryMsgs","_Object$assign3","timetag","initChatroomSDK","address","connect","Chatroom","chatroomAddresses","reason","onmsgs","resetChatroomSDK","tempRoomId","resetSearchResult","searchUsers","getUsers","updateUsers","Function","searchTeam","getTeam","getChatroom","info","creator","getChatroomMembersInfo","actor","getChatroomMembers","getChatroomMembersLocal","isGuest","callback","guest","clearChatroomMembers","connectNim","force","readCookie","connectChatroom","getChatroomAddress","_Object$assign4","logout","delCookie","store_state","transitionName","userSubscribes","muteTeamIds","total","chatroomMsgs","use","Vuex","Store","plugins","Appvue_type_template_id_24e8b82e_render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$store","on","click","goLogin","_v","goRegister","_e","staticStyle","fontSize","_s","golevel","logOut","$route","meta","directives","rawName","expression","noAnima","$event","$router","staticRenderFns","Loadingvue_type_template_id_1d7234b3_render","_m","Loadingvue_type_template_id_1d7234b3_staticRenderFns","position","Loadingvue_type_script_lang_js_","computed","components_Loadingvue_type_script_lang_js_","component","componentNormalizer","FullscreenImgvue_type_template_id_abc23d08_render","class","active","showImg","stopPropagation","ref","FullscreenImgvue_type_template_id_abc23d08_staticRenderFns","FullscreenImgvue_type_script_lang_js_","watch","val","oldVal","self","chatImg","$refs","innerHTML","img","Image","alt","methods","components_FullscreenImgvue_type_script_lang_js_","FullscreenImg_component","NavBarvue_type_template_id_58ef81da_render","NavBarvue_type_template_id_58ef81da_staticRenderFns","NavBarvue_type_script_lang_js_","components","_components","es","route","changePage","page","components_NavBarvue_type_script_lang_js_","NavBar_component","NavBar","sessionHistory","sessionStorage","Appvue_type_script_lang_js_","auth","x","y","nx","ny","dx","dy","xPum","yPum","toPath","path","fromPath","count","parse_int_default","getItem","is_nan_default","fromCount","toCount","showNav","setItem","updated","created","mounted","moveDiv","querySelector","w","documentElement","clientWidth","h","clientHeight","offsetWidth","offsetHeight","addEventListener","down","passive","move","js_cookie_default","expires","reload","touch","touches","clientX","clientY","offsetLeft","offsetTop","preventDefault","style","left","top","src_Appvue_type_script_lang_js_","App_component","App","Router","routes","redirect","title","require","__WEBPACK_AMD_REQUIRE_ARRAY__","catch","router","Element","mainList","beforeEach","next","TouchEventPlugin","install","directive","el","binding","vnode","touchType","arg","toLowerCase","timeOutEvent","direction","startX","startY","GetSlideAngle","Math","atan2","PI","GetSlideDirection","endX","endY","abs","angle","ev","pageX","pageY","changedTouches","VueTouch","VueQuillEditor","VueResource","Vant","productionTip","render","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_configs__WEBPACK_IMPORTED_MODULE_0__","pageMap","login","regist","registUrl","scrollTimer","scrollChatListDown","pos","initCount","dom","getElementById","maxCount","max","scrollHeight","scrollTop","getChatListHeight","getChatListScroll","__webpack_exports__","js_cookie__WEBPACK_IMPORTED_MODULE_0__","js_cookie__WEBPACK_IMPORTED_MODULE_0___default","Cookies","Array","predicate","TypeError","len","thisArg","k","kValue","fn","args","Utils","C_wamp64_www_phpdemo_syf_test1_node_modules_babel_runtime_corejs2_core_js_object_create__WEBPACK_IMPORTED_MODULE_2___default","encode","_map","_content","$1","_result","escape","_reg","<",">","&"," ","\"","'","\n","\r","object2query","keys","C_wamp64_www_phpdemo_syf_test1_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_8___default","queryArray","encodeURIComponent","join","dest","C_wamp64_www_phpdemo_syf_test1_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__","C_wamp64_www_phpdemo_syf_test1_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_1___default","mergeVueObject","mapMsgType","image","audio","video","geo","notification","stringifyDate","datetime","simple","weekMap","year","getFullYear","simpleYear","getYear","month","getMonth","day","getDate","hour","getHours","min","getMinutes","week","getDay","thatDay","withYear","withMonth","withDay","withLastDay","withHour","tempDate","deltaTime","parseCustomMsg","cnt","trim","generateChatroomSysMsg","fromNick","toNick","generateTeamSysmMsg","nicks","getNickNames","getTeamUpdateInfo","op","pop","mute","joinMode","teamConfigMap","noVerify","needVerify","rejectAll","beInviteMode","inviteMode","manager","updateTeamMode","memberType","normal","days","exp","setTime","toGMTString","reg","RegExp","match","unescape","cval","sdk","homeUrl","resourceUrl","logo","defaultGroupIcon","defaultAdvancedIcon","noticeIcon","myPhoneIcon","env","appConfig","postUrl","C_wamp64_www_phpdemo_syf_test1_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.b53fd38b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-16f932ec\":\"7509c27f\",\"chunk-263f7506\":\"1cb31515\",\"chunk-2d0d6f9e\":\"8abb9bac\",\"chunk-2d0e921d\":\"be14084d\",\"chunk-2d21645e\":\"0df730b1\",\"chunk-2d2223f4\":\"1c3f4312\",\"chunk-2dfd7466\":\"c87ecd3d\",\"chunk-321576c8\":\"7ab8b345\",\"chunk-40bcb8c8\":\"9349cbad\",\"chunk-426f1d88\":\"df230eac\",\"chunk-44155956\":\"6b8201c7\",\"chunk-475ea7a5\":\"92fbe948\",\"chunk-4adae60d\":\"3107bf05\",\"chunk-666ff67d\":\"20e83c06\",\"chunk-6a82f1ca\":\"46e78e29\",\"chunk-716a2376\":\"0af5955b\",\"chunk-771dc3a6\":\"84cd0927\",\"chunk-79aa06b7\":\"2f6e91be\",\"chunk-7b77d1ba\":\"f3495296\",\"chunk-7d403269\":\"ccc8acb5\",\"chunk-8163e59a\":\"c0eb24cc\",\"chunk-ac6f9626\":\"057c0385\",\"chunk-b2cf3d7a\":\"43895825\",\"chunk-cd39b9bc\":\"46cd221b\",\"chunk-e4dbe8ea\":\"b02fbc92\",\"chunk-3395744e\":\"fcee3770\",\"chunk-c12077d2\":\"3171d142\",\"chunk-64769e7a\":\"1f033b36\",\"chunk-6d357cfc\":\"8010240f\",\"chunk-e8f5e4a6\":\"8c15f35c\",\"chunk-03d20be1\":\"9eb2a37e\",\"chunk-1a4912b7\":\"c5a9aaca\",\"chunk-1ec9674a\":\"c64d81ba\",\"chunk-28ac5158\":\"7abd45a3\",\"chunk-2a52e2fc\":\"fbd2fbe2\",\"chunk-2abbcf86\":\"184a3677\",\"chunk-484263bf\":\"b752c27c\",\"chunk-4e8bbd50\":\"66830aa1\",\"chunk-52b6f99a\":\"459af551\",\"chunk-42c67d5c\":\"629ed2f1\",\"chunk-4947c5c2\":\"c6e07533\",\"chunk-50d2da58\":\"9939f62d\",\"chunk-530ce530\":\"afec5e21\",\"chunk-5be6bfbf\":\"e7e3cc1e\",\"chunk-5ecef65f\":\"d3105b0b\",\"chunk-7044a42a\":\"11abc4f0\",\"chunk-763815dd\":\"6257e1a9\",\"chunk-9128c356\":\"8a2890a0\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-16f932ec\":1,\"chunk-263f7506\":1,\"chunk-2dfd7466\":1,\"chunk-321576c8\":1,\"chunk-40bcb8c8\":1,\"chunk-426f1d88\":1,\"chunk-44155956\":1,\"chunk-475ea7a5\":1,\"chunk-4adae60d\":1,\"chunk-666ff67d\":1,\"chunk-6a82f1ca\":1,\"chunk-716a2376\":1,\"chunk-771dc3a6\":1,\"chunk-79aa06b7\":1,\"chunk-7b77d1ba\":1,\"chunk-7d403269\":1,\"chunk-8163e59a\":1,\"chunk-ac6f9626\":1,\"chunk-b2cf3d7a\":1,\"chunk-cd39b9bc\":1,\"chunk-e4dbe8ea\":1,\"chunk-3395744e\":1,\"chunk-c12077d2\":1,\"chunk-64769e7a\":1,\"chunk-6d357cfc\":1,\"chunk-1a4912b7\":1,\"chunk-1ec9674a\":1,\"chunk-28ac5158\":1,\"chunk-2a52e2fc\":1,\"chunk-484263bf\":1,\"chunk-4e8bbd50\":1,\"chunk-52b6f99a\":1,\"chunk-42c67d5c\":1,\"chunk-4947c5c2\":1,\"chunk-50d2da58\":1,\"chunk-530ce530\":1,\"chunk-5be6bfbf\":1,\"chunk-5ecef65f\":1,\"chunk-7044a42a\":1,\"chunk-763815dd\":1,\"chunk-9128c356\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-16f932ec\":\"73e4a8cb\",\"chunk-263f7506\":\"6f8fbd9b\",\"chunk-2d0d6f9e\":\"31d6cfe0\",\"chunk-2d0e921d\":\"31d6cfe0\",\"chunk-2d21645e\":\"31d6cfe0\",\"chunk-2d2223f4\":\"31d6cfe0\",\"chunk-2dfd7466\":\"04d6e3e0\",\"chunk-321576c8\":\"36e8a270\",\"chunk-40bcb8c8\":\"fe1b20d9\",\"chunk-426f1d88\":\"d6c9f7bf\",\"chunk-44155956\":\"5a90f779\",\"chunk-475ea7a5\":\"f6619e16\",\"chunk-4adae60d\":\"e135de28\",\"chunk-666ff67d\":\"d269c772\",\"chunk-6a82f1ca\":\"7a2fb18c\",\"chunk-716a2376\":\"d2dd0ec0\",\"chunk-771dc3a6\":\"01c46b91\",\"chunk-79aa06b7\":\"0f5f0a65\",\"chunk-7b77d1ba\":\"0e433876\",\"chunk-7d403269\":\"3920e7af\",\"chunk-8163e59a\":\"16d2c701\",\"chunk-ac6f9626\":\"61370aab\",\"chunk-b2cf3d7a\":\"f22da3ed\",\"chunk-cd39b9bc\":\"443e9c26\",\"chunk-e4dbe8ea\":\"4aab4bcd\",\"chunk-3395744e\":\"5f1d44be\",\"chunk-c12077d2\":\"c1778aac\",\"chunk-64769e7a\":\"e88b03ac\",\"chunk-6d357cfc\":\"745ecaf1\",\"chunk-e8f5e4a6\":\"31d6cfe0\",\"chunk-03d20be1\":\"31d6cfe0\",\"chunk-1a4912b7\":\"2ffd4725\",\"chunk-1ec9674a\":\"e11c9ab2\",\"chunk-28ac5158\":\"0bd371ef\",\"chunk-2a52e2fc\":\"ed9f66c5\",\"chunk-2abbcf86\":\"31d6cfe0\",\"chunk-484263bf\":\"7bbdff48\",\"chunk-4e8bbd50\":\"42acb075\",\"chunk-52b6f99a\":\"42acb075\",\"chunk-42c67d5c\":\"356b136d\",\"chunk-4947c5c2\":\"d8fde6f8\",\"chunk-50d2da58\":\"d1fc7a45\",\"chunk-530ce530\":\"52e5a53a\",\"chunk-5be6bfbf\":\"c2865bd4\",\"chunk-5ecef65f\":\"ce63121b\",\"chunk-7044a42a\":\"16a01157\",\"chunk-763815dd\":\"9d1d8fc8\",\"chunk-9128c356\":\"364035e7\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenImg.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenImg.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=style&index=0&lang=scss&\"","\r\nconst app = {\r\n  state: {\r\n\r\n  },\r\n  mutations: {\r\n\r\n  },\r\n  actions: {\r\n \r\n  }\r\n}\r\n\r\nexport default app\r\n","import { getThename,getadmin} from '@/utils/auth'\r\n\r\nconst user = {\r\n  state: {\r\n    Thename: getThename(),\r\n    admin: getadmin(),\r\n    showTabNav:true,\r\n  },\r\n  mutations: {\r\n    SET_NAME: (state, Thename) => {\r\n      state.Thename = Thename\r\n    },\r\n    SET_ADMIN: (state, admin) => {\r\n      state.admin = admin\r\n    },\r\n    SET_showTabNav: (state, showTabNav) => {\r\n      state.showTabNav = showTabNav\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    SetThename({commit}, {Thename}) {\r\n      commit('SET_NAME', Thename)\r\n    },\r\n    Setadmin({ commit }, { admin }) {\r\n      commit('SET_ADMIN', admin)\r\n    },\r\n    SetTabNav({commit},{shownav}){\r\n      commit('SET_showTabNav', shownav)\r\n    } \r\n  }\r\n}\r\n\r\nexport default user\r\n","const getters = {\r\n  Thename: state => state.user.Thename,\r\n  admin: state => state.user.admin,\r\n  showTabNav: state => state.users.showTabNav,\r\n}\r\nexport default getters\r\n","// 更改 Vuex 的 store 中的状态的唯一方法是提交 mutation\r\n// this.$store.commit(method, params)\r\n\r\nimport store from '../'\r\nimport cookie from '../../utils/cookie'\r\nimport util from '../../utils'\r\nimport config from '../../configs'\r\n// import Vue from 'Vue'\r\n\r\nexport default {\r\n  updateRefreshState (state) {\r\n    state.isRefresh = false\r\n  },\r\n  updateLoading (state, status) {\r\n    clearTimeout(state.loadingTimer)\r\n    state.loadingTimer = setTimeout(() => {\r\n      state.isLoading = status\r\n    }, 20)\r\n  },\r\n  updateFullscreenImage (state, obj) {\r\n    obj = obj || {}\r\n    if (obj.src && obj.type === 'show') {\r\n      state.fullscreenImgSrc = obj.src\r\n      state.isFullscreenImgShow = true\r\n    } else if (obj.type === 'hide') {\r\n      state.fullscreenImgSrc = ' '\r\n      state.isFullscreenImgShow = false\r\n    }\r\n  },\r\n  updateUserUID (state, loginInfo) {\r\n    state.userUID = loginInfo.uid\r\n    state.sdktoken = loginInfo.sdktoken\r\n    cookie.setCookie('uid', loginInfo.uid)\r\n    cookie.setCookie('sdktoken', loginInfo.sdktoken)\r\n  },\r\n  updateMyInfo (state, myInfo) {\r\n    state.myInfo = util.mergeObject(state.myInfo, myInfo)\r\n  },\r\n  updateUserInfo (state, users) {\r\n    let userInfos = state.userInfos\r\n    users.forEach(user => {\r\n      let account = user.account\r\n      if (account) {\r\n        userInfos[account] = util.mergeObject(userInfos[account], user)\r\n      }\r\n    })\r\n    state.userInfos = util.mergeObject(state.userInfos, userInfos)\r\n  },\r\n  updateFriends (state, friends, cutFriends = []) {\r\n    const nim = state.nim\r\n    state.friendslist = nim.mergeFriends(state.friendslist, friends)\r\n    // state.friendslist = nim.cutFriends(state.friendslist, cutFriends)\r\n    state.friendslist = nim.cutFriends(state.friendslist, friends.invalid)\r\n  },\r\n  updateRobots (state, robots) {\r\n    const nim = state.nim\r\n    robots = robots.map(item => {\r\n      if (item.avatar) {\r\n        item.originAvatar = item.avatar\r\n        item.avatar = nim.viewImageSync({\r\n          url: item.avatar, // 必填\r\n          thumbnail: { // 生成缩略图， 可选填\r\n            width: 40,\r\n            height: 40,\r\n            mode: 'cover'\r\n          }\r\n        })\r\n      } else {\r\n        item.avatar = config.defaultUserIcon\r\n      }\r\n      return item\r\n    })\r\n    state.robotslist = robots\r\n    state.robotInfos = Object.create(null)\r\n    robots.forEach(robot => {\r\n      state.robotInfos[robot.account] = robot\r\n      state.robotInfosByNick[robot.nick] = robot\r\n    })\r\n  },\r\n  updateBlacklist (state, blacks) {\r\n    const nim = state.nim\r\n    state.blacklist = nim.cutFriends(state.blacklist, blacks.invalid)\r\n    let addBlacks = blacks.filter(item => {\r\n      return item.isBlack === true\r\n    })\r\n    let remBlacks = blacks.filter(item => {\r\n      return item.isBlack === false\r\n    })\r\n    // 添加黑名单\r\n    state.blacklist = nim.mergeFriends(state.blacklist, addBlacks)\r\n    // 解除黑名单\r\n    state.blacklist = nim.cutFriends(state.blacklist, remBlacks)\r\n  },\r\n  updateSearchlist (state, obj) {\r\n    const type = obj.type\r\n    switch (type) {\r\n      case 'user':\r\n        if (obj.list.length !== 0 || state.searchedUsers.length !== 0) {\r\n          state.searchedUsers = obj.list\r\n        } else {\r\n          state.searchedUsers = []\r\n        }\r\n        break\r\n      case 'team':\r\n        if (obj.list.length !== 0 || state.searchedTeams.length !== 0) {\r\n          state.searchedTeams = obj.list\r\n        } else {\r\n          state.searchedTeams = []\r\n        }\r\n        break\r\n    }\r\n  },\r\n  updateSessions (state, sessions) {\r\n    const nim = state.nim\r\n    state.sessionlist = nim.mergeSessions(state.sessionlist, sessions)\r\n    state.sessionlist.sort((a, b) => {\r\n      return b.updateTime - a.updateTime\r\n    })\r\n    state.sessionlist.forEach(item => {\r\n      state.sessionMap[item.id] = item\r\n    })\r\n  },\r\n  deleteSessions (state, sessionIds) {\r\n    const nim = state.nim\r\n    state.sessionlist = nim.cutSessionsByIds(state.sessionlist, sessionIds)\r\n  },\r\n  // 初始化，收到离线漫游消息时调用\r\n  updateMsgs (state, msgs) {\r\n    const nim = state.nim\r\n    let tempSessionMap = {}\r\n    msgs.forEach(msg => {\r\n      let sessionId = msg.sessionId\r\n      tempSessionMap[sessionId] = true\r\n      if (!state.msgs[sessionId]) {\r\n        state.msgs[sessionId] = []\r\n      }\r\n      // sdk会做消息去重\r\n      state.msgs[sessionId] = nim.mergeMsgs(state.msgs[sessionId], [msg])\r\n      // state.msgs[sessionId].push(msg)\r\n    })\r\n    store.commit('updateMsgByIdClient', msgs)\r\n    for (let sessionId in tempSessionMap) {\r\n      state.msgs[sessionId].sort((a, b) => {\r\n        if (a.time === b.time) {\r\n          // 机器人消息，回复消息时间和提问消息时间相同，提问在前，回复在后\r\n          if (a.type === 'robot' && b.type === 'robot') {\r\n            if (a.content && a.content.msgOut) {\r\n              return 1\r\n            }\r\n            if (b.content && b.content.msgOut) {\r\n              return -1\r\n            }\r\n          }\r\n        }\r\n        return a.time - b.time\r\n      })\r\n      if (sessionId === state.currSessionId) {\r\n        store.commit('updateCurrSessionMsgs', {\r\n          type: 'init'\r\n        })\r\n      }\r\n    }\r\n  },\r\n  // 更新追加消息，追加一条消息\r\n  putMsg (state, msg) {\r\n    let sessionId = msg.sessionId\r\n    if (!state.msgs[sessionId]) {\r\n      state.msgs[sessionId] = []\r\n    }\r\n    store.commit('updateMsgByIdClient', msg)\r\n    let tempMsgs = state.msgs[sessionId]\r\n    let lastMsgIndex = tempMsgs.length - 1\r\n    if (tempMsgs.length === 0 || msg.time >= tempMsgs[lastMsgIndex].time) {\r\n      tempMsgs.push(msg)\r\n    } else {\r\n      for (let i = lastMsgIndex; i >= 0; i--) {\r\n        let currMsg = tempMsgs[i]\r\n        if (msg.time >= currMsg.time) {\r\n          state.msgs[sessionId].splice(i, 0, msg)\r\n          break\r\n        }\r\n      }\r\n    }\r\n  },\r\n  // 删除消息列表消息\r\n  deleteMsg (state, msg) {\r\n    let sessionId = msg.sessionId\r\n    let tempMsgs = state.msgs[sessionId]\r\n    if (!tempMsgs || tempMsgs.length === 0) {\r\n      return\r\n    }\r\n    let lastMsgIndex = tempMsgs.length - 1\r\n    for (let i = lastMsgIndex; i >= 0; i--) {\r\n      let currMsg = tempMsgs[i]\r\n      if (msg.idClient === currMsg.idClient) {\r\n        state.msgs[sessionId].splice(i, 1)\r\n        break\r\n      }\r\n    }\r\n  },\r\n  // 替换消息列表消息，如消息撤回\r\n  replaceMsg (state, obj) {\r\n    let {sessionId, idClient, msg} = obj\r\n    let tempMsgs = state.msgs[sessionId]\r\n    if (!tempMsgs || tempMsgs.length === 0) {\r\n      return\r\n    }\r\n    let lastMsgIndex = tempMsgs.length - 1\r\n    for (let i = lastMsgIndex; i >= 0; i--) {\r\n      let currMsg = tempMsgs[i]\r\n      console.log(idClient, currMsg.idClient, currMsg.text)\r\n      if (idClient === currMsg.idClient) {\r\n        state.msgs[sessionId].splice(i, 1, msg)\r\n        break\r\n      }\r\n    }\r\n  },\r\n  // 用idClient 更新消息，目前用于消息撤回\r\n  updateMsgByIdClient (state, msgs) {\r\n    if (!Array.isArray(msgs)) {\r\n      msgs = [msgs]\r\n    }\r\n    let tempTime = (new Date()).getTime()\r\n    msgs.forEach(msg => {\r\n      // 有idClient 且 5分钟以内的消息\r\n      if (msg.idClient && (tempTime - msg.time < 1000 * 300)) {\r\n        state.msgsMap[msg.idClient] = msg\r\n      }\r\n    })\r\n  },\r\n  // 更新当前会话id，用于唯一判定是否在current session状态\r\n  updateCurrSessionId (state, obj) {\r\n    let type = obj.type || ''\r\n    if (type === 'destroy') {\r\n      state.currSessionId = null\r\n    } else if (type === 'init') {\r\n      if (obj.sessionId && (obj.sessionId !== state.currSessionId)) {\r\n        state.currSessionId = obj.sessionId\r\n      }\r\n    }\r\n  },\r\n  // 更新当前会话列表的聊天记录，包括历史消息、单聊消息等，不包括聊天室消息\r\n  // replace: 替换idClient的消息\r\n  updateCurrSessionMsgs (state, obj) {\r\n    let type = obj.type || ''\r\n    if (type === 'destroy') { // 清空会话消息\r\n      state.currSessionMsgs = []\r\n      state.currSessionLastMsg = null\r\n      store.commit('updateCurrSessionId', {\r\n        type: 'destroy'\r\n      })\r\n    } else if (type === 'init') { // 初始化会话消息列表\r\n      if (state.currSessionId) {\r\n        let sessionId = state.currSessionId\r\n        let currSessionMsgs = [].concat(state.msgs[sessionId] || [])\r\n        // 做消息截断\r\n        let limit = config.localMsglimit\r\n        let msgLen = currSessionMsgs.length\r\n        if (msgLen - limit > 0) {\r\n          state.currSessionLastMsg = currSessionMsgs[msgLen - limit]\r\n          currSessionMsgs = currSessionMsgs.slice(msgLen - limit, msgLen)\r\n        } else if (msgLen > 0) {\r\n          state.currSessionLastMsg = currSessionMsgs[0]\r\n        } else {\r\n          state.currSessionLastMsg = null\r\n        }\r\n        state.currSessionMsgs = []\r\n        let lastMsgTime = 0\r\n        currSessionMsgs.forEach(msg => {\r\n          if ((msg.time - lastMsgTime) > 1000 * 60 * 5) {\r\n            lastMsgTime = msg.time\r\n            state.currSessionMsgs.push({\r\n              type: 'timeTag',\r\n              text: util.formatDate(msg.time, false)\r\n            })\r\n          }\r\n          state.currSessionMsgs.push(msg)\r\n        })\r\n        store.dispatch('checkTeamMsgReceipt', state.currSessionMsgs)\r\n      }\r\n    } else if (type === 'put') { // 追加一条消息\r\n      let newMsg = obj.msg\r\n      let lastMsgTime = 0\r\n      let lenCurrMsgs = state.currSessionMsgs.length\r\n      if (lenCurrMsgs > 0) {\r\n        lastMsgTime = state.currSessionMsgs[lenCurrMsgs - 1].time\r\n      }\r\n      if (newMsg) { \r\n        if ((newMsg.time - lastMsgTime) > 1000 * 60 * 5) {\r\n          state.currSessionMsgs.push({\r\n            type: 'timeTag',\r\n            text: util.formatDate(newMsg.time, false)\r\n          })\r\n        }\r\n        state.currSessionMsgs.push(newMsg)\r\n        store.dispatch('checkTeamMsgReceipt', [newMsg])\r\n      }\r\n    } else if (type === 'concat') {\r\n      // 一般用于历史消息拼接\r\n      let currSessionMsgs = []\r\n      let lastMsgTime = 0\r\n      obj.msgs.forEach(msg => {\r\n        if ((msg.time - lastMsgTime) > 1000 * 60 * 5) {\r\n          lastMsgTime = msg.time\r\n          currSessionMsgs.push({\r\n            type: 'timeTag',\r\n            text: util.formatDate(msg.time, false)\r\n          })\r\n        }\r\n        currSessionMsgs.push(msg)\r\n      })\r\n      currSessionMsgs.reverse()\r\n      currSessionMsgs.forEach(msg => {\r\n        state.currSessionMsgs.unshift(msg)\r\n      })\r\n      if (obj.msgs[0]) {\r\n        state.currSessionLastMsg = obj.msgs[0]\r\n      }\r\n      store.dispatch('checkTeamMsgReceipt', currSessionMsgs)\r\n    } else if (type === 'replace') {\r\n      let msgLen = state.currSessionMsgs.length\r\n      let lastMsgIndex = msgLen - 1\r\n      if (msgLen > 0) {\r\n        for (let i = lastMsgIndex; i >= 0; i--) {\r\n          if (state.currSessionMsgs[i].idClient === obj.idClient) {\r\n            state.currSessionMsgs.splice(i, 1, obj.msg)\r\n            break\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  updateSysMsgs (state, sysMsgs) {\r\n    const nim = state.nim\r\n    if (!Array.isArray(sysMsgs)) {\r\n      sysMsgs = [sysMsgs]\r\n    }\r\n    sysMsgs = sysMsgs.map(msg => {\r\n      msg.showTime = util.formatDate(msg.time, false)\r\n      return msg\r\n    })\r\n    // state.sysMsgs = nim.mergeSysMsgs(state.sysMsgs, sysMsgs)\r\n    state.sysMsgs = [].concat(nim.mergeSysMsgs(state.sysMsgs, sysMsgs))\r\n    Vue.set(state, sysMsgs, state.sysMsgs)\r\n  },\r\n  // 更新消息的状态，如管理员批准或拒绝入群后，会收到新消息，更新入群申请的状态\r\n  updateSysMsgState (state, sysMsg) {\r\n    let exitMsg = state.sysMsgs.find(msg => {\r\n      return msg.idServer === sysMsg.idServer\r\n    })\r\n    if (exitMsg) {\r\n      exitMsg.state = sysMsg.state\r\n    }\r\n  },\r\n  updateSysMsgUnread (state, obj) {\r\n    state.sysMsgUnread = Object.assign({}, obj)\r\n  },\r\n  updateCustomSysMsgs (state, sysMsgs) {\r\n    const nim = state.nim\r\n    if (!Array.isArray(sysMsgs)) {\r\n      sysMsgs = [sysMsgs]\r\n    }\r\n    sysMsgs = sysMsgs.map(msg => {\r\n      msg.showTime = util.formatDate(msg.time, false)\r\n      return msg\r\n    })\r\n    // state.customSysMsgs = nim.mergeSysMsgs(state.customSysMsgs, sysMsgs)\r\n    state.customSysMsgs = state.customSysMsgs.concat(sysMsgs)\r\n    Vue.set(state, sysMsgs, state.customSysMsgs)\r\n    store.commit('updateCustomSysMsgUnread', {\r\n      type: 'add',\r\n      unread: sysMsgs.length\r\n    })\r\n  },\r\n  updateCustomSysMsgUnread (state, obj) {\r\n    let {type, unread} = obj\r\n    switch (type) {\r\n      case 'reset':\r\n        state.customSysMsgUnread = unread || 0\r\n        break\r\n      case 'add':\r\n        state.customSysMsgUnread += unread\r\n        break\r\n    }\r\n  },\r\n  resetSysMsgs (state, obj) {\r\n    let type = obj.type\r\n    switch (type) {\r\n      case 0:\r\n        state.sysMsgs = []\r\n        break\r\n      case 1:\r\n        state.customSysMsgs = []\r\n        store.commit('updateCustomSysMsgUnread', {\r\n          type: 'reset'\r\n        })\r\n        break\r\n    }\r\n  },\r\n  deleteSysMsgs (state, obj) {\r\n    let type = obj.type\r\n    let idServer = obj.idServer\r\n    let arr = type===0 ? state.sysMsgs : state.customSysMsgs\r\n    arr = arr.filter(msg=>{\r\n      return msg.idServer !== idServer\r\n    })\r\n    Vue.set(state, 'sysMsgs', arr)\r\n  },\r\n  setNoMoreHistoryMsgs (state) {\r\n    state.noMoreHistoryMsgs = true\r\n  },\r\n  resetNoMoreHistoryMsgs (state) {\r\n    state.noMoreHistoryMsgs = false\r\n  },\r\n  // 继续与机器人会话交互\r\n  continueRobotMsg (state, robotAccid) {\r\n    state.continueRobotAccid = robotAccid\r\n  },\r\n\r\n  initChatroomInfos (state, obj) {\r\n    state.chatroomInfos = obj\r\n  },\r\n  setCurrChatroom (state, chatroomId) {\r\n    state.currChatroomId = chatroomId\r\n    state.currChatroom = state.chatroomInsts[chatroomId]\r\n    state.currChatroomMsgs = []\r\n    state.currChatroomInfo = {}\r\n    state.currChatroomMembers = []\r\n  },\r\n  resetCurrChatroom (state) {\r\n    state.currChatroomId = null\r\n    state.currChatroom = null\r\n    state.currChatroomMsgs = []\r\n    state.currChatroomInfo = {}\r\n    state.currChatroomMembers = []\r\n  },\r\n  // 聊天室相关逻辑\r\n  updateChatroomInfo (state, obj) {\r\n    state.currChatroomInfo = Object.assign(state.currChatroomInfo, obj)\r\n  },\r\n  updateCurrChatroomMsgs (state, obj) {\r\n    let {type, msgs} = Object.assign({}, obj)\r\n    if (type === 'put') {\r\n      msgs.forEach(msg => {\r\n        let chatroomId = msg.chatroomId\r\n        if (chatroomId === state.currChatroomId) {\r\n          msgs.forEach(msg => {\r\n            state.currChatroomMsgs.push(msg)\r\n          })\r\n        }\r\n      })\r\n    } else if (type === 'concat') {\r\n      // 一般用于历史消息拼接\r\n      let currSessionMsgs = obj.msgs\r\n      currSessionMsgs.reverse()\r\n      currSessionMsgs.forEach(msg => {\r\n        state.currSessionMsgs.unshift(msg)\r\n      })\r\n      if (obj.msgs[0]) {\r\n        state.currSessionLastMsg = obj.msgs[0]\r\n      }\r\n    }\r\n  },\r\n  getChatroomInfo (state, obj) {\r\n    state.currChatroomInfo = obj\r\n  },\r\n  updateChatroomMembers (state, obj) {\r\n    let {type, members} = obj\r\n    if (type === 'destroy') {\r\n      state.currChatroomMembers = []\r\n    } else if (type === 'put') {\r\n      members.forEach(member => {\r\n        if (member.online) {\r\n          state.currChatroomMembers.push(member)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  updateTeamList (state, teams) {\r\n    const nim = state.nim\r\n    store.state.teamlist = nim.mergeTeams(store.state.teamlist, teams)\r\n    store.state.teamlist = nim.cutTeams(store.state.teamlist, teams.invalid)\r\n  },\r\n  updateTeamMembers (state, obj) {\r\n    const nim = state.nim\r\n    var teamId = obj.teamId\r\n    var members = obj.members\r\n    state.teamMembers = state.teamMembers || {}\r\n    state.teamMembers[teamId] = nim.mergeTeamMembers(state.teamMembers[teamId], members)\r\n    state.teamMembers[teamId] = nim.cutTeamMembers(state.teamMembers[teamId], members.invalid)\r\n    state.teamMembers[teamId].sort((a, b) => {\r\n      // 将群主和管理员排在队列前方\r\n      if (a.type === 'owner' || b.type === 'owner') {\r\n        return a.type === 'owner' ? -1 : 1\r\n      }\r\n      if (a.type === 'manager' || b.type === 'manager') {\r\n        return a.type === 'manager' ? -1 : b.type === 'manager' ? 1 : 0\r\n      }\r\n      return -1\r\n    })\r\n    state.teamMembers = Object.assign({}, state.teamMembers)\r\n  },\r\n  removeTeamMembersByAccounts(state, obj) {\r\n    var teamId = obj.teamId\r\n    var invalidAccounts = obj.accounts\r\n    if (state.teamMembers[teamId] === undefined) return\r\n    state.teamMembers[teamId] = state.teamMembers[teamId].filter((member, index)=>{\r\n      return invalidAccounts.indexOf(member.account)===-1\r\n    })\r\n    state.teamMembers = Object.assign({}, state.teamMembers)\r\n  },\r\n  updateTeamInfo(state, team) {\r\n    var index = state.teamlist.findIndex(item => { return item.teamId === team.teamId })\r\n    if (index === -1) return\r\n    for (const key in team) {\r\n      if (key !== 'teamId' && team.hasOwnProperty(key) && team[key]) {\r\n        state.teamlist[index][key] = team[key]\r\n      }\r\n    }\r\n  },\r\n  updateTeamSettingConfig(state, obj) {\r\n    state.teamSettingConfig = obj\r\n  },\r\n  updateSentReceipedMap(state, obj) {\r\n    if (!obj || obj.length<1) {\r\n      return\r\n    }\r\n    var teamId = obj[0].teamId\r\n    if (!state.sentReceipedMap[teamId]) {\r\n      state.sentReceipedMap[teamId] = []\r\n    }\r\n    state.sentReceipedMap[teamId].push(...obj.map(msg => msg.idServer))\r\n  },\r\n  updateReceiptQueryList(state, obj) {\r\n    if (state.currReceiptQueryTeamId !== obj.teamId) {\r\n      state.receiptQueryList = []\r\n      state.teamMsgReads = []\r\n      state.currReceiptQueryTeamId = obj.teamId\r\n    }\r\n    var needQuery = obj.msgs\r\n    .filter(msg => \r\n      msg.needMsgReceipt && msg.from === state.myInfo.account &&  !state.receiptQueryList.find(item => item.idServer === msg.idServer)\r\n    )\r\n    .map(msg => {\r\n      return {\r\n        teamId: obj.teamId,\r\n        idServer: msg.idServer\r\n      }\r\n    })\r\n    if (needQuery.length>0) {\r\n      state.receiptQueryList.push(...needQuery)\r\n    }\r\n    if (needQuery.length > 0) {\r\n      store.dispatch('getTeamMsgReads', needQuery)\r\n    }\r\n  },\r\n  updateTeamMsgReads(state, obj) {\r\n    state.teamMsgReads.push(...obj.teamMsgReceipts)\r\n  },\r\n  updateSingleTeamMsgReads(state, obj) {\r\n    state.teamMsgReads.forEach(item => {\r\n      if (item.idServer === obj.idServer) {\r\n        item.unread = obj.unread\r\n        item.read = obj.read\r\n      }\r\n    })\r\n    // 更新已读未读账号列表\r\n    var unreadAccounts = state.teamMsgReadsDetail.unreadAccounts\r\n    var findIndex = unreadAccounts.findIndex(account => account === obj.account)\r\n    if (findIndex >= 0) {\r\n      unreadAccounts.splice(findIndex, 1)\r\n      state.teamMsgReadsDetail.readAccounts.push(obj.account)\r\n    }\r\n  },\r\n  initMsgReceiptDetail(state, obj) {\r\n    state.teamMsgReadsDetail.readAccounts = obj.readAccounts\r\n    state.teamMsgReadsDetail.unreadAccounts =  obj.unreadAccounts\r\n  },\r\n}\r\n","import pageUtil from '../../utils/page'\r\n\r\n// 显示加载中进度条\r\nexport function showLoading ({state, commit}) {\r\n  commit('updateLoading', true)\r\n}\r\n\r\n// 隐藏加载中进度条\r\nexport function hideLoading ({state, commit}) {\r\n  commit('updateLoading', false)\r\n}\r\n\r\n// 显示原图片\r\nexport function showFullscreenImg ({state, commit}, obj) {\r\n  if (obj) {\r\n    obj.type = 'show'\r\n    commit('updateFullscreenImage', obj)\r\n  }\r\n}\r\n\r\n// 隐藏原图片\r\nexport function hideFullscreenImg ({state, commit}) {\r\n  commit('updateFullscreenImage', {\r\n    type: 'hide'\r\n  })\r\n}\r\n","/*\r\n * 用户账号信息\r\n */\r\n\r\nimport store from '../'\r\nimport config from '../../configs'\r\nimport util from '../../utils'\r\n\r\nexport function formatUserInfo (obj) {\r\n  const nim = store.state.nim\r\n  let gender = ''\r\n  switch (obj.gender) {\r\n    case 'male':\r\n      gender = '男'\r\n      break\r\n    case 'female':\r\n      gender = '女'\r\n      break\r\n    case 'unknown':\r\n      gender = ''\r\n      break\r\n  }\r\n\r\n  let custom = obj.custom || ''\r\n  try {\r\n    custom = JSON.parse(custom)\r\n  } catch (e) {\r\n    custom = {\r\n      data: custom\r\n    }\r\n  }\r\n\r\n  if (obj.avatar) {\r\n    obj.avatar = nim.viewImageSync({\r\n      url: obj.avatar, // 必填\r\n      thumbnail: { // 生成缩略图， 可选填\r\n        width: 40,\r\n        height: 40,\r\n        mode: 'cover'\r\n      }\r\n    })\r\n    // obj.avatar += '?imageView&thumbnail=40x40&quality=85'\r\n  } else {\r\n    obj.avatar = config.defaultUserIcon\r\n  }\r\n\r\n  let result = Object.assign(obj, {\r\n    account: obj.account,\r\n    nick: obj.nick || '',\r\n    avatar: obj.avatar || config.defaultUserIcon,\r\n    birth: obj.birth || '',\r\n    email: obj.email || '',\r\n    tel: obj.tel || '',\r\n    gender,\r\n    sign: obj.sign || '',\r\n    custom,\r\n    createTime: obj.createTime || (new Date()).getTime(),\r\n    updateTime: obj.updateTime || (new Date()).getTime()\r\n  })\r\n\r\n  return result\r\n}\r\n\r\nexport function onMyInfo (obj) {\r\n  obj = util.mergeObject(store.state.myInfo, obj);\r\n  let myInfo = formatUserInfo(obj)\r\n  store.commit('updateMyInfo', myInfo)\r\n}\r\n\r\nexport function onUserInfo (users) {\r\n  if (!Array.isArray(users)) {\r\n    users = [users]\r\n  }\r\n  users = users.map(formatUserInfo)\r\n  store.commit('updateUserInfo', users)\r\n}\r\n","/*\r\n * 用户关系及好友关系托管\r\n */\r\n\r\nimport store from '../'\r\nimport { formatUserInfo } from './userInfo' \r\n\r\n// 好友关系，回调\r\nexport function onFriends (friends) {\r\n  friends = friends.map(item => {\r\n    if (typeof item.isFriend !== 'boolean') {\r\n      item.isFriend = true\r\n    }\r\n    return item\r\n  })\r\n  store.commit('updateFriends', friends)\r\n  // 更新好友信息字典，诸如昵称\r\n  store.commit('updateUserInfo', friends)\r\n}\r\n\r\n// 更新好友资料，添加好友成功\r\nexport function onUpdateFriend(error, friends) {\r\n  if (error) {\r\n    alert(error)\r\n    return\r\n  }\r\n  if (!Array.isArray(friends)) {\r\n    friends = [friends]\r\n  }\r\n\r\n  friends = friends.map(item => {\r\n    if (typeof item.isFriend !== 'boolean') {\r\n      item.isFriend = true\r\n    }\r\n    return item\r\n  })\r\n\r\n  // 补充好友资料\r\n  store.dispatch('searchUsers', {\r\n    accounts: friends.map(item => {\r\n      return item.account\r\n    }),\r\n    done: (users) => {\r\n      const nim = store.state.nim\r\n      friends = nim.mergeFriends(friends, users).map(formatUserInfo)\r\n      // 更新好友列表\r\n      store.commit('updateFriends', friends)\r\n      // 更新好友资料\r\n      store.commit('updateUserInfo', friends)\r\n    }\r\n  })\r\n}\r\n\r\n// 删除好友，这里使用标记删除\r\nexport function onDeleteFriend(error, friends) {\r\n  if (error) {\r\n    alert(error)\r\n    return\r\n  }\r\n  if (!Array.isArray(friends)) {\r\n    friends = [friends]\r\n  }\r\n  friends = friends.map(item => {\r\n    item.isFriend = false\r\n    return item\r\n  })\r\n  // 更新好友列表\r\n  store.commit('updateFriends', [], friends)\r\n  // 更新好友资料\r\n  store.commit('updateUserInfo', friends)\r\n}\r\n\r\nexport function onSyncFriendAction(obj) {\r\n  switch (obj.type) {\r\n    case 'addFriend':\r\n      // alert('你在其它端直接加了一个好友' + obj.account + ', 附言' + obj.ps);\r\n      onUpdateFriend(null, obj.friend);\r\n      break;\r\n    case 'applyFriend':\r\n      // alert('你在其它端申请加了一个好友' + obj.account + ', 附言' + obj.ps);\r\n      break;\r\n    case 'passFriendApply':\r\n      alert('你在其它端通过了一个好友申请' + obj.account + ', 附言' + obj.ps);\r\n      onUpdateFriend(null, obj.friend);\r\n      break;\r\n    case 'rejectFriendApply':\r\n      // alert('你在其它端拒绝了一个好友申请' + obj.account + ', 附言' + obj.ps);\r\n      break;\r\n    case 'deleteFriend':\r\n      // alert('你在其它端删了一个好友' + obj.account);\r\n      onDeleteFriend(null, {\r\n        account: obj.account\r\n      });\r\n      break;\r\n    case 'updateFriend':\r\n      // alert('你在其它端更新了一个好友', obj.friend);\r\n      onUpdateFriend(null, obj.friend);\r\n      break;\r\n  }\r\n}\r\n\r\n// 更新好友昵称\r\nexport function updateFriend ({state, commit}, friend) {\r\n  const nim = state.nim\r\n  nim.updateFriend({\r\n    account: friend.account,\r\n    alias: friend.alias,\r\n    done: onUpdateFriend\r\n  })\r\n}\r\n\r\nexport function addFriend ({state, commit}, account) {\r\n  const nim = state.nim\r\n  nim.addFriend({\r\n    account,\r\n    ps: '',\r\n    done: onUpdateFriend\r\n  })\r\n}\r\n\r\nexport function deleteFriend ({state, commit}, account) {\r\n  const nim = state.nim\r\n  nim.deleteFriend({\r\n    account,\r\n    done: onDeleteFriend\r\n  })\r\n}\r\n\r\n\r\n","import store from '../'\r\n\r\nexport function onRobots (robots) {\r\n  store.commit('updateRobots', robots)\r\n}\r\n","/*\r\n * 黑名单及静音列表\r\n */\r\n\r\nimport store from '../'\r\n\r\n// 完成添加/删除黑名单，初始化获取黑名单列表，都会触发此函数\r\nexport function onBlacklist (blacks) {\r\n  blacks = blacks.map(item => {\r\n    if (typeof item.isBlack !== 'boolean') {\r\n      item.isBlack = true\r\n    }\r\n    return item\r\n  })\r\n  // 更新黑名单列表\r\n  store.commit('updateBlacklist', blacks)\r\n  // 在好友身上打上标记\r\n  store.commit('updateFriends', blacks)\r\n  // 更新好友信息字典\r\n  store.commit('updateUserInfo', blacks)\r\n}\r\n\r\nexport function onMarkInBlacklist (obj) {\r\n  obj = obj || obj2\r\n  let account = obj.account\r\n  // 说明是自己，被别人加入黑名单\r\n  if (account === store.state.userUID) {\r\n\r\n  } else {\r\n    // 说明是别人的帐号，黑名单通知\r\n    if (typeof obj.isAdd === 'boolean') {\r\n      onBlacklist([{\r\n        account,\r\n        isBlack: obj.isAdd\r\n      }])\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateBlack ({state}, {account, isBlack}) {\r\n  const nim = state.nim\r\n  if (account && (typeof isBlack === 'boolean')) {\r\n    nim.markInBlacklist({\r\n      account,\r\n      // `true`表示加入黑名单, `false`表示从黑名单移除\r\n      isAdd: isBlack,\r\n      done: function (error, obj) {\r\n        if (error) {\r\n          alert(error)\r\n          return\r\n        }\r\n        onMarkInBlacklist(obj)\r\n      }\r\n    })\r\n  }\r\n}","/*\r\n * 会话列表\r\n */\r\n\r\nimport store from '../'\r\n\r\n// 如果会话对象不是好友，需要更新好友名片\r\nfunction updateSessionAccount (sessions) {\r\n  let accountsNeedSearch = []\r\n  sessions.forEach(item => {\r\n    if (item.scene === 'p2p') {\r\n      // 如果不存在缓存资料\r\n      if (!store.state.userInfos[item.to]) {\r\n        accountsNeedSearch.push(item.to)\r\n      }\r\n    }\r\n  })\r\n  if (accountsNeedSearch.length > 0) {\r\n    store.dispatch('searchUsers', {\r\n      accounts: accountsNeedSearch\r\n    })\r\n  }\r\n}\r\n\r\n// onSessions只在初始化完成后回调\r\nexport function onSessions (sessions) {\r\n  updateSessionAccount(sessions)\r\n  store.commit('updateSessions', sessions)\r\n}\r\n\r\nexport function onUpdateSession (session) {\r\n  let sessions = [session]\r\n  updateSessionAccount(sessions)\r\n  store.commit('updateSessions', sessions)\r\n}\r\n\r\nexport function deleteSession ({state, commit}, sessionId) {\r\n  const nim = state.nim\r\n  sessionId = sessionId || ''\r\n  let scene = null\r\n  let account = null\r\n  if (/^p2p-/.test(sessionId)) {\r\n    scene = 'p2p'\r\n    account = sessionId.replace(/^p2p-/, '')\r\n  } else if (/^team-/.test(sessionId)) {\r\n    scene = 'team'\r\n    account = sessionId.replace(/^team-/, '')\r\n  }\r\n  if (account && scene) {\r\n    nim.deleteSession({\r\n      scene,\r\n      to: account,\r\n      done: function deleteServerSessionDone (error, obj) {\r\n        if (error) {\r\n          alert(error)\r\n          return\r\n        }\r\n        nim.deleteLocalSession({\r\n          id: sessionId,\r\n          done: function deleteLocalSessionDone (error, obj) {\r\n            if (error) {\r\n              alert(error)\r\n              return\r\n            }\r\n            commit('deleteSessions', [sessionId])\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function setCurrSession ({state, commit, dispatch}, sessionId) {\r\n  const nim = state.nim\r\n  if (sessionId) {\r\n    commit('updateCurrSessionId', {\r\n      type: 'init',\r\n      sessionId\r\n    })\r\n    if (nim) {\r\n      // 如果在聊天页面刷新，此时还没有nim实例，需要在onSessions里同步\r\n      nim.setCurrSession(sessionId)\r\n      commit('updateCurrSessionMsgs', {\r\n        type: 'init',\r\n        sessionId\r\n      })\r\n      // 发送已读回执\r\n      dispatch('sendMsgReceipt')\r\n    }\r\n  }\r\n}\r\n\r\nexport function resetCurrSession ({state, commit}) {\r\n  const nim = state.nim\r\n  nim.resetCurrSession()\r\n  commit('updateCurrSessionMsgs', {\r\n    type: 'destroy'\r\n  })\r\n}\r\n","import store from '../'\r\nimport config from '../../configs'\r\nimport util from '../../utils'\r\n\r\nexport function formatMsg (msg) {\r\n  const nim = store.state.nim\r\n  if (msg.type === 'robot') {\r\n    if (msg.content && msg.content.flag === 'bot') {\r\n      if (msg.content.message) {\r\n        msg.content.message = msg.content.message.map(item => {\r\n          switch (item.type) {\r\n            case 'template':\r\n              item.content = nim.parseRobotTemplate(item.content)\r\n              break\r\n            case 'text':\r\n            case 'image':\r\n            case 'answer':\r\n              break\r\n          }\r\n          return item\r\n        })\r\n      }\r\n    }\r\n  }\r\n  return msg\r\n}\r\n\r\nexport function onRoamingMsgs (obj) {\r\n  let msgs = obj.msgs.map(msg => {\r\n    return formatMsg(msg)\r\n  })\r\n  store.commit('updateMsgs', msgs)\r\n}\r\n\r\nexport function onOfflineMsgs (obj) {\r\n  let msgs = obj.msgs.map(msg => {\r\n    return formatMsg(msg)\r\n  })\r\n  store.commit('updateMsgs', msgs)\r\n}\r\n\r\nexport function onMsg (msg) {\r\n  msg = formatMsg(msg)\r\n  store.commit('putMsg', msg)\r\n  if (msg.sessionId === store.state.currSessionId) {\r\n    store.commit('updateCurrSessionMsgs', {\r\n      type: 'put',\r\n      msg\r\n    })\r\n    // 发送已读回执\r\n    store.dispatch('sendMsgReceipt')\r\n  }\r\n  if (msg.scene === 'team' && msg.type ==='notification') {\r\n    store.dispatch('onTeamNotificationMsg', msg)\r\n  }\r\n}\r\n\r\nfunction onSendMsgDone (error, msg) {\r\n  store.dispatch('hideLoading')\r\n  if (error) {\r\n    // 被拉黑\r\n    if (error.code === 7101) {\r\n      msg.status = 'success'\r\n      alert(error.message)\r\n    } else {\r\n      alert(error.message)\r\n    }\r\n  }\r\n  onMsg(msg)\r\n}\r\n\r\n// 消息撤回\r\nexport function onRevocateMsg (error, msg) {\r\n  const nim = store.state.nim\r\n  if (error) {\r\n    if (error.code === 508) {\r\n      alert('发送时间超过2分钟的消息，不能被撤回')\r\n    } else {\r\n      alert(error)\r\n    }\r\n    return\r\n  }\r\n  let tip = ''\r\n  if (msg.from === store.state.userUID) {\r\n    tip = '你撤回了一条消息'\r\n  } else {\r\n    let userInfo = store.state.userInfos[msg.from]\r\n    if (userInfo) {\r\n      tip = `${util.getFriendAlias(userInfo)}撤回了一条消息`\r\n    } else {\r\n      tip = '对方撤回了一条消息'\r\n    }\r\n  }\r\n  nim.sendTipMsg({\r\n    isLocal: true,\r\n    scene: msg.scene,\r\n    to: msg.to,\r\n    tip,\r\n    time: msg.time,\r\n    done: function sendTipMsgDone (error, tipMsg) {\r\n      let idClient = msg.deletedIdClient || msg.idClient\r\n      store.commit('replaceMsg', {\r\n        sessionId: msg.sessionId,\r\n        idClient,\r\n        msg: tipMsg\r\n      })\r\n      if (msg.sessionId === store.state.currSessionId) {\r\n        store.commit('updateCurrSessionMsgs', {\r\n          type: 'replace',\r\n          idClient,\r\n          msg: tipMsg\r\n        })\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport function revocateMsg ({state, commit}, msg) {\r\n  const nim = state.nim\r\n  let {idClient} = msg\r\n  msg = Object.assign(msg, state.msgsMap[idClient])\r\n  nim.deleteMsg({\r\n    msg,\r\n    done: function deleteMsgDone (error) {\r\n      onRevocateMsg(error, msg)\r\n    }\r\n  })\r\n}\r\nexport function updateLocalMsg ({state, commit}, msg) {\r\n  store.commit('updateCurrSessionMsgs', {\r\n    type: 'replace',\r\n    idClient: msg.idClient,\r\n    msg: msg\r\n  })\r\n  state.nim.updateLocalMsg({\r\n    idClient: msg.idClient,\r\n    localCustom: msg.localCustom\r\n  })\r\n  store.commit('replaceMsg', {\r\n    sessionId: msg.sessionId,\r\n    idClient: msg.idClient,\r\n    msg: msg\r\n  })\r\n}\r\n\r\n// 发送普通消息\r\nexport function sendMsg ({state, commit}, obj) {\r\n  const nim = state.nim\r\n  obj = obj || {}\r\n  let type = obj.type || ''\r\n  store.dispatch('showLoading')\r\n  switch (type) {\r\n    case 'text':\r\n      nim.sendText({\r\n        scene: obj.scene,\r\n        to: obj.to,\r\n        text: obj.text,\r\n        done: onSendMsgDone,\r\n        needMsgReceipt: obj.needMsgReceipt || false\r\n      })\r\n      break\r\n    case 'custom':\r\n      nim.sendCustomMsg({\r\n        scene: obj.scene,\r\n        to: obj.to,\r\n        pushContent: obj.pushContent,\r\n        content: JSON.stringify(obj.content),\r\n        done: onSendMsgDone\r\n      })\r\n  }\r\n}\r\n\r\n// 发送文件消息\r\nexport function sendFileMsg ({state, commit}, obj) {\r\n  const nim = state.nim\r\n  let { type, fileInput } = obj\r\n  if (!type && fileInput) {\r\n    type = 'file'\r\n    if (/\\.(png|jpg|bmp|jpeg|gif)$/i.test(fileInput.value)) {\r\n      type = 'image'\r\n    } else if (/\\.(mov|mp4|ogg|webm)$/i.test(fileInput.value)) {\r\n      type = 'video'\r\n    }\r\n  }\r\n  store.dispatch('showLoading')\r\n  const data = Object.assign({\r\n    type,\r\n    uploadprogress: function (data) {\r\n      // console.log(data.percentageText)\r\n    },\r\n    uploaderror: function () {\r\n      fileInput.value = ''\r\n      console && console.log('上传失败')\r\n    },\r\n    uploaddone: function(error, file) {\r\n      fileInput.value = ''\r\n      // console.log(error);\r\n      // console.log(file);\r\n    },\r\n    beforesend: function (msg) {\r\n      // console && console.log('正在发送消息, id=', msg);\r\n    },\r\n    done: function (error, msg) {\r\n      onSendMsgDone (error, msg)\r\n    }\r\n  }, obj)\r\n  nim.sendFile(data)\r\n}\r\n\r\n// 发送机器人消息\r\nexport function sendRobotMsg ({state, commit}, obj) {\r\n  const nim = state.nim\r\n  let {type, scene, to, robotAccid, content, params, target, body} = obj\r\n  scene = scene || 'p2p'\r\n  if (type === 'text') {\r\n    nim.sendRobotMsg({\r\n      scene,\r\n      to,\r\n      robotAccid: robotAccid || to,\r\n      content: {\r\n        type: 'text',\r\n        content,\r\n      },\r\n      body,\r\n      done: onSendMsgDone\r\n    })\r\n  } else if (type === 'welcome') {\r\n    nim.sendRobotMsg({\r\n      scene,\r\n      to,\r\n      robotAccid: robotAccid || to,\r\n      content: {\r\n        type: 'welcome',\r\n      },\r\n      body,\r\n      done: onSendMsgDone\r\n    })\r\n  } else if (type === 'link') {\r\n    nim.sendRobotMsg({\r\n      scene,\r\n      to,\r\n      robotAccid: robotAccid || to,\r\n      content: {\r\n        type: 'link',\r\n        params,\r\n        target\r\n      },\r\n      body,\r\n      done: onSendMsgDone\r\n    })\r\n  }\r\n}\r\n\r\n// 发送消息已读回执\r\nexport function sendMsgReceipt ({state, commit}) {\r\n  // 如果有当前会话\r\n  let currSessionId = store.state.currSessionId\r\n  if (currSessionId) {\r\n    // 只有点对点消息才发已读回执\r\n    if (util.parseSession(currSessionId).scene === 'p2p') {\r\n      let msgs = store.state.currSessionMsgs\r\n      const nim = state.nim\r\n      if (state.sessionMap[currSessionId]) {\r\n        nim.sendMsgReceipt({\r\n          msg: state.sessionMap[currSessionId].lastMsg,\r\n          done: function sendMsgReceiptDone (error, obj) {\r\n            // do something\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction sendMsgReceiptDone(error, obj) {\r\n    console.log('发送消息已读回执' + (!error?'成功':'失败'), error, obj);\r\n}\r\n\r\nexport function getHistoryMsgs ({state, commit}, obj) {\r\n  const nim = state.nim\r\n  if (nim) {\r\n    let {scene, to} = obj\r\n    let options = {\r\n      scene,\r\n      to,\r\n      reverse: false,\r\n      asc: true,\r\n      limit: config.localMsglimit || 20,\r\n      done: function getHistoryMsgsDone (error, obj) {\r\n        if (obj.msgs) {\r\n          if (obj.msgs.length === 0) {\r\n            commit('setNoMoreHistoryMsgs')\r\n          } else {\r\n            let msgs = obj.msgs.map(msg => {\r\n              return formatMsg(msg)\r\n            })\r\n            commit('updateCurrSessionMsgs', {\r\n              type: 'concat',\r\n              msgs: msgs\r\n            })\r\n          }\r\n        }\r\n        store.dispatch('hideLoading')\r\n      }\r\n    }\r\n    if (state.currSessionLastMsg) {\r\n      options = Object.assign(options, {\r\n        lastMsgId: state.currSessionLastMsg.idServer,\r\n        endTime: state.currSessionLastMsg.time,\r\n      })\r\n    }\r\n    store.dispatch('showLoading')\r\n    nim.getHistoryMsgs(options)\r\n  }\r\n}\r\n\r\nexport function resetNoMoreHistoryMsgs ({commit}) {\r\n  commit('resetNoMoreHistoryMsgs')\r\n}\r\n\r\n// 继续与机器人会话交互\r\nexport function continueRobotMsg ({commit}, robotAccid) {\r\n  commit('continueRobotMsg', robotAccid)\r\n}\r\n","import store from '../'\r\nimport {onUpdateFriend, onDeleteFriend} from './friends'\r\nimport {onRevocateMsg} from './msgs'\r\n\r\nexport function onSysMsgs (sysMsgs) {\r\n  store.commit('updateSysMsgs', sysMsgs)\r\n}\r\n\r\nexport function onSysMsg (sysMsg) {\r\n  switch (sysMsg.type) {\r\n    // 在其他端添加或删除好友\r\n    case 'addFriend':\r\n      onUpdateFriend(null, {\r\n        account: sysMsg.from\r\n      })\r\n      store.commit('updateSysMsgs', [sysMsg])\r\n      break\r\n    case 'deleteFriend':\r\n      onDeleteFriend(null, {\r\n        account: sysMsg.from\r\n      })\r\n      break\r\n    // 对方消息撤回\r\n    case 'deleteMsg':\r\n      if(sysMsg.scene === 'p2p') {\r\n        sysMsg.sessionId = `p2p-${sysMsg.from}`\r\n      } else {\r\n        sysMsg.sessionId = `team-${sysMsg.to}`\r\n      }\r\n      onRevocateMsg(null, sysMsg)\r\n      break\r\n    case 'teamInvite': //被邀请入群\r\n    case 'applyTeam':  // 申请入群\r\n    case 'rejectTeamApply':  // 申请入群被拒绝\r\n    case 'rejectTeamInvite': // 拒绝入群邀请\r\n      store.commit('updateSysMsgs', [sysMsg])\r\n      break\r\n  }\r\n  store.commit('updateSysMsgState', sysMsg)\r\n}\r\n\r\nexport function onSysMsgUnread (obj) {\r\n  store.commit('updateSysMsgUnread', obj)\r\n}\r\n\r\nexport function onCustomSysMsgs (customSysMsgs) {\r\n    console.log(customSysMsgs)\r\n  if (!Array.isArray(customSysMsgs)) {\r\n    customSysMsgs = [customSysMsgs]\r\n  }\r\n  customSysMsgs = customSysMsgs.filter(msg => {\r\n    if (msg.type === 'custom') {\r\n      if (msg.content) {\r\n        try {\r\n          let content = JSON.parse(msg.content)\r\n          // 消息正在输入中\r\n          if ((content.id + '') === '1') {\r\n            return false\r\n          }\r\n        } catch (e) {}\r\n      }\r\n    }\r\n    return true\r\n  })\r\n  if (customSysMsgs.length > 0) {\r\n    store.commit('updateCustomSysMsgs', customSysMsgs)\r\n  }\r\n}\r\n\r\n// 不传obj则全部重置\r\nexport function markSysMsgRead ({state, commit}, obj) {\r\n  const nim = state.nim\r\n  let sysMsgs = []\r\n  if (obj && obj.sysMsgs) {\r\n    sysMsgs = obj.sysMsgs\r\n  } else {\r\n    sysMsgs = state.sysMsgs\r\n  }\r\n  if (Array.isArray(sysMsgs) && sysMsgs.length > 0) {\r\n    nim.markSysMsgRead({\r\n      sysMsgs,\r\n      done: function (error, obj) {\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function markCustomSysMsgRead ({state, commit}) {\r\n  commit('updateCustomSysMsgUnread', {\r\n    type: 'reset'\r\n  })\r\n}\r\n\r\nexport function resetSysMsgs ({state, commit}, obj) {\r\n  commit('resetSysMsgs', obj)\r\n}\r\n\r\nexport function deleteSysMsgs({commit}, obj) {\r\n  commit('deleteSysMsgs', obj)\r\n}","import store from '../'\r\n\r\n// 收到群列表及更新群列表接口\r\nexport function onTeams(teams) {\r\n  if (!Array.isArray(teams)) {\r\n    teams = [teams]\r\n  }\r\n  teams = teams.filter(item => !!item)\r\n  teams.forEach(team=>{\r\n    if (team.validToCurrentUser === undefined) {\r\n      team.validToCurrentUser = true\r\n    }\r\n    if (team.avatar && team.avatar.indexOf('nim.nosdn.127') >0 && team.avatar.indexOf('?imageView')===-1) {\r\n      team.avatar = team.avatar + '?imageView&thumbnail=300y300'\r\n    }\r\n  })\r\n  store.commit('updateTeamList', teams)\r\n}\r\n\r\n// 收到群成员及更新群成员接口\r\nexport function onTeamMembers(obj) {\r\n  store.commit('updateTeamMembers', obj)\r\n}\r\n\r\nexport function onCreateTeam(team) {\r\n  onTeams(team)\r\n  onTeamMembers({\r\n    teamId: team.teamId,\r\n    members: []\r\n    // members: [team.owner]\r\n  })\r\n}\r\n\r\nexport function onSynCreateTeam(team){\r\n  onTeams(team)\r\n}\r\n\r\nexport function onDismissTeam(obj) {\r\n  store.commit('updateTeamList', {\r\n    invalid: { teamId: obj.teamId }\r\n  })\r\n}\r\n\r\nexport function onUpdateTeam(team) {\r\n  onTeams(team)\r\n}\r\n\r\nexport function onTeamNotificationMsg({state, commit}, msg) {\r\n  if (msg.attach.type === 'updateTeam' && msg.attach.team) {\r\n    store.commit('updateTeamInfo', msg.attach.team)\r\n  }\r\n  if (msg.attach.type === 'transferTeam') {\r\n    onTeamMembers({\r\n      teamId: msg.attach.team.teamId,\r\n      members: msg.attach.members\r\n    })\r\n  }\r\n}\r\n\r\nexport function onAddTeamMembers(obj) {\r\n  obj.accounts.forEach(account=>{\r\n    // 自己被拉入群时更新群列表\r\n    if (account === store.state.userUID) {\r\n      let team = [obj.team]\r\n      onTeams(team)\r\n    }\r\n  })\r\n  onTeamMembers({\r\n    teamId: obj.team.teamId,\r\n    members: obj.members\r\n  })\r\n}\r\n\r\nexport function onRemoveTeamMembers(obj) {\r\n  obj.accounts.forEach(account => {\r\n    // 自己被移出群时，更新群列表\r\n    if (account === store.state.userUID) {\r\n      obj.team.validToCurrentUser = false\r\n      let team = [obj.team]\r\n      onTeams(team)\r\n    }\r\n  })\r\n  store.commit('removeTeamMembersByAccounts', {\r\n    teamId: obj.team.teamId,\r\n    accounts: obj.accounts\r\n  })\r\n}\r\n\r\nexport function onUpdateTeamMember(teamMember) {\r\n  onTeamMembers({\r\n    teamId: teamMember.teamId,\r\n    members: teamMember\r\n  })\r\n}\r\n\r\nexport function onUpdateTeamMembersMute(obj) {\r\n  onTeamMembers({\r\n    teamId: obj.team.teamId,\r\n    members: obj.members\r\n  })\r\n}\r\n\r\nexport function onUpdateTeamManagers(obj) {\r\n  onTeamMembers({\r\n    teamId: obj.team.teamId,\r\n    members: obj.members\r\n  })\r\n}\r\n\r\nexport function onTeamMsgReceipt(obj) {\r\n  obj.teamMsgReceipts.forEach(item => {\r\n    if (item.teamId === store.state.currReceiptQueryTeamId) {\r\n      store.commit('updateSingleTeamMsgReads', item)\r\n    }\r\n  })\r\n  console.log('群消息回执通知' + obj)\r\n}\r\n\r\n// 进入可配置的群信息设置页，进入前改变state中的配置信息，进入页面后读取配置信息更新视图\r\nexport function enterSettingPage({commit}, obj) {\r\n  commit('updateTeamSettingConfig', obj)\r\n  setTimeout(() => {\r\n    location.href = `#/teamsetting`\r\n  }, 20)\r\n}\r\n\r\n\r\n/* \r\n* 代理nim sdk中对群组的操作方法\r\n* @functionName  nim sdk中的方法名\r\n* @options 传递给sdk方法的参数\r\n*/\r\nexport function delegateTeamFunction({state}, {functionName, options}) {\r\n  const nim = state.nim\r\n  if (functionName && nim[functionName] && typeof nim[functionName] === 'function') {\r\n    nim[functionName](options)\r\n  } else {\r\n    throw(`There is not property of '${functionName}' in nim or '${functionName}' is not a function`)\r\n  }\r\n}\r\n\r\nexport function getTeamMembers({ state }, teamId) {\r\n  const nim = state.nim\r\n  if (!nim) {\r\n    // 防止nim未初始化\r\n    setTimeout(() => {\r\n      getTeamMembers(store, teamId)\r\n    }, 200);\r\n    return \r\n  }\r\n  nim.getTeamMembers({\r\n    teamId: teamId,\r\n    done: (err, obj) => {\r\n      if (obj.members) {\r\n        onTeamMembers({\r\n          teamId: obj.teamId,\r\n          members: obj.members\r\n        })\r\n      } else {\r\n        setTimeout(() => {\r\n          getTeamMembers(store, teamId)\r\n        }, 200);\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nexport function checkTeamMsgReceipt({state}, msgs) {\r\n  var result = /team-(\\d+)/.exec(state.currSessionId)\r\n  if (!result) {\r\n    return null\r\n  }\r\n  var teamId = result[1]\r\n\r\n  var needToPeceiptList= getMsgNeedToReceipt(state, teamId, msgs)\r\n  if (needToPeceiptList && needToPeceiptList.length>0) {\r\n    nim.sendTeamMsgReceipt({\r\n      teamMsgReceipts: needToPeceiptList,\r\n      done: (err, obj, content) => {\r\n        console.log('标记群组消息已读' + (!err ? '成功' : '失败'));\r\n        if (!err) {\r\n          store.commit('updateSentReceipedMap', needToPeceiptList)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  store.commit('updateReceiptQueryList', {\r\n    teamId: teamId,\r\n    msgs: msgs\r\n  })\r\n}\r\n\r\n// 查询需要发送回执的消息\r\nfunction getMsgNeedToReceipt(state, teamId, msgs) {\r\n  var sentReceipedList = state.sentReceipedMap[teamId] || []\r\n  var needToReceipt = msgs.filter(msg => {\r\n    // 需要回执，且未发送过\r\n    return msg.needMsgReceipt && msg.from !== state.myInfo.account &&  !sentReceipedList.find(id => id === msg.idServer)     \r\n  }).map(msg => {\r\n    return {\r\n      teamId: teamId,\r\n      idServer: msg.idServer\r\n    }\r\n  })\r\n  return needToReceipt\r\n}\r\n\r\nexport function getTeamMsgReads({ state }, needQuery) {\r\n  nim.getTeamMsgReads({\r\n    teamMsgReceipts: needQuery,\r\n    done: (error, obj, content) => {\r\n      if (error) {\r\n        console.log('获取群组消息已读' + error)\r\n      }else {\r\n        console.log('获取群组消息已读：', content)\r\n        store.commit('updateTeamMsgReads', content)\r\n      }\r\n    }\r\n  })\r\n}\r\n","/*\r\n * SDK连接相关\r\n */\r\n\r\nimport config from '@/configs'\r\nimport pageUtil from '@/utils/page'\r\nimport util from '@/utils'\r\nimport store from '../'\r\nimport {onFriends, onSyncFriendAction} from './friends'\r\nimport {onRobots} from './robots'\r\nimport {onBlacklist, onMarkInBlacklist} from './blacks'\r\nimport {onMyInfo, onUserInfo} from './userInfo'\r\nimport {onSessions, onUpdateSession} from './session'\r\nimport {onRoamingMsgs, onOfflineMsgs, onMsg} from './msgs'\r\nimport {onSysMsgs, onSysMsg, onSysMsgUnread, onCustomSysMsgs} from './sysMsgs'\r\nimport { onTeams, onSynCreateTeam, onCreateTeam, onUpdateTeam, onTeamMembers, onUpdateTeamMember, onAddTeamMembers, onRemoveTeamMembers, onUpdateTeamManagers, onDismissTeam, onUpdateTeamMembersMute, onTeamMsgReceipt} from './team'\r\n\r\n// const SDK = require('@/sdk/' + config.sdk)\r\n\r\n// 重新初始化 NIM SDK\r\nexport function initNimSDK ({ state, commit, dispatch }, loginInfo) {\r\n  if (state.nim) {\r\n    state.nim.disconnect()\r\n  }\r\n  dispatch('showLoading')\r\n  // 初始化SDK\r\n  window.nim = state.nim = SDK.NIM.getInstance({\r\n    debug: true,\r\n    appKey: config.appkey,\r\n    account: loginInfo.uid,\r\n    token: loginInfo.sdktoken,\r\n    transports: ['websocket'],\r\n    db: config.useDb,\r\n    // logFunc: new SDK.NIM.LoggerPlugin({\r\n    //   url: '/webdemo/h5/getlogger',\r\n    //   level: 'info'\r\n    // }),\r\n    syncSessionUnread: true,\r\n    syncRobots: true,\r\n    autoMarkRead: true, // 默认为true\r\n    onconnect: function onConnect (event) {\r\n      if (loginInfo) {\r\n        // 连接上以后更新uid\r\n        commit('updateUserUID', loginInfo)\r\n      }\r\n    },\r\n    onerror: function onError (event) {\r\n      // alert(JSON.stringify(event))\r\n      debugger\r\n      alert('网络连接状态异常')\r\n      location.href = config.loginUrl\r\n    },\r\n    onwillreconnect: function onWillReconnect () {\r\n      console.log(event)\r\n    },\r\n    ondisconnect: function onDisconnect (error) {\r\n      switch (error.code) {\r\n        // 账号或者密码错误, 请跳转到登录页面并提示错误\r\n        case 302:\r\n          pageUtil.turnPage('帐号或密码错误', 'login')\r\n          break\r\n        // 被踢, 请提示错误后跳转到登录页面\r\n        case 'kicked':\r\n          let map = {\r\n            PC: '电脑版',\r\n            Web: '网页版',\r\n            Android: '手机版',\r\n            iOS: '手机版',\r\n            WindowsPhone: '手机版'\r\n          }\r\n          let str = error.from\r\n          let errorMsg = `你的帐号于${util.formatDate(new Date())}被${(map[str] || '其他端')}踢出下线，请确定帐号信息安全!`\r\n          pageUtil.turnPage(errorMsg, 'login')\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    // // 多端登录\r\n    // onloginportschange: onLoginPortsChange,\r\n    // 用户关系及好友关系\r\n    onblacklist: onBlacklist,\r\n    onsyncmarkinblacklist: onMarkInBlacklist,\r\n    // onmutelist: onMutelist,\r\n    // onsyncmarkinmutelist: onMarkInMutelist,\r\n    onfriends: onFriends,\r\n    onsyncfriendaction: onSyncFriendAction,\r\n    // 机器人\r\n    onrobots: onRobots,\r\n    // 用户名片 - actions/userInfo\r\n    onmyinfo: onMyInfo,\r\n    onupdatemyinfo: onMyInfo,\r\n    onusers: onUserInfo,\r\n    onupdateuser: onUserInfo,\r\n    // // 群组\r\n    onteams: onTeams,\r\n    onsynccreateteam: onSynCreateTeam,\r\n    syncTeams: true,\r\n    onteammembers: onTeamMembers,\r\n    onCreateTeam: onCreateTeam,\r\n    onDismissTeam: onDismissTeam,\r\n    onUpdateTeam: onUpdateTeam,\r\n    onAddTeamMembers: onAddTeamMembers,\r\n    onRemoveTeamMembers: onRemoveTeamMembers,\r\n    onUpdateTeamManagers: onUpdateTeamManagers,\r\n    onupdateteammember: onUpdateTeamMember,\r\n    onUpdateTeamMembersMute: onUpdateTeamMembersMute,\r\n    onTeamMsgReceipt: onTeamMsgReceipt,\r\n    // // 会话\r\n    onsessions: onSessions,\r\n    onupdatesession: onUpdateSession,\r\n    // // 消息\r\n    onroamingmsgs: onRoamingMsgs,\r\n    onofflinemsgs: onOfflineMsgs,\r\n    onmsg: onMsg,\r\n    // // 系统通知\r\n    onsysmsg: onSysMsg,\r\n    onofflinesysmsgs: onSysMsgs,\r\n    onupdatesysmsg: onSysMsg, // 通过、拒绝好友申请会收到此回调\r\n\r\n    onsysmsgunread: onSysMsgUnread,\r\n    onupdatesysmsgunread: onSysMsgUnread,\r\n\r\n    onofflinecustomsysmsgs: onCustomSysMsgs,\r\n    oncustomsysmsg: onCustomSysMsgs,\r\n    // // 同步完成\r\n    onsyncdone: function onSyncDone () {\r\n      dispatch('hideLoading')\r\n      // 说明在聊天列表页\r\n      if (store.state.currSessionId) {\r\n        dispatch('setCurrSession', store.state.currSessionId)\r\n      }\r\n    }\r\n  })\r\n  window.nim.useDb = config.useDb\r\n}\r\n","import store from '../'\r\nimport config from '../../configs'\r\nimport util from '../../utils'\r\nimport {formatMsg} from './msgs'\r\n\r\nexport function onChatroomMsgs (msgs) {\r\n  if (!Array.isArray(msgs)) {\r\n    msgs = [msgs]\r\n  }\r\n  msgs = msgs.map(msg => {\r\n    return formatMsg(msg)\r\n  })\r\n  if (store.state.currChatroomId) {\r\n    store.commit('updateCurrChatroomMsgs', {\r\n      type: 'put',\r\n      msgs\r\n    })\r\n  }\r\n}\r\n\r\nfunction onSendMsgDone (error, msg) {\r\n  store.dispatch('hideLoading')\r\n  if (error) {\r\n    alert(error.message)\r\n    return\r\n  }\r\n  onChatroomMsgs([msg])\r\n}\r\n\r\nexport function sendChatroomMsg ({state, commit}, obj) {\r\n  const chatroom = state.currChatroom\r\n  obj = obj || {}\r\n  let type = obj.type || ''\r\n  store.dispatch('showLoading')\r\n  switch (type) {\r\n    case 'text':\r\n      chatroom.sendText({\r\n        text: obj.text,\r\n        done: onSendMsgDone\r\n      })\r\n      break\r\n    case 'custom':\r\n      chatroom.sendCustomMsg({\r\n        content: JSON.stringify(obj.content),\r\n        pushContent: obj.pushContent,\r\n        done: onSendMsgDone\r\n      })\r\n  }\r\n}\r\n\r\nexport function sendChatroomRobotMsg ({state, commit}, obj) {\r\n  const chatroom = state.currChatroom\r\n  let {type, robotAccid, content, params, target, body} = obj\r\n  if (type === 'text') {\r\n    chatroom.sendRobotMsg({\r\n      robotAccid,\r\n      content: {\r\n        type: 'text',\r\n        content,\r\n      },\r\n      body,\r\n      done: onSendMsgDone\r\n    })\r\n  } else if (type === 'welcome') {\r\n    chatroom.sendRobotMsg({\r\n      robotAccid,\r\n      content: {\r\n        type: 'welcome',\r\n      },\r\n      body,\r\n      done: onSendMsgDone\r\n    })\r\n  } else if (type === 'link') {\r\n    chatroom.sendRobotMsg({\r\n      robotAccid,\r\n      content: {\r\n        type: 'link',\r\n        params,\r\n        target\r\n      },\r\n      body,\r\n      done: onSendMsgDone\r\n    })\r\n  }\r\n}\r\n\r\nexport function sendChatroomFileMsg ({state, commit}, obj) {\r\n  const chatroom = state.currChatroom\r\n  let {fileInput} = Object.assign({}, obj)\r\n  let type = 'file'\r\n  if (/\\.(png|jpg|bmp|jpeg|gif)$/i.test(fileInput.value)) {\r\n    type = 'image'\r\n  } else if (/\\.(mov|mp4|ogg|webm)$/i.test(fileInput.value)) {\r\n    type = 'video'\r\n  }\r\n  store.dispatch('showLoading')\r\n  chatroom.sendFile({\r\n    type,\r\n    fileInput,\r\n    uploadprogress: function (data) {\r\n      // console.log(data.percentageText)\r\n    },\r\n    uploaderror: function () {\r\n      fileInput.value = ''\r\n      console && console.log('上传失败')\r\n    },\r\n    uploaddone: function(error, file) {\r\n      fileInput.value = ''\r\n      // console.log(error);\r\n      // console.log(file);\r\n    },\r\n    beforesend: function (msg) {\r\n      // console && console.log('正在发送消息, id=', msg);\r\n    },\r\n    done: function (error, msg) {\r\n      onSendMsgDone (error, msg)\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport function getChatroomHistoryMsgs ({state, commit}, obj) {\r\n  const chatroom = state.currChatroom\r\n  if (chatroom) {\r\n    let {timetag} = Object.assign({}, obj)\r\n    let options = {\r\n      timetag,\r\n      limit: config.localMsglimit || 20,\r\n      done: function getChatroomHistoryMsgsDone (error, obj) {\r\n        if (obj.msgs) {\r\n          if (obj.msgs.length === 0) {\r\n            commit('setNoMoreHistoryMsgs')\r\n          } else {\r\n            let msgs = obj.msgs.map(msg => {\r\n              return formatMsg(msg)\r\n            })\r\n            commit('updateCurrChatroomMsgs', {\r\n              type: 'concat',\r\n              msgs\r\n            })\r\n          }\r\n        }\r\n        store.dispatch('hideLoading')\r\n      }\r\n    }\r\n    store.dispatch('showLoading')\r\n    nim.getHistoryMsgs(options)\r\n  }\r\n}\r\n","/* \r\n * 聊天室SDK，依赖于nim sdk\r\n */\r\n\r\nimport config from '@/configs'\r\nimport pageUtil from '@/utils/page'\r\nimport util from '@/utils'\r\nimport store from '../'\r\nimport {onChatroomMsgs} from './chatroomMsgs'\r\n\r\n// const SDK = require('@/sdk/' + config.sdk)\r\n\r\n// 切换聊天室之前需要断开连接，原因是移动端不断累积连接实例，消息并发较大时会有性能问题\r\n// 重新初始化 NIM SDK\r\nexport function initChatroomSDK ({ state, commit, dispatch }, obj) {\r\n  let {chatroomId, address} = obj\r\n  if (chatroomId && address) {\r\n    if (state.chatroomInsts[chatroomId]) {\r\n      state.chatroomInsts[chatroomId].connect()\r\n    } else {\r\n      state.chatroomInsts[chatroomId] = SDK.Chatroom.getInstance({\r\n        appKey: config.appkey,\r\n        account: state.userUID,\r\n        token: state.sdktoken,\r\n        transports: ['websocket'],\r\n        chatroomId,\r\n        chatroomAddresses: address,\r\n        onconnect: function onChatroomConnect (chatroom) {\r\n          dispatch('hideLoading')\r\n          commit('setCurrChatroom', chatroomId)\r\n        },\r\n        onerror: function onChatroomError (error, obj) {\r\n          dispatch('hideLoading')\r\n          if (error) {\r\n            alert('网络连接状态异常')\r\n            location.href='#/room'\r\n          }\r\n        },\r\n        onwillreconnect: function onChatroomWillReconnect (obj) {\r\n          // 此时说明 `SDK` 已经断开连接, 请开发者在界面上提示用户连接已断开, 而且正在重新建立连接\r\n          console.log('即将重连', obj)\r\n        },\r\n        ondisconnect: function onChatroomDisconnect (error) {\r\n          // 此时说明 `SDK` 处于断开状态, 切换聊天室也会触发次回调\r\n          dispatch('hideLoading')\r\n          if (error) {\r\n            switch (error.code) {\r\n              // 账号或者密码错误, 请跳转到登录页面并提示错误\r\n              case 302:\r\n                // 此逻辑与nim sdk错误逻辑相同，复用nim sdk的\r\n                // 如果单用聊天室功能需要在此做处理\r\n                break;\r\n              case 13003:\r\n                alert('抱歉，你已被主播拉入了黑名单')\r\n                location.href='#/room'\r\n                break\r\n                // 被踢, 请提示错误后跳转到登录页面\r\n              case 'kicked':\r\n                if (error.reason === 'managerKick') {\r\n                  alert('你已被管理员移出聊天室')\r\n                  location.href='#/room'\r\n                } else if (error.reason === 'blacked') {\r\n                  alert('你已被管理员拉入黑名单，不能再进入')\r\n                  location.href='#/room'\r\n                }\r\n                break;\r\n              default:\r\n                console.log(error.message);\r\n                break\r\n            }\r\n          }\r\n        },\r\n        // 聊天室消息\r\n        onmsgs: onChatroomMsgs \r\n      })\r\n    }\r\n  } else {\r\n    alert('没有聊天室地址')\r\n  }\r\n}\r\n\r\nexport function resetChatroomSDK ({state, commit, dispatch}, chatroomId) {\r\n  if (chatroomId) {\r\n    state.chatroomInsts[chatroomId].disconnect()\r\n  } else {\r\n    for (let tempRoomId in state.chatroomInsts) {\r\n      state.chatroomInsts[tempRoomId].disconnect()\r\n    }\r\n  }\r\n  commit('resetCurrChatroom')\r\n}\r\n","import {formatUserInfo} from './userInfo'\r\n\r\nexport function resetSearchResult ({state, commit}) {\r\n  commit('updateSearchlist', {\r\n    type: 'user',\r\n    list: []\r\n  })\r\n  commit('updateSearchlist', {\r\n    type: 'team',\r\n    list: []\r\n  })\r\n}\r\n\r\nexport function searchUsers ({state, commit}, obj) {\r\n  let {accounts, done} = obj\r\n  const nim = state.nim\r\n  if (!Array.isArray(accounts)) {\r\n    accounts = [accounts]\r\n  }\r\n  nim.getUsers({\r\n    accounts,\r\n    done: function searchUsersDone (error, users) {\r\n      if (error) {\r\n        alert(error)\r\n        return\r\n      }\r\n      commit('updateSearchlist', {\r\n        type: 'user',\r\n        list: users\r\n      })\r\n      let updateUsers = users.filter(item => {\r\n        let account = item.account\r\n        if (item.account === state.userUID) {\r\n          return false\r\n        }\r\n        let userInfo = state.userInfos[account] || {}\r\n        if (userInfo.isFriend) {\r\n          return false\r\n        }\r\n        return true\r\n      })\r\n      updateUsers = updateUsers.map(item => {\r\n        return formatUserInfo(item)\r\n      })\r\n      commit('updateUserInfo', updateUsers)\r\n      if (done instanceof Function) {\r\n        done(users)\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nexport function searchTeam ({ state, commit }, obj) {\r\n  let { teamId, done } = obj\r\n  const nim = state.nim\r\n  nim.getTeam({\r\n    teamId: teamId,\r\n    done: function searchTeamDone (error, teams) {\r\n      if (error) {\r\n        if (error.code === 803) {\r\n          // 群不存在或未发生变化\r\n          teams = []\r\n        } else {\r\n          alert(error)\r\n          return\r\n        }\r\n      }\r\n      if (!Array.isArray(teams)) {\r\n        teams = [teams]\r\n      }\r\n      teams.forEach(team => {\r\n        if (team.avatar && team.avatar.indexOf('nim.nosdn.127') > 0 && team.avatar.indexOf('?imageView') === -1) {\r\n          team.avatar = team.avatar + '?imageView&thumbnail=300y300'\r\n        }\r\n      })\r\n      commit('updateSearchlist', {\r\n        type: 'team',\r\n        list: teams\r\n      })\r\n      if (done instanceof Function) {\r\n        done(teams)\r\n      }\r\n    }\r\n  })\r\n}\r\n","import store from '../'\r\nimport config from '../../configs'\r\n\r\n// 用于demo记录封面\r\nexport function initChatroomInfos ({state, commit}, obj) {\r\n  commit('initChatroomInfos', obj)\r\n}\r\n\r\nexport function getChatroomInfo ({state, commit, dispatch}) {\r\n  const chatroom = state.currChatroom\r\n  if (chatroom) {\r\n    chatroom.getChatroom({\r\n      done: function getChatroomDone (error, info) {\r\n        if (error) {\r\n          alert(error.message)\r\n          return\r\n        }\r\n        info = info.chatroom || {creator: ''}\r\n        let creator = info.creator\r\n        chatroom.getChatroomMembersInfo({\r\n          accounts: [creator],\r\n          done: function getChatroomMembersInfoDone (error, user) {\r\n            if (error) {\r\n              alert(error.message)\r\n              return\r\n            }\r\n            commit('getChatroomInfo', Object.assign(info,  {actor: user.members[0]}))\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function getChatroomMembers ({state, commit, dispatch}) {\r\n  // 先拉管理员\r\n  getChatroomMembersLocal (false, function (obj) {\r\n    commit('updateChatroomMembers', Object.assign(obj, {type: 'put'}))\r\n    // 再拉成员列表\r\n    getChatroomMembersLocal (true, function (obj) {\r\n      commit('updateChatroomMembers', Object.assign(obj, {type: 'put'}))\r\n    })\r\n  })\r\n}\r\n\r\nfunction getChatroomMembersLocal (isGuest, callback) {\r\n  const chatroom = store.state.currChatroom\r\n  if (chatroom) {\r\n    chatroom.getChatroomMembers({\r\n      guest: isGuest,\r\n      limit: 100,\r\n      done: function getChatroomMembersDone (error, obj) {\r\n        if (error) {\r\n          alert(error.message)\r\n          return\r\n        }\r\n        callback(obj)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function clearChatroomMembers ({state, commit}) {\r\n  commit('updateChatroomMembers', {type: 'destroy'})\r\n}","// Action 提交的是 mutation，而不是直接变更状态。\r\n// Action 可以包含任意异步操作。\r\nimport cookie from '../../utils/cookie'\r\nimport pageUtil from '../../utils/page'\r\n\r\n/* 导出actions方法 */\r\nimport {showLoading, hideLoading, showFullscreenImg, hideFullscreenImg} from './widgetUi'\r\nimport {initNimSDK} from './initNimSDK'\r\nimport {initChatroomSDK, resetChatroomSDK} from './initChatroomSDK'\r\nimport {updateBlack} from './blacks'\r\nimport {updateFriend, addFriend, deleteFriend} from './friends'\r\nimport {resetSearchResult, searchUsers, searchTeam} from './search'\r\nimport {deleteSession, setCurrSession, resetCurrSession} from './session'\r\nimport {sendMsg, sendFileMsg, sendMsgReceipt, sendRobotMsg, revocateMsg, updateLocalMsg, getHistoryMsgs, resetNoMoreHistoryMsgs, continueRobotMsg} from './msgs'\r\nimport {markSysMsgRead, resetSysMsgs, deleteSysMsgs, markCustomSysMsgRead} from './sysMsgs'\r\nimport {sendChatroomMsg, sendChatroomRobotMsg, sendChatroomFileMsg, getChatroomHistoryMsgs} from './chatroomMsgs'\r\nimport {initChatroomInfos, getChatroomInfo, getChatroomMembers, clearChatroomMembers} from './chatroomInfos'\r\nimport { delegateTeamFunction, onTeamNotificationMsg, enterSettingPage, getTeamMembers, checkTeamMsgReceipt, getTeamMsgReads} from './team'\r\n\r\nfunction connectNim ({state, commit, dispatch}, obj) {\r\n  let {force} = Object.assign({}, obj)\r\n  // 操作为内容页刷新页面，此时无nim实例\r\n  if (!state.nim || force) {\r\n    let loginInfo = {\r\n      uid: cookie.readCookie('uid'),\r\n      sdktoken: cookie.readCookie('sdktoken'),\r\n    }\r\n    if (!loginInfo.uid) {\r\n      // 无cookie，直接跳转登录页\r\n      pageUtil.turnPage('无历史登录记录，请重新登录', 'login')\r\n    } else {\r\n      // 有cookie，重新登录\r\n      dispatch('initNimSDK', loginInfo)\r\n    }\r\n  }\r\n}\r\n\r\nfunction connectChatroom ({state, commit, dispatch}, obj) {\r\n  let {chatroomId} = Object.assign({}, obj)\r\n  const nim = state.nim\r\n  if (nim) {\r\n    dispatch('showLoading')\r\n    nim.getChatroomAddress({\r\n      chatroomId,\r\n      done: function getChatroomAddressDone (error, obj) {\r\n        if (error) {\r\n          alert(error.message)\r\n          location.href = '#/room'\r\n          return\r\n        }\r\n        dispatch('initChatroomSDK', obj)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  updateRefreshState ({commit}) {\r\n    commit('updateRefreshState')\r\n  },\r\n\r\n  // UI 及页面状态变更\r\n  showLoading,\r\n  hideLoading,\r\n  showFullscreenImg,\r\n  hideFullscreenImg,\r\n  continueRobotMsg,\r\n\r\n  // 连接sdk请求，false表示强制重连\r\n  connect (store, obj) {\r\n    let {type} = Object.assign({}, obj)\r\n    // type 可为 nim chatroom\r\n    type = type || 'nim'\r\n    switch (type) {\r\n      case 'nim':\r\n        connectNim(store, obj)\r\n        break\r\n      case 'chatroom':\r\n        connectChatroom(store, obj)\r\n        break\r\n    }\r\n  },\r\n\r\n  // 用户触发的登出逻辑\r\n  logout ({ state, commit }) {\r\n    cookie.delCookie('uid')\r\n    cookie.delCookie('sdktoken')\r\n    if (state.nim) {\r\n      state.nim.disconnect()\r\n    }\r\n    pageUtil.turnPage('', 'login')\r\n  },\r\n\r\n  // 初始化 重新连接SDK\r\n  initNimSDK,\r\n  // 清空所有搜索历史纪录\r\n  resetSearchResult,\r\n  // 搜索用户信息\r\n  searchUsers,\r\n  // 更新黑名单\r\n  updateBlack,\r\n  // 更新好友\r\n  addFriend,\r\n  deleteFriend,\r\n  updateFriend,\r\n  // 删除会话\r\n  deleteSession,\r\n  // 设置当前会话\r\n  setCurrSession,\r\n  // 重置当前会话\r\n  resetCurrSession,\r\n  // 发送消息\r\n  sendMsg,\r\n  sendFileMsg,\r\n  sendRobotMsg,\r\n  // 发送消息已读回执\r\n  sendMsgReceipt,\r\n  // 消息撤回\r\n  revocateMsg,\r\n  // 更新本地消息\r\n  updateLocalMsg,\r\n  getHistoryMsgs,\r\n  // 重置历史消息状态\r\n  resetNoMoreHistoryMsgs,\r\n  // 标记系统消息已读\r\n  markSysMsgRead,\r\n  markCustomSysMsgRead,\r\n  resetSysMsgs,\r\n  deleteSysMsgs,\r\n\r\n  initChatroomSDK,\r\n  initChatroomInfos,\r\n  resetChatroomSDK,\r\n  sendChatroomMsg,\r\n  sendChatroomRobotMsg,\r\n  sendChatroomFileMsg,\r\n  getChatroomHistoryMsgs,\r\n  getChatroomInfo,\r\n  getChatroomMembers,\r\n  clearChatroomMembers,\r\n\r\n\r\n  // 搜索群\r\n  searchTeam,\r\n  // 代理sdk中的群方法\r\n  delegateTeamFunction,\r\n  // 处理群消息回调\r\n  onTeamNotificationMsg,\r\n  // 进入群信息设置页\r\n  enterSettingPage,\r\n  // 获取群成员\r\n  getTeamMembers,\r\n  // 群消息回执检查\r\n  checkTeamMsgReceipt,\r\n  // 查询群消息回执已读列表\r\n  getTeamMsgReads,\r\n\r\n}\r\n","/* 内存数据状态 */\r\n\r\nexport default {\r\n  // 正在加载中\r\n  isLoading: true,\r\n  // 操作是否是刷新页面，刷新初始没有nim实例，会导致时序问题\r\n  isRefresh: true,\r\n  // 全屏显示的原图\r\n  isFullscreenImgShow: false,\r\n  fullscreenImgSrc: '',\r\n  // 切页动画 forward，backward\r\n  transitionName: 'forward',\r\n\r\n  // IM相关\r\n  // NIM SDK 实例\r\n  nim: null,\r\n  // 登录账户ID\r\n  userUID: null,\r\n  // 用户名片\r\n  myInfo: {},\r\n  // 好友/黑名单/陌生人名片, 数据结构如：{cid: {attr: ...}, ...}\r\n  userInfos: {},\r\n  // 用户订阅的事件同步, 数据结构如：{cid: {typeid: {...}, ...}, ...}\r\n  userSubscribes: {},\r\n\r\n  // 好友列表\r\n  friendslist: [],\r\n  // 机器人列表\r\n  robotslist: [],\r\n  // 用于判定帐号是否是robots\r\n  robotInfos: {},\r\n  robotInfosByNick: {},\r\n  // 黑名单列表\r\n  blacklist: [],\r\n  // 禁言列表\r\n  // mutelist: [],\r\n\r\n  teamlist: [],\r\n  // 群自身的属性，数据结构如：{tid: {attr: ...}, ...}\r\n  // teamAttrs: {},\r\n  // 群对象的成员列表，数据结构如：{tid: {members: [...], ...}, ...}\r\n  teamMembers: {},\r\n  // 关闭群提醒的群id列表\r\n  muteTeamIds: [],\r\n  // 群设置传递数据\r\n  teamSettingConfig: {},\r\n  \r\n  // 已发送群消息回执Map,key为群Id\r\n  sentReceipedMap: {},\r\n  // 当前群消息回执查询的群id\r\n  currReceiptQueryTeamId: null,\r\n  // 群消息回执查询的消息列表\r\n  receiptQueryList: [],\r\n  // 群消息回执查询结果列表\r\n  teamMsgReads: [], \r\n  // 群消息已读未读账号列表\r\n  teamMsgReadsDetail: {\r\n    readAccounts: [],\r\n    unreadAccounts: []\r\n  },\r\n  \r\n  // 消息列表\r\n  msgs: {}, // 以sessionId作为key\r\n  msgsMap: {}, // 以idClient作为key，诸如消息撤回等的消息查找\r\n  // 会话列表\r\n  sessionlist: [],\r\n  sessionMap: {},\r\n  // 当前会话ID（即当前聊天列表，只有单聊群聊采用，可用于判别）\r\n  currSessionId: null,\r\n  currSessionMsgs: [],\r\n  // 是否有更多历史消息，用于上拉加载更多\r\n  noMoreHistoryMsgs: false,\r\n  // 继续对话的机器人id\r\n  continueRobotAccid: '',\r\n\r\n  // 系统消息\r\n  sysMsgs: [],\r\n  customSysMsgs: [],\r\n  sysMsgUnread: {\r\n    total: 0\r\n  },\r\n  customSysMsgUnread: 0,\r\n\r\n  // 临时变量\r\n  // 缓存需要获取的用户信息账号,如searchUser\r\n  searchedUsers: [],\r\n  // 缓存需要获取的群组账号\r\n  searchedTeams: [],\r\n\r\n  // 聊天室相关\r\n  // 聊天室sdk实例\r\n  chatroomInsts: {},\r\n  chatroomInfos: {},\r\n  // 聊天室分房间消息集合\r\n  chatroomMsgs: {},\r\n  // 当前聊天室实例及id\r\n  currChatroom: null,\r\n  currChatroomId: null,\r\n  currChatroomMsgs: [],\r\n  currChatroomInfo: {},\r\n  // 聊天室成员列表\r\n  currChatroomMembers: [],\r\n\r\n}\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport app from './modules/app'\r\nimport user from './modules/user'\r\nimport getters from './getters'\r\n\r\nVue.use(Vuex)\r\n\r\nimport mutations from './mutations'\r\nimport actions from './actions'\r\nimport state from './state'\r\n\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    app,\r\n    user\r\n  },\r\n  getters,\r\n  // 内存数据状态，UI可通过this.$store.state.* 获得数据\r\n  state,\r\n  // 唯一拥有更改内存数据的接口，不可进行异步操作\r\n  mutations,\r\n  // 与mutation通讯，ui层写入内存数据的接口，可异步操作\r\n  actions,\r\n  plugins: []  \r\n})\r\n\r\nexport default store\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-page\",attrs:{\"id\":\"app\"}},[(!_vm.admin&&(this.$store.state.user.showTabNav))?_c('div',{staticClass:\"app-head\"},[_c('div',{on:{\"click\":_vm.goLogin}},[_vm._v(\"登陆\")]),_c('div',{on:{\"click\":_vm.goRegister}},[_vm._v(\"注册\")])]):_vm._e(),(_vm.admin&&(this.$store.state.user.showTabNav))?_c('div',{staticClass:\"app-head\",staticStyle:{\"fontSize\":\"14px\"}},[_vm._v(\"\\n       欢迎你啊！\"+_vm._s(_vm.Thename)+\"\\n       \"),_c('span',{staticStyle:{\"fontSize\":\"12px\"},on:{\"click\":_vm.golevel}},[_vm._v(\"更多权限\")]),_c('span',{staticStyle:{\"fontSize\":\"12px\"},on:{\"click\":_vm.logOut}},[_vm._v(\"退出\")])]):_vm._e(),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.$route.meta.noAnima)?_c('router-view'):_vm._e()],1),_c('nav-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showNav),expression:\"showNav\"}]}),_c('transition',{attrs:{\"name\":_vm.transitionName}},[(!_vm.$route.meta.noAnima)?_c('router-view'):_vm._e()],1),_c('div',{staticClass:\"app-home\",attrs:{\"id\":\"pic\"},on:{\"click\":function($event){return _vm.$router.push('/index')}}},[_c('div',[_vm._v(\"首页\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}]},[_c('div',{staticClass:\"weui-mask_transparent\"}),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-toast\",staticStyle:{\"position\":\"absolute\"}},[_c('i',{staticClass:\"weui-loading weui-icon_toast\"}),_c('p',{staticClass:\"weui-toast__content\"},[_vm._v(\"加载中\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-show=\"isLoading\">\r\n    <div class=\"weui-mask_transparent\"></div>\r\n    <div class=\"weui-toast\" style=\"position: absolute;\">\r\n      <i class=\"weui-loading weui-icon_toast\"></i>\r\n      <p class=\"weui-toast__content\">加载中</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n  export default {\r\n    computed: {\r\n      isLoading () {\r\n        return this.$store.state.isLoading\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=1d7234b3&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat-fullscreen\",class:{active:_vm.showImg},on:{\"click\":function($event){$event.stopPropagation();return _vm.hideFullscreenImg($event)}}},[_c('div',{staticClass:\"chat-mask\"}),_c('div',{ref:\"chatImg\",staticClass:\"chat-image\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"chat-fullscreen\" :class=\"{active:showImg}\" @click.stop=\"hideFullscreenImg\">\r\n    <div class=\"chat-mask\"></div>\r\n    <div class=\"chat-image\" ref=\"chatImg\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\r\nexport default {\r\n  // 兼容性处理，图片加载时间可能比较慢\r\n  watch: {\r\n    isFullscreenImgShow (val, oldVal) {\r\n      var self = this\r\n      let chatImg = this.$refs.chatImg\r\n      if (val === true) {\r\n        chatImg.innerHTML = ''\r\n        let img = new Image()\r\n        img.src = this.$store.state.fullscreenImgSrc\r\n        img.alt = '图片尺寸较大，正在加载中...'\r\n        img.onload = function () {\r\n          chatImg.appendChild(img)\r\n          self.showImg = val\r\n        }\r\n      } else {\r\n        self.showImg = false\r\n        chatImg.innerHTML = ''\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      showImg: false\r\n    }\r\n  },\r\n  computed: {\r\n    isFullscreenImgShow () {\r\n      return this.$store.state.isFullscreenImgShow\r\n    }\r\n  },\r\n  methods: {\r\n    hideFullscreenImg () {\r\n      this.$store.dispatch('hideFullscreenImg')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style type=\"text/css\">\r\n  .chat-fullscreen, .chat-image img {\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%,-50%);\r\n  }\r\n  .chat-fullscreen {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: hidden;\r\n    visibility: hidden;\r\n    z-index: 98;\r\n    &.active {\r\n      visibility: visible;\r\n      .chat-mask {\r\n        opacity: 0.7;\r\n      }\r\n      .chat-image {\r\n        transform: scale3d(1, 1, 1);\r\n      }\r\n    }\r\n    .chat-mask, .chat-image {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      transition: all 0.5s;\r\n    }\r\n    .chat-mask {\r\n      left: 0;\r\n      top: 0;\r\n      background-color: #000;\r\n      opacity: 0;\r\n    }\r\n    .chat-image {\r\n      transform: scale3d(0, 0, 0);\r\n      img {\r\n        display: block;\r\n        position: absolute;\r\n        width: 100%;\r\n        height: auto;\r\n/*          max-width: 100%;\r\n        max-height: 100%;*/\r\n      }\r\n    }\r\n  }\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FullscreenImg.vue?vue&type=template&id=abc23d08&\"\nimport script from \"./FullscreenImg.vue?vue&type=script&lang=js&\"\nexport * from \"./FullscreenImg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FullscreenImg.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"session-nav g-header\"},[_c('div',[_c('router-link',{attrs:{\"to\":{ name: 'session' }}},[_vm._v(\"最近会话\")])],1),_c('div',[_c('router-link',{attrs:{\"to\":{ name: 'contacts' }}},[_vm._v(\"通讯录\")])],1),_c('div',[_c('router-link',{attrs:{\"to\":{ name: 'room' }}},[_vm._v(\"直播间\")])],1),_c('div',[_c('router-link',{attrs:{\"to\":{ name: 'general' }}},[_vm._v(\"设置\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"session-nav g-header\">\r\n    <div><router-link :to=\"{ name: 'session' }\">最近会话</router-link></div>\r\n    <div><router-link :to=\"{ name: 'contacts' }\">通讯录</router-link></div>\r\n    <div><router-link :to=\"{ name: 'room' }\">直播间</router-link></div>\r\n    <div><router-link :to=\"{ name: 'general' }\">设置</router-link></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n// import { Tab, TabItem, Loading, ViewBox, XHeader } from 'vux'\r\nimport { Tab, Tabs } from 'vant';\r\nexport default {\r\n  components: {\r\n    [Tab.name]: Tab,\r\n    [Tabs.name]: Tabs,\r\n  }, \r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  computed: {\r\n    route () {\r\n      return this.$store.getters.route\r\n    }\r\n  },\r\n  methods: {\r\n    changePage (page) {\r\n      console.log()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n  .session-nav{\r\n    width: 100%;\r\n    height: 50px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavBar.vue?vue&type=template&id=58ef81da&\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavBar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\" class=\"app-page\">\r\n    <!-- 我的nav与路由 -->\r\n    <div class=\"app-head\" v-if=\"!admin&&(this.$store.state.user.showTabNav)\">\r\n      <div @click=\"goLogin\">登陆</div>\r\n      <div @click=\"goRegister\">注册</div>      \r\n    </div>\r\n    <div class=\"app-head\" v-if=\"admin&&(this.$store.state.user.showTabNav)\" style=\"fontSize:14px;\">\r\n       欢迎你啊！{{Thename}}\r\n       <span @click=\"golevel\" style=\"fontSize:12px;\">更多权限</span>\r\n       <span style=\"fontSize:12px;\" @click=\"logOut\">退出</span>\r\n    </div>\r\n    <transition name=\"fade\">        \r\n        <router-view v-if=\"$route.meta.noAnima\"></router-view>\r\n    </transition>\r\n\r\n<!-- 网易云信的nav与路由 -->\r\n      <nav-bar v-show=\"showNav\"></nav-bar>\r\n    <transition :name=\"transitionName\">\r\n      <router-view v-if=\"!$route.meta.noAnima\"></router-view>\r\n    </transition> \r\n\r\n\r\n    <div class=\"app-home\" @click=\"$router.push('/index')\" id=\"pic\">\r\n      <div>首页</div>\r\n    </div>      \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getThename,getadmin} from '@/utils/auth'\r\nimport Loading from './pages/components/Loading'\r\nimport FullscreenImg from './pages/components/FullscreenImg'\r\nimport Vue from 'vue'\r\nimport NavBar from './pages/components/NavBar'\r\nimport cookie from './utils/cookie'\r\nimport Cookies from 'js-cookie'\r\nimport pageUtil from './utils/page'\r\nconst sessionHistory = window.sessionStorage\r\nexport default {\r\n  name: 'app',\r\n  data(){\r\n    return{\r\n      admin:getadmin(),\r\n      Thename:getThename(),\r\n      transitionName: 'forward',\r\n      position: { x: 0, y: 0 },\r\n      nx: '', ny: '', dx: '', dy: '', xPum: '', yPum: '',x:'',y:'',         \r\n    }\r\n  },\r\n  watch: {\r\n    // 更新页面所在位置，用于判断是前进页还是后退页\r\n    '$route' (to, from) {\r\n      if (to && from) {\r\n        let toPath = to.path\r\n        let fromPath = from.path\r\n        let count = parseInt(sessionHistory.getItem('count'))\r\n        // 如果是导航页或者没有初始记录\r\n        if (Number.isNaN(count)) {\r\n          count = 1\r\n          this.transitionName = 'forward'\r\n        } else {\r\n          count += 1\r\n          let fromCount = parseInt(sessionHistory.getItem(fromPath))\r\n          let toCount = parseInt(sessionHistory.getItem(toPath))\r\n          if (toCount < fromCount && fromCount < count && (!pageUtil.showNav(fromPath))) {\r\n            this.transitionName = 'backward'\r\n            count = toCount\r\n          } else {\r\n            this.transitionName = 'forward'\r\n          }\r\n          if (pageUtil.showNav(toPath)) {\r\n            count = 1\r\n          }\r\n        }\r\n        sessionHistory.setItem(toPath, count)\r\n        sessionHistory.setItem('count', count)\r\n      }\r\n    }\r\n  },\r\n    updated () {\r\n    // 提交sdk连接请求\r\n    // this.$store.dispatch('connect')\r\n    // this.$store.dispatch('updateRefreshState')\r\n  },\r\n  components: {\r\n    NavBar,\r\n  },\r\n  computed: {\r\n    // 是否显示导航条\r\n    showNav () {\r\n      return pageUtil.showNav(this.$route.path)\r\n    }\r\n  },   \r\n  created(){\r\n    this.admin=this.$store.state.user.admin\r\n    this.Thename=this.$store.state.user.Thename\r\n  },\r\n  mounted() {\r\n    let moveDiv = document.querySelector(\"#pic\");\r\n    this.w = document.documentElement.clientWidth || document.body.clientWidth;\r\n    this.h = document.documentElement.clientHeight || document.body.clientHeight;\r\n    this.x = moveDiv.offsetWidth;\r\n    this.y = moveDiv.offsetHeight;\r\n    moveDiv.addEventListener('touchstart', this.down, { passive: false })\r\n    moveDiv.addEventListener('touchmove', this.move, { passive: false })\r\n  },  \r\n  methods:{\r\n    goLogin(){\r\n      this.$router.push({path: '/login'});  \r\n    },\r\n    goRegister(){\r\n      this.$router.push({path: '/register'});        \r\n    },\r\n    golevel(){\r\n      this.$router.push({path: '/level'});        \r\n    },\r\n    logOut(){\r\n      Cookies.set('admin', '',{expires:-1})\r\n      Cookies.set('Thename', ''.Thename,{expires:-1})   \r\n      window.location.reload();   \r\n    },\r\n    down(){\r\n      let moveDiv = document.querySelector(\"#pic\");\r\n      var touch;\r\n      if(event.touches){\r\n         touch = event.touches[0];\r\n      }else {\r\n        touch = event;\r\n      }\r\n      this.position.x = touch.clientX;\r\n      this.position.y = touch.clientY;\r\n      this.dx = moveDiv.offsetLeft; //左偏移量\r\n      this.dy = moveDiv.offsetTop; //上移量\r\n    },\r\n    move(){\r\n      let moveDiv = document.querySelector(\"#pic\")\r\n      var touch ;\r\n      if(event.touches){\r\n        touch = event.touches[0];\r\n      }else {\r\n        touch = event;\r\n      }\r\n      //组织默认事件，防止body滑动\r\n      event.preventDefault();\r\n      this.nx = touch.clientX - this.position.x;\r\n      this.ny = touch.clientY - this.position.y;\r\n      this.xPum = this.dx+this.nx;\r\n      this.yPum = this.dy+this.ny;\r\n      //边界判断\r\n      this.xPum = this.xPum>0?this.xPum:0;\r\n      this.yPum = this.yPum>0?this.yPum:0;\r\n      this.xPum = this.xPum>this.w-this.x?this.w-this.x:this.xPum;\r\n      this.yPum = this.yPum>this.h-this.y?this.h-this.y:this.yPum;\r\n\r\n      moveDiv.style.left = this.xPum+\"px\";\r\n      moveDiv.style.top = this.yPum +\"px\";\r\n    }      \r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n@import './themes/theme.scss';\r\nbody{\r\n  background: #f2f2f2;\r\n}\r\n.msg-text{\r\n  color: red;\r\n}\r\n.app-page{\r\n  width: 100%;   \r\n  .app-head{\r\n    width: 100%;\r\n    height: 50px;\r\n    background-image: linear-gradient( 135deg, #52E5E7 10%, #130CB7 100%);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n    color: white;\r\n  }\r\n  .app-home {\r\n    position: fixed;\r\n    right: 28px;\r\n    bottom: 300px;\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    line-height: 40px;\r\n    box-sizing: border-box;\r\n    background-image: linear-gradient( 135deg, #52E5E7 10%, #130CB7 100%);\r\n    z-index: 999;\r\n    box-shadow: 0 2px 2px 2px rgba(49, 49, 49, 0.2);\r\n    div {\r\n      color: #fff;\r\n      font-size: 8px;\r\n    }\r\n  }   \r\n}\r\n</style>\r\n\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=24e8b82e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\n\r\nVue.use(Router);\r\n\r\nconst routes = [\r\n  {\r\n    path: '*',\r\n    redirect: '/index',\r\n    meta: { title: '商品结算', noAnima: true }\r\n  },  \r\n  {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: () => import('@/view/login'),\r\n    meta: {\r\n      title: '登录', noAnima: true\r\n    }\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'register',\r\n    component: () => import('@/view/login/register'),\r\n    meta: {\r\n      title: '注册', noAnima: true\r\n    }\r\n  },\r\n  {\r\n    path: '/footprint',\r\n    name: 'footprint',\r\n    component: () => import('@/view/Interaction/footprint'),\r\n    meta: {\r\n      title: '留言板', noAnima: true\r\n    }\r\n  },  \r\n  {\r\n    path: '/aboutMe',\r\n    name: 'aboutMe',\r\n    component: () => import('@/view/index/aboutMe'),\r\n    meta: {\r\n      title: '关于本站', noAnima: true\r\n    }\r\n  },\r\n  {\r\n    path: '/chatRoom',\r\n    name: 'chatRoom',\r\n    component: () => import('@/view/index/chatRoom'),\r\n    meta: {\r\n      title: '聊天室', noAnima: true\r\n    }\r\n  },  \r\n  {\r\n    path: '/test1',\r\n    name: 'test1',\r\n    component: () => import('@/view/test/test1.vue'),\r\n    meta: {\r\n      title: '关于本站', noAnima: true\r\n    }\r\n  },   \r\n  {\r\n    path: '/level',\r\n    name: 'level',\r\n    component: () => import('@/view/login/level'),\r\n    meta: {\r\n      title: '权限', noAnima: true\r\n    }\r\n  },  \r\n  {\r\n    path: '/index',\r\n    name: 'index',\r\n    component: () => import('@/view/index'),\r\n    meta: {\r\n      title: 'syf', noAnima: true\r\n    }\r\n  },\r\n  {\r\n    path: '/upLoad',\r\n    name: 'upLoad',\r\n    component: () => import('@/view/index/upLoad'),\r\n    meta: {\r\n      title: '上传', noAnima: true\r\n    }\r\n  }, \r\n  {\r\n    path: '/blogUpload',\r\n    name: 'blogUpload',\r\n    component: () => import('@/view/blog/blogUpload'),\r\n    meta: {\r\n      title: 'BLOG上传', noAnima: true\r\n    }\r\n  },\r\n  {\r\n    path: '/blog',\r\n    name: 'blog',\r\n    component: () => import('@/view/blog/blog'),\r\n    meta: {\r\n      title: 'BLOG', noAnima: true\r\n    }\r\n  }, \r\n  {\r\n    path: '/readBlog',\r\n    name: 'readBlog',\r\n    component: () => import('@/view/blog/readBlog'),\r\n    meta: {\r\n      title: 'MyBLOG', noAnima: true\r\n    }\r\n  },    \r\n  {\r\n    path: '/myfile',\r\n    name: 'myfile',\r\n    component: () => import('@/view/index/myfile'),\r\n    meta: {\r\n      title: '文件夹', noAnima: true\r\n    }\r\n  },   \r\n  {\r\n    path: '/read',\r\n    name: 'read',\r\n    component: () => import('@/view/index/read'),\r\n    meta: {\r\n      title: '浏览', noAnima: true\r\n    }\r\n  }, \r\n  {\r\n    path: '/readPage',\r\n    name: 'readPage',\r\n    component: () => import('@/view/index/readPage'),\r\n    meta: {\r\n      title: '浏览', noAnima: true\r\n    }\r\n  },  \r\n  {\r\n    path: '/readPage2',\r\n    name: 'readPage2',\r\n    component: () => import('@/view/index/readPage2'),\r\n    meta: {\r\n      title: '浏览', noAnima: true\r\n    }\r\n  },\r\n  {\r\n    path: '/readPage3',\r\n    name: 'readPage3',\r\n    component: () => import('@/view/index/readPage3'),\r\n    meta: {\r\n      title: '浏览', noAnima: true\r\n    }\r\n  },\r\n  {\r\n    path: '/im',\r\n    name: 'im',\r\n    component: () => import('@/view/im'),\r\n    meta: {\r\n      title: 'im'\r\n    }\r\n  },\r\n  {\r\n    path: '/map',\r\n    name: 'map',\r\n    component: () => import('@/view/map/map'),\r\n    meta: {\r\n      title: 'map'\r\n    }\r\n  },\r\n  {\r\n    path: '/music',\r\n    name: 'music',\r\n    component: () => import('@/view/music/music'),\r\n    meta: {\r\n      title: 'music'\r\n    }\r\n  }, \r\n  {\r\n    path: '/anime',\r\n    name: 'anime',\r\n    component: () => import('@/view/anime'),\r\n    meta: {\r\n      title: 'anime'\r\n    }\r\n  },  \r\n  {\r\n    path: '/animeDetail',\r\n    name: 'animeDetail',\r\n    component: () => import('@/view/anime/animeDetail'),\r\n    meta: {\r\n      title: 'animeDetail'\r\n    }\r\n  },      \r\n  {\r\n    path: '/login2',\r\n    name: 'login2',\r\n    component (resolve) {\r\n      require(['../view/login2/login2'], resolve)\r\n    }\r\n  },\r\n  {\r\n    path: '/register2',\r\n    name: 'register2',\r\n    component (resolve) {\r\n      require(['../view/login2/register2'], resolve)\r\n    }\r\n  },   \r\n  // 最近消息列表（会话）\r\n  {\r\n    path: '/session',\r\n    name: 'session',\r\n    component (resolve) {\r\n      require(['../pages/Session'], resolve)\r\n    }\r\n  },\r\n  // 系统消息\r\n  {\r\n    path: '/sysmsgs',\r\n    name: 'sysmsgs',\r\n    component (resolve) {\r\n      require(['../pages/SysMsgs'], resolve)\r\n    }\r\n  },\r\n  // 聊天记录\r\n  {\r\n    path: '/chat/:sessionId',\r\n    name: 'chat',\r\n    component (resolve) {\r\n      require(['../pages/Chat'], resolve)\r\n    }\r\n  },\r\n  // 聊天历史记录\r\n  {\r\n    path: '/chathistory/:sessionId',\r\n    name: 'chathistory',\r\n    component (resolve) {\r\n      require(['../pages/ChatHistory'], resolve)\r\n    }\r\n  },\r\n  // 直播间\r\n  {\r\n    path: '/room',\r\n    name: 'room',\r\n    component (resolve) {\r\n      require(['../pages/Room'], resolve)\r\n    }\r\n  },\r\n  // 直播聊天页\r\n  {\r\n    path: '/roomChat/:chatroomId',\r\n    name: 'roomChat',\r\n    component (resolve) {\r\n      require(['../pages/RoomChat'], resolve)\r\n    }\r\n  },\r\n  // 通讯录\r\n  {\r\n    path: '/contacts',\r\n    name: 'contacts',\r\n    component (resolve) {\r\n      require(['../pages/Contacts'], resolve)\r\n    }\r\n  },\r\n  // 好友名片\r\n  {\r\n    path: '/namecard/:userId',\r\n    name: 'namecard',\r\n    component (resolve) {\r\n      require(['../pages/NameCard'], resolve)\r\n    }\r\n  },\r\n  // 好友名片-设置备注\r\n  {\r\n    path: '/namecardremark/:userId',\r\n    name: 'namecardremark',\r\n    component (resolve) {\r\n      require(['../pages/NameCardRemark'], resolve)\r\n    }\r\n  },\r\n  // 好友名片-搜索好友/群\r\n  {\r\n    path: '/searchuser/:searchType',\r\n    name: 'searchuser',\r\n    component (resolve) {\r\n      require(['../pages/SearchUser'], resolve)\r\n    }\r\n  },\r\n  // 邀请好友-加入群\r\n  {\r\n    path: '/teaminvite/:teamId',\r\n    name: 'teaminvite',\r\n    component (resolve) {\r\n      require(['../pages/TeamInvite'], resolve)\r\n    }\r\n  },\r\n  // 通用页面\r\n  {\r\n    path: '/general',\r\n    name: 'general',\r\n    component (resolve) {\r\n      require(['../pages/General'], resolve)\r\n    }\r\n  },\r\n  // 群列表\r\n  {\r\n    path: '/teamlist/:teamType',\r\n    name: 'teamlist',\r\n    component (resolve) {\r\n      require(['../pages/TeamList'], resolve)\r\n    }\r\n  },\r\n  // 群名片\r\n  {\r\n    path: '/teamcard/:teamId',\r\n    name: 'teamcard',\r\n    component (resolve) {\r\n      require(['../pages/TeamCard'], resolve)\r\n    }\r\n  },\r\n  // 群管理\r\n  {\r\n    path: '/teammanage/:teamId',\r\n    name: 'teammanage',\r\n    component(resolve) {\r\n      require(['../pages/TeamManage'], resolve)\r\n    }\r\n  },\r\n  // 群设置\r\n  { \r\n    path: '/teamsetting',\r\n    name: 'teamsetting',\r\n    component(resolve) {\r\n      require(['../pages/TeamSetting'], resolve)\r\n    }\r\n  },\r\n  // 群成员列表\r\n  {\r\n    path: '/teammembers/:teamId',\r\n    name: 'teammembers',\r\n    component(resolve) {\r\n      require(['../pages/TeamMembers'], resolve)\r\n    }\r\n  },\r\n  // 群成员名片\r\n  {\r\n    path: '/teammembercard/:member',\r\n    name: 'teammembercard',\r\n    component(resolve) {\r\n      require(['../pages/TeamMemberCard'], resolve)\r\n    }\r\n  },\r\n  // 发送群消息回执页\r\n  {\r\n    path: '/teamSendMsgReceipt/:teamId',\r\n    name: 'TeamSeamMsgReceipt',\r\n    component(resolve) {\r\n      require(['../pages/TeamSendMsgReceipt'], resolve)\r\n    }\r\n  },\r\n  // 群消息回执详情页\r\n  {\r\n    path: '/msgReceiptDetail/:msgInfo',\r\n    name: 'msgReceiptDetail',\r\n    component(resolve) {\r\n      require(['../pages/TeamMsgReceiptDetail'], resolve)\r\n    }\r\n  }    \r\n];\r\n\r\nconst router=new Router({\r\n  routes \r\n});\r\n\r\nexport {\r\n  router\r\n};\r\n\r\n","import Vue from 'vue'\r\nimport Element from 'element-ui'\r\nimport '../element-variables.scss'\r\n\r\nVue.use(Element)\r\n","import { router } from './router/router'\r\nimport store from './store'\r\n\r\nconst mainList = ['/index','/login','/register', '/blog', '/readBlog', '/blogUpload', '/upLoad', '/myfile', '/read','/readPage','/readPage2','/readPage3','/footprint','/aboutMe'] // 需要菜单栏的路由\r\nrouter.beforeEach((to, from, next) => {\r\n  if (mainList.indexOf(to.path) !== -1) {\r\n    store.commit('SET_showTabNav', true)\r\n  }else{\r\n    store.commit('SET_showTabNav', false)\r\n  }\r\n  next();\r\n})\r\n\r\n// router.afterEach((to, from, next) => {\r\n//   next();\r\n// })\r\n","/* 此插件的设计仅是因为vue-touch官方还不支持vue 2.0 所做的过渡方案 */\r\n/* \r\n * 使用方法：\r\n * 1. 注册插件\r\n *  - import VueTouch from './plugins/touchEvent'\r\n *  - Vue.use(VueTouch)\r\n * 2. 侦听事件\r\n *  - <span v-touch:hold=\"func\"></span>\r\n *  - 触摸方法： hold(长按) tap(短按) swiperight(右划) swipeleft(左划) swipetop swipedown\r\n *  - 绑定参数： dom节点的data-set属性\r\n */\r\nimport Vue from 'vue'\r\n\r\nconst TouchEventPlugin = Object.create(null)\r\n\r\nTouchEventPlugin.install = function (Vue) {\r\n  // 添加全局资源\r\n  Vue.directive('touch', {\r\n    //传入的模式 hold swiperight swipeleft swipetop swipedown tap\r\n    bind: function (el, binding, vnode) {\r\n      // Vue 编译生成的虚拟节点\r\n      // vnode = (vnode && vnode.data && vnode.data.attrs) || {}\r\n      vnode = vnode || {}\r\n      // 传给指令的参数。例如 v-touch:swipeRight, arg 的值是 \"swipeRight\"\r\n      let touchType = binding.arg.toLowerCase()\r\n      var timeOutEvent = 0\r\n      var direction = ''\r\n      //滑动处理\r\n      var startX = null\r\n      var startY = null\r\n\r\n      //返回角度\r\n      function GetSlideAngle(dx, dy) {\r\n        return Math.atan2(dy, dx) * 180 / Math.PI\r\n      }\r\n\r\n      //根据起点和终点返回方向 1：向上，2：向下，3：向左，4：向右,0：未滑动\r\n      function GetSlideDirection (startX, startY, endX, endY) {\r\n        let dy = startY - endY\r\n        let dx = endX - startX\r\n        let result = 0\r\n\r\n        //如果滑动距离太短\r\n        if (Math.abs(dx) < 2 && Math.abs(dy) < 2) {\r\n          return result\r\n        }\r\n\r\n        let angle = GetSlideAngle(dx, dy)\r\n        if (angle >= -45 && angle < 45) {\r\n          result = 'swiperight'\r\n        } else if (angle >= 45 && angle < 135) {\r\n          result = 'swipeup'\r\n        } else if (angle >= -135 && angle < -45) {\r\n          result = 'swipedown'\r\n        } else if ((angle >= 135 && angle <= 180) || (angle >= -180 && angle < -135)) {\r\n          result = 'swipeleft'\r\n        }\r\n        return result\r\n      }\r\n\r\n\r\n      el.addEventListener('touchstart', function (ev) {\r\n        startX = ev.touches[0].pageX\r\n        startY = ev.touches[0].pageY\r\n          //判断长按\r\n        timeOutEvent = setTimeout(() => {\r\n          timeOutEvent = 0 \r\n          if (touchType === 'hold'){\r\n            binding.value(vnode)\r\n          }\r\n        } , 800)\r\n      }, false)\r\n\r\n      el.addEventListener('touchmove' , function (ev) {\r\n        if (timeOutEvent) {\r\n          clearTimeout(timeOutEvent)\r\n          timeOutEvent = 0\r\n        }\r\n      })\r\n\r\n      el.addEventListener('touchend', function (ev) {\r\n        if (timeOutEvent) {\r\n          clearTimeout(timeOutEvent)\r\n          timeOutEvent = 0\r\n        }\r\n        let endX = ev.changedTouches[0].pageX\r\n        let endY = ev.changedTouches[0].pageY\r\n        direction = GetSlideDirection(startX, startY, endX, endY)\r\n        switch (direction) {\r\n          case 0:\r\n            if (touchType === 'tap'){\r\n              binding.value(vnode)\r\n            }\r\n            break\r\n          case 'swipeup':\r\n            if (touchType === 'swipeup'){\r\n              binding.value(vnode)\r\n            }\r\n            break\r\n          case 'swipedown':\r\n            if (touchType === 'swipedown'){\r\n              binding.value(vnode)\r\n            }\r\n            break\r\n          case 'swipeleft':\r\n            if (touchType === 'swipeleft'){\r\n              binding.value(vnode)\r\n            }\r\n            break\r\n          case 'swiperight':\r\n            if (touchType === 'swiperight'){\r\n              binding.value(vnode)\r\n            }\r\n            break\r\n          default:\r\n            break\r\n        }\r\n      }, false)\r\n    }\r\n  })\r\n}\r\n\r\nexport default TouchEventPlugin","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport {router} from './router/router'\r\nimport './plugins/element.js'\r\nimport Vant from 'vant';\r\nimport 'vant/lib/index.css';\r\nimport VueResource from 'vue-resource';\r\nimport  VueQuillEditor from 'vue-quill-editor'\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nimport store from './store'\r\nimport './permission'\r\nimport $ from 'jquery'\r\n\r\nimport VueTouch from './plugins/touchEvent'\r\nVue.use(VueTouch)\r\nrequire('./utils/polyfill')\r\n\r\nVue.use(VueQuillEditor)\r\nVue.use(VueResource)\r\nVue.use(Vant);\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  components: { App },\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import config from '../configs'\r\n\r\nconst pageMap = {\r\n  'login': config.loginUrl,\r\n  'regist': config.registUrl,\r\n}\r\n\r\nvar scrollTimer = null\r\n\r\nvar page = {\r\n  // 切换页面，并错误提示\r\n  turnPage: (message, url) => {\r\n    if (message) {\r\n      alert(message)\r\n    }\r\n    if (url) {\r\n      if (pageMap[url]) {\r\n        url = pageMap[url]\r\n      }\r\n      window.location.href = url\r\n    }\r\n  },\r\n  // 确定导航tab页，是否show nav\r\n  showNav: path => {\r\n    switch (path) {\r\n      case '/':\r\n        return true\r\n      case '/session':\r\n        return true\r\n      case '/contacts':\r\n        return true\r\n      case '/room':\r\n        return true\r\n      case '/general':\r\n        return true\r\n      default:\r\n        return false\r\n    }\r\n  },\r\n  // 滚动聊天列表到底部\r\n  scrollChatListDown: (pos, initCount) => {\r\n    let dom = document.getElementById('chat-list')\r\n    if (!dom) {\r\n      return\r\n    }\r\n    let maxCount = 5\r\n    initCount = initCount || 1\r\n    if (typeof pos !== 'number') {\r\n      pos = Math.max(dom.scrollHeight - dom.clientHeight, 888888)\r\n    }\r\n    dom.scrollTop = pos\r\n    if ((dom.scrollTop < pos) && (initCount < maxCount)) {\r\n      clearTimeout(scrollTimer)\r\n      scrollTimer = setTimeout(() => {\r\n        initCount++\r\n        page.scrollChatListDown(pos, initCount)\r\n      }, 200)\r\n    }\r\n  },\r\n  getChatListHeight: () => {\r\n    return document.getElementById('chat-list').scrollHeight\r\n  },\r\n  getChatListScroll: () => {\r\n    return document.getElementById('chat-list').scrollTop\r\n  },\r\n}\r\n\r\nexport default page","import Cookies from 'js-cookie'\r\n\r\nexport function getThename() {\r\n  return Cookies.get('Thename');\r\n}\r\nexport function getadmin() {\r\n  return Cookies.get('admin');\r\n}\r\n\r\n","// https://tc39.github.io/ecma262/#sec-array.prototype.find\r\nif (!Array.prototype.find) {\r\n  Object.defineProperty(Array.prototype, 'find', {\r\n    value: function (predicate) {\r\n      // 1. Let O be ? ToObject(this value).\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      var o = Object(this);\r\n\r\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n      var len = o.length >>> 0;\r\n\r\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n      if (typeof predicate !== 'function') {\r\n        throw new TypeError('predicate must be a function');\r\n      }\r\n\r\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n      var thisArg = arguments[1];\r\n\r\n      // 5. Let k be 0.\r\n      var k = 0;\r\n\r\n      // 6. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let Pk be ! ToString(k).\r\n        // b. Let kValue be ? Get(O, Pk).\r\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n        // d. If testResult is true, return kValue.\r\n        var kValue = o[k];\r\n        if (predicate.call(thisArg, kValue, k, o)) {\r\n          return kValue;\r\n        }\r\n        // e. Increase k by 1.\r\n        k++;\r\n      }\r\n\r\n      // 7. Return undefined.\r\n      return undefined;\r\n    }\r\n  });\r\n}\r\n\r\n// https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\r\nif (!Array.prototype.findIndex) {\r\n  Object.defineProperty(Array.prototype, 'findIndex', {\r\n    value: function (predicate) {\r\n      // 1. Let O be ? ToObject(this value).\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      var o = Object(this);\r\n\r\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n      var len = o.length >>> 0;\r\n\r\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n      if (typeof predicate !== 'function') {\r\n        throw new TypeError('predicate must be a function');\r\n      }\r\n\r\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n      var thisArg = arguments[1];\r\n\r\n      // 5. Let k be 0.\r\n      var k = 0;\r\n\r\n      // 6. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let Pk be ! ToString(k).\r\n        // b. Let kValue be ? Get(O, Pk).\r\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n        // d. If testResult is true, return k.\r\n        var kValue = o[k];\r\n        if (predicate.call(thisArg, kValue, k, o)) {\r\n          return k;\r\n        }\r\n        // e. Increase k by 1.\r\n        k++;\r\n      }\r\n\r\n      // 7. Return -1.\r\n      return -1;\r\n    }\r\n  });\r\n}","/**\r\n * Created by jiachenpan on 16/11/18.\r\n */\r\nimport Vue from 'vue'\r\nimport store from '../store'\r\n\r\nexport function parseTime(time, cFormat) {\r\n  if (arguments.length === 0) {\r\n    return null\r\n  }\r\n  const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'\r\n  let date\r\n  if (typeof time === 'object') {\r\n    date = time\r\n  } else {\r\n    if (('' + time).length === 10) time = parseInt(time) * 1000\r\n    date = new Date(time)\r\n  }\r\n  const formatObj = {\r\n    y: date.getFullYear(),\r\n    m: date.getMonth() + 1,\r\n    d: date.getDate(),\r\n    h: date.getHours(),\r\n    i: date.getMinutes(),\r\n    s: date.getSeconds(),\r\n    a: date.getDay()\r\n  }\r\n  const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\r\n    let value = formatObj[key]\r\n    // Note: getDay() returns 0 on Sunday\r\n    if (key === 'a') { return ['日', '一', '二', '三', '四', '五', '六'][value ] }\r\n    if (result.length > 0 && value < 10) {\r\n      value = '0' + value\r\n    }\r\n    return value || 0\r\n  })\r\n  return time_str\r\n}\r\n\r\nexport function formatTime(time, option) {\r\n  time = +time * 1000\r\n  const d = new Date(time)\r\n  const now = Date.now()\r\n\r\n  const diff = (now - d) / 1000\r\n\r\n  if (diff < 30) {\r\n    return '刚刚'\r\n  } else if (diff < 3600) {\r\n    // less 1 hour\r\n    return Math.ceil(diff / 60) + '分钟前'\r\n  } else if (diff < 3600 * 24) {\r\n    return Math.ceil(diff / 3600) + '小时前'\r\n  } else if (diff < 3600 * 24 * 2) {\r\n    return '1天前'\r\n  }\r\n  if (option) {\r\n    return parseTime(time, option)\r\n  } else {\r\n    return (\r\n      d.getMonth() +\r\n      1 +\r\n      '月' +\r\n      d.getDate() +\r\n      '日' +\r\n      d.getHours() +\r\n      '时' +\r\n      d.getMinutes() +\r\n      '分'\r\n    )\r\n  }\r\n}\r\n\r\n// 格式化时间\r\nexport function getQueryObject(url) {\r\n  url = url == null ? window.location.href : url\r\n  const search = url.substring(url.lastIndexOf('?') + 1)\r\n  const obj = {}\r\n  const reg = /([^?&=]+)=([^?&=]*)/g\r\n  search.replace(reg, (rs, $1, $2) => {\r\n    const name = decodeURIComponent($1)\r\n    let val = decodeURIComponent($2)\r\n    val = String(val)\r\n    obj[name] = val\r\n    return rs\r\n  })\r\n  return obj\r\n}\r\n\r\n\r\nexport function cleanArray(actual) {\r\n  const newArray = []\r\n  for (let i = 0; i < actual.length; i++) {\r\n    if (actual[i]) {\r\n      newArray.push(actual[i])\r\n    }\r\n  }\r\n  return newArray\r\n}\r\n\r\nexport function param(json) {\r\n  if (!json) return ''\r\n  return cleanArray(\r\n    Object.keys(json).map(key => {\r\n      if (json[key] === undefined) return ''\r\n      return encodeURIComponent(key) + '=' + encodeURIComponent(json[key])\r\n    })\r\n  ).join('&')\r\n}\r\n\r\nexport function param2Obj(url) {\r\n  const search = url.split('?')[1]\r\n  if (!search) {\r\n    return {}\r\n  }\r\n  return JSON.parse(\r\n    '{\"' +\r\n      decodeURIComponent(search)\r\n        .replace(/\"/g, '\\\\\"')\r\n        .replace(/&/g, '\",\"')\r\n        .replace(/=/g, '\":\"') +\r\n      '\"}'\r\n  )\r\n}\r\n\r\nexport function html2Text(val) {\r\n  const div = document.createElement('div')\r\n  div.innerHTML = val\r\n  return div.textContent || div.innerText\r\n}\r\n\r\nexport function objectMerge(target, source) {\r\n  /* Merges two  objects,\r\n     giving the last one precedence */\r\n\r\n  if (typeof target !== 'object') {\r\n    target = {}\r\n  }\r\n  if (Array.isArray(source)) {\r\n    return source.slice()\r\n  }\r\n  Object.keys(source).forEach(property => {\r\n    const sourceProperty = source[property]\r\n    if (typeof sourceProperty === 'object') {\r\n      target[property] = objectMerge(target[property], sourceProperty)\r\n    } else {\r\n      target[property] = sourceProperty\r\n    }\r\n  })\r\n  return target\r\n}\r\n\r\nexport function scrollTo(element, to, duration) {\r\n  if (duration <= 0) return\r\n  const difference = to - element.scrollTop\r\n  const perTick = (difference / duration) * 10\r\n  setTimeout(() => {\r\n    element.scrollTop = element.scrollTop + perTick\r\n    if (element.scrollTop === to) return\r\n    scrollTo(element, to, duration - 10)\r\n  }, 10)\r\n}\r\n\r\nexport function toggleClass(element, className) {\r\n  if (!element || !className) {\r\n    return\r\n  }\r\n  let classString = element.className\r\n  const nameIndex = classString.indexOf(className)\r\n  if (nameIndex === -1) {\r\n    classString += '' + className\r\n  } else {\r\n    classString =\r\n      classString.substr(0, nameIndex) +\r\n      classString.substr(nameIndex + className.length)\r\n  }\r\n  element.className = classString\r\n}\r\n\r\nexport const pickerOptions = [\r\n  {\r\n    text: '今天',\r\n    onClick(picker) {\r\n      const end = new Date()\r\n      const start = new Date(new Date().toDateString())\r\n      end.setTime(start.getTime())\r\n      picker.$emit('pick', [start, end])\r\n    }\r\n  },\r\n  {\r\n    text: '最近一周',\r\n    onClick(picker) {\r\n      const end = new Date(new Date().toDateString())\r\n      const start = new Date()\r\n      start.setTime(end.getTime() - 3600 * 1000 * 24 * 7)\r\n      picker.$emit('pick', [start, end])\r\n    }\r\n  },\r\n  {\r\n    text: '最近一个月',\r\n    onClick(picker) {\r\n      const end = new Date(new Date().toDateString())\r\n      const start = new Date()\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n      picker.$emit('pick', [start, end])\r\n    }\r\n  },\r\n  {\r\n    text: '最近三个月',\r\n    onClick(picker) {\r\n      const end = new Date(new Date().toDateString())\r\n      const start = new Date()\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\r\n      picker.$emit('pick', [start, end])\r\n    }\r\n  }\r\n]\r\n\r\nexport function getTime(type) {\r\n  if (type === 'start') {\r\n    return new Date().getTime() - 3600 * 1000 * 24 * 90\r\n  } else {\r\n    return new Date(new Date().toDateString())\r\n  }\r\n}\r\n\r\nexport function debounce(func, wait, immediate) {\r\n  let timeout, args, context, timestamp, result\r\n\r\n  const later = function() {\r\n    // 据上一次触发时间间隔\r\n    const last = +new Date() - timestamp\r\n\r\n    // 上次被包装函数被调用时间间隔last小于设定时间间隔wait\r\n    if (last < wait && last > 0) {\r\n      timeout = setTimeout(later, wait - last)\r\n    } else {\r\n      timeout = null\r\n      // 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用\r\n      if (!immediate) {\r\n        result = func.apply(context, args)\r\n        if (!timeout) context = args = null\r\n      }\r\n    }\r\n  }\r\n\r\n  return function(...args) {\r\n    context = this\r\n    timestamp = +new Date()\r\n    const callNow = immediate && !timeout\r\n    // 如果延时不存在，重新设定延时\r\n    if (!timeout) timeout = setTimeout(later, wait)\r\n    if (callNow) {\r\n      result = func.apply(context, args)\r\n      context = args = null\r\n    }\r\n\r\n    return result\r\n  }\r\n}\r\n\r\n/**\r\n * This is just a simple version of deep copy\r\n * Has a lot of edge cases bug\r\n * If you want to use a perfect deep copy, use lodash's _.cloneDeep\r\n */\r\nexport function deepClone(source) {\r\n  if (!source && typeof source !== 'object') {\r\n    throw new Error('error arguments', 'shallowClone')\r\n  }\r\n  const targetObj = source.constructor === Array ? [] : {}\r\n  Object.keys(source).forEach(keys => {\r\n    if (source[keys] && typeof source[keys] === 'object') {\r\n      targetObj[keys] = deepClone(source[keys])\r\n    } else {\r\n      targetObj[keys] = source[keys]\r\n    }\r\n  })\r\n  return targetObj\r\n}\r\n\r\nexport function uniqueArr(arr) {\r\n  return Array.from(new Set(arr))\r\n}\r\n\r\n\r\nif(!Function.prototype.bind){\r\n  Function.prototype.bind = function(){\r\n    var fn = this, args = Array.prototype.slice.call(arguments), object = args.shift();\r\n    return function(){\r\n      return fn.apply(object, args.concat(Array.prototype.slice.call(arguments)));\r\n    }\r\n  }\r\n}\r\n\r\nlet Utils = Object.create(null)\r\n\r\nUtils.encode = function (_map, _content) {\r\n  _content = '' + _content\r\n  if (!_map || !_content) {\r\n    return _content||''\r\n  }\r\n  return _content.replace(_map.r, function ($1) {\r\n    var _result = _map[!_map.i ? $1.toLowerCase() : $1]\r\n    return _result != null ? _result : $1\r\n  });\r\n};\r\n\r\nUtils.escape = (function () {\r\n  let _reg = /<br\\/?>$/\r\n  let _map = {\r\n    r:/\\<|\\>|\\&|\\r|\\n|\\s|\\'|\\\"/g,\r\n    '<':'&lt;',\r\n    '>':'&gt;',\r\n    '&':'&amp;',\r\n    ' ':'&nbsp;',\r\n    '\"':'&quot;',\r\n    \"'\":'&#39;',\r\n    '\\n':'<br/>',\r\n    '\\r':''\r\n  }\r\n  return function(_content){\r\n    _content = Utils.encode(_map, _content)\r\n    return _content.replace(_reg, '<br/>');\r\n  };\r\n})();\r\n\r\nUtils.object2query = function (obj) {\r\n  let keys = Object.keys(obj)\r\n  let queryArray = keys.map(item => {\r\n    return `${item}=${encodeURIComponent(obj[item])}`\r\n  })\r\n  return queryArray.join('&')\r\n}\r\n\r\n// https://cn.vuejs.org/v2/guide/reactivity.html\r\n// Vue 不能检测到对象属性的添加或删除。然而它可以使用 Vue.set(object, key, value) 方法将响应属性添加到嵌套的对象上\r\nUtils.mergeObject = function (dest, src) {\r\n  if (typeof dest !== 'object' || dest === null) {\r\n    dest = Object.create(null)\r\n  }\r\n  dest = Object.assign(Object.create(null), dest, src)\r\n  return dest\r\n}\r\n\r\nUtils.mergeVueObject = function (dest, src) {\r\n  let keys = Object.keys(src)\r\n  keys.forEach(item => {\r\n    if (typeof src[item] !== 'undefined') {\r\n      Vue.set(dest, item, src[item])\r\n    }\r\n  })\r\n  return dest\r\n}\r\n\r\n// 消息类型列表\r\nUtils.mapMsgType = function (msg) {\r\n  let map = {\r\n    text: '文本消息',\r\n    image: '图片消息',\r\n    file: '文件消息',\r\n    audio: '语音消息',\r\n    video: '视频消息',\r\n    geo: '地理位置消息',\r\n    tip: '提醒消息',\r\n    custom: '自定义消息',\r\n    notification: '系统通知',\r\n    robot: '机器人消息'\r\n  }\r\n  let type = msg.type\r\n  return map[type] || '未知消息类型'\r\n}\r\n\r\nUtils.stringifyDate = function (datetime, simple = false) {\r\n  // let weekMap = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\r\n  let weekMap = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n  datetime = new Date(datetime)\r\n  let year = datetime.getFullYear()\r\n  let simpleYear = datetime.getYear() - 100\r\n  let month = datetime.getMonth() + 1\r\n  month = month > 9 ? month : '0' + month\r\n  let day = datetime.getDate()\r\n  day = day > 9 ? day : '0' + day\r\n  let hour = datetime.getHours()\r\n  hour = hour > 9 ? hour : '0' + hour\r\n  let min = datetime.getMinutes()\r\n  min = min > 9 ? min : '0' + min\r\n  let week = datetime.getDay()\r\n  week = weekMap[week]\r\n  let thatDay = (new Date(year, month - 1, day, 0, 0, 0)).getTime()\r\n\r\n  if (simple) {\r\n    return {\r\n      withYear: `${day}/${month}/${simpleYear}`,\r\n      withMonth: `${month}-${day}`,\r\n      withDay: `${week}`,\r\n      withLastDay: `昨天`,\r\n      withHour: `${hour}:${min}`,\r\n      thatDay\r\n    }\r\n  } else {\r\n    return {\r\n      withYear: `${year}-${month}-${day} ${hour}:${min}`,\r\n      withMonth: `${month}-${day} ${hour}:${min}`,\r\n      withDay: `${week} ${hour}:${min}`,\r\n      withLastDay: `昨天 ${hour}:${min}`,\r\n      withHour: `${hour}:${min}`,\r\n      thatDay\r\n    }\r\n  }\r\n}\r\n\r\n/* 格式化日期 */\r\nUtils.formatDate = function (datetime, simple = false) {\r\n  let tempDate = (new Date()).getTime()\r\n  let result = this.stringifyDate(datetime, simple)\r\n  let thatDay = result.thatDay\r\n  let deltaTime = (tempDate - thatDay) / 1000\r\n\r\n  if (deltaTime < 3600 * 24) {\r\n    return result.withHour\r\n  } else if (deltaTime < 3600 * 24 * 2) {\r\n    return result.withLastDay\r\n  } else if (deltaTime < 3600 * 24 * 7) {\r\n    return result.withDay\r\n  } else if (deltaTime < 3600 * 24 * 30) {\r\n    return result.withMonth\r\n  } else {\r\n    return result.withYear\r\n  }\r\n}\r\n\r\nUtils.parseSession = function (sessionId) {\r\n  if (/^p2p-/.test(sessionId)) {\r\n    return {\r\n      scene: 'p2p',\r\n      to: sessionId.replace(/^p2p-/, '')\r\n    }\r\n  } else if (/^team-/.test(sessionId)) {\r\n    return {\r\n      scene: 'team',\r\n      to: sessionId.replace(/^team-/, '')\r\n    }\r\n  }\r\n}\r\n\r\nUtils.parseCustomMsg = function (msg) {\r\n  if (msg.type === 'custom') {\r\n    try {\r\n      let cnt = JSON.parse(msg.content)\r\n      switch (cnt.type) {\r\n        case 1:\r\n          return '[猜拳消息]'\r\n        case 2:\r\n          return '[阅后即焚]'\r\n        case 3:\r\n          return '[贴图表情]'\r\n        case 4:\r\n          return '[白板消息]'\r\n      }\r\n    } catch (e) {}\r\n    return '[自定义消息]'\r\n  }\r\n  return ''\r\n}\r\n/* 获得有效的备注名 */\r\nUtils.getFriendAlias = function (userInfo) {\r\n  userInfo.alias = userInfo.alias ? userInfo.alias.trim() : ''\r\n  return userInfo.alias || userInfo.nick || userInfo.account\r\n}\r\n\r\nUtils.generateChatroomSysMsg = function (data) {\r\n  let text\r\n  switch (data.attach.type) {\r\n    case 'memberEnter':\r\n      text = `欢迎${data.attach.fromNick}进入直播间`\r\n      break\r\n    case 'memberExit':\r\n      text = `${data.attach.fromNick}离开了直播间`\r\n      break\r\n    case 'blackMember':\r\n      text = `${(data.attach.toNick[0] || data.attach.to[0])}被管理员拉入黑名单`\r\n      break\r\n    case 'unblackMember':\r\n      text = `${(data.attach.toNick[0]||data.attach.to[0])}被管理员解除拉黑`\r\n      break\r\n    case 'gagMember':\r\n      text = `${(data.attach.toNick[0]||data.attach.to[0])}被管理员禁言`\r\n      break\r\n    case 'ungagMember':\r\n      text = `${(data.attach.toNick[0]||data.attach.to[0])}被管理员解除禁言`\r\n      break\r\n    case 'addManager':\r\n      text = `${(data.attach.toNick[0]||data.attach.to[0])}被任命管理员身份`\r\n      break\r\n    case 'removeManager':\r\n      text = `${(data.attach.toNick[0]||data.attach.to[0])}被解除管理员身份`\r\n      break;\r\n    case 'addTempMute':\r\n      text = `${(data.attach.toNick[0]||data.attach.to[0])}被管理员临时禁言`\r\n      break;\r\n    case 'removeTempMute':\r\n      text = `${(data.attach.toNick[0]||data.attach.to[0])}被管理员解除临时禁言`\r\n      break;\r\n    case 'addCommon':\r\n      text = `管理员添加普通成员`\r\n      break\r\n    case 'removeCommon':\r\n      text = `管理员删除普通成员`\r\n      break\r\n    case 'kickMember':\r\n      text = `${data.attach.toNick[0]}被管理员踢出房间`\r\n      break;\r\n    // case 'xxx':\r\n    // 直播公告已更新\r\n    // break;\r\n    default:\r\n      text = '通知消息'\r\n      break\r\n  }\r\n  return text\r\n}\r\n\r\nUtils.generateTeamSysmMsg = function (data) {\r\n  var text, nicks = this.getNickNames(data.attach.users)\r\n  switch (data.attach.type) {\r\n    case 'updateTeam':\r\n      text = this.getTeamUpdateInfo(data)\r\n      break;\r\n    case 'addTeamMembers': {\r\n      let op = nicks.pop()\r\n      text = `${op}邀请${nicks.join()}加入群`\r\n      break;\r\n    }\r\n    case 'removeTeamMembers': {\r\n      let op = nicks.pop()\r\n      text = `${nicks.join()}被${op}移出群`\r\n      break;\r\n    }\r\n    case 'acceptTeamInvite': {\r\n      let op = nicks.pop()\r\n      text = `${nicks.join()}接受了${op}入群邀请`\r\n      break;\r\n    }\r\n    case 'passTeamApply': {\r\n      let op = nicks.shift()\r\n      if (nicks.length===1 && op===nicks[0]) {\r\n        // 此情况为高级群设置不需要验证，用户申请入群后，收到的群消息提示\r\n        text = `${op}加入群`\r\n      } else {\r\n        text = `${op}通过了${nicks}入群邀请`\r\n      }\r\n      break;\r\n    }\r\n    case 'addTeamManagers': {\r\n      // todo test\r\n      let op = nicks.pop()\r\n      text = `${op}新增了${nicks}为管理员`\r\n      break;\r\n    }\r\n    case 'removeTeamManagers': {\r\n      // todo test\r\n      let op = nicks.pop()\r\n      text = `${op}移除了${nicks}的管理员权限`\r\n      break;\r\n    }\r\n    case 'leaveTeam': {\r\n      text = `${nicks.join()}退出了群`\r\n      break;\r\n    }\r\n    case 'dismissTeam': {\r\n      text = `${nicks.join()}解散了群`\r\n      break;\r\n    }\r\n    case 'transferTeam': {\r\n      // todo test\r\n      let nicks = this.getNickNames(data.attach.users)\r\n      let op = nicks.shift()\r\n      text = `${op}转让群主给${nicks}`\r\n      break;\r\n    }\r\n    case 'updateTeamMute':{\r\n      let nicks = this.getNickNames(data.attach.users)\r\n      let op = nicks.shift()\r\n      text = `${nicks}被管理员${data.attach.mute ? '禁言' : '解除禁言'}`\r\n      break;\r\n    }\r\n    default:\r\n      break;\r\n  }\r\n  return text\r\n}\r\n\r\n// todo 写成私有成员方法\r\nUtils.getNickNames = function(users) {\r\n  return users.map(user => {\r\n    return user.account === store.state.userUID? '你' : user.nick\r\n  })\r\n}\r\n\r\n// todo 写成私有成员方法\r\nUtils.getTeamUpdateInfo = function(msg) {\r\n  let text, team = msg.attach.team, op = this.getNickNames(msg.attach.users).pop()\r\n  if (team['name']) {\r\n    text = `${op}修改群名为${team['name']}`\r\n  } else if (team['intro']) {\r\n    text = `${op}修改群介绍为${team['intro']}`\r\n  } \r\n  // 由于群公告的交互与 Android iOS 不一致，现版本不适配群公告\r\n  // else if (team['announcement']) {\r\n  //   text = `${op}修改群公告为${team['announcement']}`\r\n  // } \r\n  else if (team['joinMode']) {\r\n    text = `群身份验证模式更新为${team.joinMode === 'noVerify' ? '不需要验证' : team.joinMode === 'needVerify' ? '需要验证' : '禁止任何人加入'}`\r\n  } else if (team['inviteMode']) {\r\n    text = `邀请他人权限为${team['inviteMode'] === 'all' ? '所有人' : '管理员'}`\r\n  } else if (team['updateTeamMode']) {\r\n    text = `群资料修改权限为${team['updateTeamMode'] === 'all' ? '所有人' : '管理员'}`\r\n  } else if (team['beInviteMode']) {\r\n    text = `被邀请人身份${team['beInviteMode'] === 'noVerify' ? '不需要验证' : '需要验证'}`\r\n  } else {\r\n    text = '更新群信息'\r\n  }\r\n  return text\r\n}\r\n\r\nUtils.teamConfigMap = {\r\n  joinMode: {\r\n    'noVerify': '不需要验证',\r\n    'needVerify': '需要验证',\r\n    'rejectAll': '禁止任何人加入'\r\n  },\r\n  beInviteMode: {\r\n    'needVerify': '需要验证',\r\n    'noVerify': '不需要验证'\r\n  },\r\n  inviteMode: {\r\n    'manager': '管理员邀请',\r\n    'all': '所有人邀请'\r\n  },\r\n  updateTeamMode: {\r\n    'manager': '管理员修改',\r\n    'all': '所有人修改'\r\n  },\r\n  memberType: {\r\n    'manager': '管理员',\r\n    'normal': '普通成员'\r\n  }\r\n}\r\n\r\nexport default Utils","\r\nconst cookie = {\r\n  //写cookies \r\n  setCookie: function(name, value) { \r\n    let days = 1\r\n    let exp = new Date()\r\n    exp.setTime(exp.getTime() + days*24*60*60*1000)\r\n    document.cookie = name + '=' + escape (value) + ';expires=' + exp.toGMTString()\r\n  },\r\n  //读取cookies \r\n  readCookie: function (name) {\r\n    let arr = null\r\n    let reg = new RegExp('(^| )'+name+'=([^;]*)(;|$)')\r\n    if (document.cookie && (arr = document.cookie.match(reg))) {\r\n      return unescape(arr[2])\r\n    } else {\r\n      return null;\r\n    } \r\n  }, \r\n  //删除cookies \r\n  delCookie: function (name) { \r\n    let cval = this.readCookie(name)\r\n    if (cval!=null) {\r\n      document.cookie = name + '=' + cval + ';expires=' + (new Date(0)).toGMTString()\r\n    }\r\n  }  \r\n}\r\n\r\nexport default cookie\r\n","let config = {\r\n  sdk: 'NIM_Web_SDK_v6.1.0.js',\r\n  // 用户自定义的登录注册地址\r\n  loginUrl: '/#/login2',\r\n  registUrl: '/#/regist2',\r\n  homeUrl: '/#/session',\r\n\r\n  // 资源路径根目录，为了方便用户部署在二级以上URL路径上\r\n  resourceUrl: 'http://yx-web.nos.netease.com/webdoc/h5',\r\n  // 用户logo地址\r\n  logo: 'http://yx-web.nos.netease.com/webdoc/h5/im/logo.png',\r\n  // 默认用户头像\r\n  defaultUserIcon: 'http://yx-web.nos.netease.com/webdoc/h5/im/default-icon.png',\r\n  // 默认普通群头像\r\n  defaultGroupIcon: 'http://yx-web.nos.netease.com/webdoc/h5/im/default-group.png',\r\n  // 默认高级群头像\r\n  defaultAdvancedIcon: 'http://yx-web.nos.netease.com/webdoc/h5/im/default-advanced.png',\r\n  // 系统通知图标\r\n  noticeIcon: 'http://yx-web.nos.netease.com/webdoc/h5/im/notice-icon.png',\r\n  // 我的手机图标\r\n  myPhoneIcon: 'http://yx-web.nos.netease.com/webdoc/h5/im/my-phone.png',\r\n  // 本地消息显示数量，会影响性能\r\n  localMsglimit: 36,\r\n  useDb: false\r\n}\r\n\r\nconst env = 'online'\r\n\r\nlet appConfig = {\r\n  // 用户的appkey\r\n  // 用于在web demo中注册账号异步请求demo 服务器中使用\r\n  test: {\r\n    appkey: 'fe416640c8e8a72734219e1847ad2547',\r\n    postUrl: 'https://apptest.netease.im'\r\n  },\r\n  online: {\r\n    appkey: '45c6af3c98409b18a84451215d0bdd6e',\r\n    postUrl: 'https://app.netease.im'\r\n  }\r\n}\r\n\r\nconfig = Object.assign(config, appConfig[env])\r\n\r\nexport default config\r\n"],"sourceRoot":""}